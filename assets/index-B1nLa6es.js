var VB=Object.defineProperty;var WB=(n,e,t)=>e in n?VB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var bf=(n,e,t)=>WB(n,typeof e!="symbol"?e+"":e,t);function nP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rP={exports:{}},H_={},iP={exports:{}},tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=Symbol.for("react.element"),jB=Symbol.for("react.portal"),XB=Symbol.for("react.fragment"),qB=Symbol.for("react.strict_mode"),YB=Symbol.for("react.profiler"),KB=Symbol.for("react.provider"),$B=Symbol.for("react.context"),QB=Symbol.for("react.forward_ref"),JB=Symbol.for("react.suspense"),ZB=Symbol.for("react.memo"),ek=Symbol.for("react.lazy"),tA=Symbol.iterator;function tk(n){return n===null||typeof n!="object"?null:(n=tA&&n[tA]||n["@@iterator"],typeof n=="function"?n:null)}var sP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oP=Object.assign,aP={};function _p(n,e,t){this.props=n,this.context=e,this.refs=aP,this.updater=t||sP}_p.prototype.isReactComponent={};_p.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_p.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function lP(){}lP.prototype=_p.prototype;function iM(n,e,t){this.props=n,this.context=e,this.refs=aP,this.updater=t||sP}var sM=iM.prototype=new lP;sM.constructor=iM;oP(sM,_p.prototype);sM.isPureReactComponent=!0;var nA=Array.isArray,uP=Object.prototype.hasOwnProperty,oM={current:null},cP={key:!0,ref:!0,__self:!0,__source:!0};function fP(n,e,t){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)uP.call(e,r)&&!cP.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){for(var o=Array(l),u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}if(n&&n.defaultProps)for(r in l=n.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zg,type:n,key:s,ref:a,props:i,_owner:oM.current}}function nk(n,e){return{$$typeof:Zg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function aM(n){return typeof n=="object"&&n!==null&&n.$$typeof===Zg}function rk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var rA=/\/+/g;function x1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?rk(""+n.key):e.toString(36)}function T0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Zg:case jB:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+x1(a,0):r,nA(i)?(t="",n!=null&&(t=n.replace(rA,"$&/")+"/"),T0(i,e,t,"",function(u){return u})):i!=null&&(aM(i)&&(i=nk(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rA,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",nA(n))for(var l=0;l<n.length;l++){s=n[l];var o=r+x1(s,l);a+=T0(s,e,t,o,i)}else if(o=tk(n),typeof o=="function")for(n=o.call(n),l=0;!(s=n.next()).done;)s=s.value,o=r+x1(s,l++),a+=T0(s,e,t,o,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dy(n,e,t){if(n==null)return n;var r=[],i=0;return T0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function ik(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var no={current:null},A0={transition:null},sk={ReactCurrentDispatcher:no,ReactCurrentBatchConfig:A0,ReactCurrentOwner:oM};function hP(){throw Error("act(...) is not supported in production builds of React.")}tr.Children={map:dy,forEach:function(n,e,t){dy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return dy(n,function(){e++}),e},toArray:function(n){return dy(n,function(e){return e})||[]},only:function(n){if(!aM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};tr.Component=_p;tr.Fragment=XB;tr.Profiler=YB;tr.PureComponent=iM;tr.StrictMode=qB;tr.Suspense=JB;tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sk;tr.act=hP;tr.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=oP({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=oM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(o in e)uP.call(e,o)&&!cP.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&l!==void 0?l[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){l=Array(o);for(var u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zg,type:n.type,key:i,ref:s,props:r,_owner:a}};tr.createContext=function(n){return n={$$typeof:$B,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:KB,_context:n},n.Consumer=n};tr.createElement=fP;tr.createFactory=function(n){var e=fP.bind(null,n);return e.type=n,e};tr.createRef=function(){return{current:null}};tr.forwardRef=function(n){return{$$typeof:QB,render:n}};tr.isValidElement=aM;tr.lazy=function(n){return{$$typeof:ek,_payload:{_status:-1,_result:n},_init:ik}};tr.memo=function(n,e){return{$$typeof:ZB,type:n,compare:e===void 0?null:e}};tr.startTransition=function(n){var e=A0.transition;A0.transition={};try{n()}finally{A0.transition=e}};tr.unstable_act=hP;tr.useCallback=function(n,e){return no.current.useCallback(n,e)};tr.useContext=function(n){return no.current.useContext(n)};tr.useDebugValue=function(){};tr.useDeferredValue=function(n){return no.current.useDeferredValue(n)};tr.useEffect=function(n,e){return no.current.useEffect(n,e)};tr.useId=function(){return no.current.useId()};tr.useImperativeHandle=function(n,e,t){return no.current.useImperativeHandle(n,e,t)};tr.useInsertionEffect=function(n,e){return no.current.useInsertionEffect(n,e)};tr.useLayoutEffect=function(n,e){return no.current.useLayoutEffect(n,e)};tr.useMemo=function(n,e){return no.current.useMemo(n,e)};tr.useReducer=function(n,e,t){return no.current.useReducer(n,e,t)};tr.useRef=function(n){return no.current.useRef(n)};tr.useState=function(n){return no.current.useState(n)};tr.useSyncExternalStore=function(n,e,t){return no.current.useSyncExternalStore(n,e,t)};tr.useTransition=function(){return no.current.useTransition()};tr.version="18.3.1";iP.exports=tr;var Ae=iP.exports;const ii=Jg(Ae),ok=nP({__proto__:null,default:ii},[Ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=Ae,lk=Symbol.for("react.element"),uk=Symbol.for("react.fragment"),ck=Object.prototype.hasOwnProperty,fk=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hk={key:!0,ref:!0,__self:!0,__source:!0};function dP(n,e,t){var r,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ck.call(e,r)&&!hk.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lk,type:n,key:s,ref:a,props:i,_owner:fk.current}}H_.Fragment=uk;H_.jsx=dP;H_.jsxs=dP;rP.exports=H_;var ee=rP.exports,tw={},pP={exports:{}},jo={},mP={exports:{}},gP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,V){var k=G.length;G.push(V);e:for(;0<k;){var ie=k-1>>>1,te=G[ie];if(0<i(te,V))G[ie]=V,G[k]=te,k=ie;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var V=G[0],k=G.pop();if(k!==V){G[0]=k;e:for(var ie=0,te=G.length,se=te>>>1;ie<se;){var oe=2*(ie+1)-1,ve=G[oe],xe=oe+1,he=G[xe];if(0>i(ve,k))xe<te&&0>i(he,ve)?(G[ie]=he,G[xe]=k,ie=xe):(G[ie]=ve,G[oe]=k,ie=oe);else if(xe<te&&0>i(he,k))G[ie]=he,G[xe]=k,ie=xe;else break e}}return V}function i(G,V){var k=G.sortIndex-V.sortIndex;return k!==0?k:G.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var o=[],u=[],c=1,f=null,p=3,g=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var V=t(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=G)r(u),V.sortIndex=V.expirationTime,e(o,V);else break;V=t(u)}}function T(G){if(x=!1,E(G),!v)if(t(o)!==null)v=!0,re(L);else{var V=t(u);V!==null&&W(T,V.startTime-G)}}function L(G,V){v=!1,x&&(x=!1,_(U),U=-1),g=!0;var k=p;try{for(E(V),f=t(o);f!==null&&(!(f.expirationTime>V)||G&&!N());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var te=ie(f.expirationTime<=V);V=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(o)&&r(o),E(V)}else r(o);f=t(o)}if(f!==null)var se=!0;else{var oe=t(u);oe!==null&&W(T,oe.startTime-V),se=!1}return se}finally{f=null,p=k,g=!1}}var A=!1,O=null,U=-1,F=5,P=-1;function N(){return!(n.unstable_now()-P<F)}function K(){if(O!==null){var G=n.unstable_now();P=G;var V=!0;try{V=O(!0,G)}finally{V?$():(A=!1,O=null)}}else A=!1}var $;if(typeof w=="function")$=function(){w(K)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,le=j.port2;j.port1.onmessage=K,$=function(){le.postMessage(null)}}else $=function(){S(K,0)};function re(G){O=G,A||(A=!0,$())}function W(G,V){U=S(function(){G(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,re(L))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(o)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var k=p;p=V;try{return G()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var k=p;p=G;try{return V()}finally{p=k}},n.unstable_scheduleCallback=function(G,V,k){var ie=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?ie+k:ie):k=ie,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=k+te,G={id:c++,callback:V,priorityLevel:G,startTime:k,expirationTime:te,sortIndex:-1},k>ie?(G.sortIndex=k,e(u,G),t(o)===null&&G===t(u)&&(x?(_(U),U=-1):x=!0,W(T,k-ie))):(G.sortIndex=te,e(o,G),v||g||(v=!0,re(L))),G},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(G){var V=p;return function(){var k=p;p=V;try{return G.apply(this,arguments)}finally{p=k}}}})(gP);mP.exports=gP;var dk=mP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=Ae,Wo=dk;function Ot(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vP=new Set,cg={};function yh(n,e){ip(n,e),ip(n+"Capture",e)}function ip(n,e){for(cg[n]=e,n=0;n<e.length;n++)vP.add(e[n])}var xu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nw=Object.prototype.hasOwnProperty,mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iA={},sA={};function gk(n){return nw.call(sA,n)?!0:nw.call(iA,n)?!1:mk.test(n)?sA[n]=!0:(iA[n]=!0,!1)}function vk(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function yk(n,e,t,r){if(e===null||typeof e>"u"||vk(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ro(n,e,t,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ys[n]=new ro(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ys[e]=new ro(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ys[n]=new ro(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ys[n]=new ro(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ys[n]=new ro(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ys[n]=new ro(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ys[n]=new ro(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ys[n]=new ro(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ys[n]=new ro(n,5,!1,n.toLowerCase(),null,!1,!1)});var lM=/[\-:]([a-z])/g;function uM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(lM,uM);ys[e]=new ro(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(lM,uM);ys[e]=new ro(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(lM,uM);ys[e]=new ro(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ys[n]=new ro(n,1,!1,n.toLowerCase(),null,!1,!1)});ys.xlinkHref=new ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ys[n]=new ro(n,1,!1,n.toLowerCase(),null,!0,!0)});function cM(n,e,t,r){var i=ys.hasOwnProperty(e)?ys[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yk(e,t,i,r)&&(t=null),r||i===null?gk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Au=pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,py=Symbol.for("react.element"),Od=Symbol.for("react.portal"),Id=Symbol.for("react.fragment"),fM=Symbol.for("react.strict_mode"),rw=Symbol.for("react.profiler"),yP=Symbol.for("react.provider"),_P=Symbol.for("react.context"),hM=Symbol.for("react.forward_ref"),iw=Symbol.for("react.suspense"),sw=Symbol.for("react.suspense_list"),dM=Symbol.for("react.memo"),fc=Symbol.for("react.lazy"),xP=Symbol.for("react.offscreen"),oA=Symbol.iterator;function mm(n){return n===null||typeof n!="object"?null:(n=oA&&n[oA]||n["@@iterator"],typeof n=="function"?n:null)}var ai=Object.assign,S1;function Hm(n){if(S1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);S1=e&&e[1]||""}return`
`+S1+n}var w1=!1;function E1(n,e){if(!n||w1)return"";w1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var o=`
`+i[a].replace(" at new "," at ");return n.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",n.displayName)),o}while(1<=a&&0<=l);break}}}finally{w1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Hm(n):""}function _k(n){switch(n.tag){case 5:return Hm(n.type);case 16:return Hm("Lazy");case 13:return Hm("Suspense");case 19:return Hm("SuspenseList");case 0:case 2:case 15:return n=E1(n.type,!1),n;case 11:return n=E1(n.type.render,!1),n;case 1:return n=E1(n.type,!0),n;default:return""}}function ow(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Id:return"Fragment";case Od:return"Portal";case rw:return"Profiler";case fM:return"StrictMode";case iw:return"Suspense";case sw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _P:return(n.displayName||"Context")+".Consumer";case yP:return(n._context.displayName||"Context")+".Provider";case hM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dM:return e=n.displayName||null,e!==null?e:ow(n.type)||"Memo";case fc:e=n._payload,n=n._init;try{return ow(n(e))}catch{}}return null}function xk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ow(e);case 8:return e===fM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function SP(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sk(n){var e=SP(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function my(n){n._valueTracker||(n._valueTracker=Sk(n))}function wP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=SP(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Z0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function aw(n,e){var t=e.checked;return ai({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function aA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Nc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EP(n,e){e=e.checked,e!=null&&cM(n,"checked",e,!1)}function lw(n,e){EP(n,e);var t=Nc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?uw(n,e.type,t):e.hasOwnProperty("defaultValue")&&uw(n,e.type,Nc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function lA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function uw(n,e,t){(e!=="number"||Z0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Gm=Array.isArray;function $d(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Nc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function cw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ot(91));return ai({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function uA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ot(92));if(Gm(t)){if(1<t.length)throw Error(Ot(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Nc(t)}}function MP(n,e){var t=Nc(e.value),r=Nc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function cA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function bP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?bP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gy,TP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(gy=gy||document.createElement("div"),gy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function fg(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var qm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wk=["Webkit","ms","Moz","O"];Object.keys(qm).forEach(function(n){wk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),qm[e]=qm[n]})});function AP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||qm.hasOwnProperty(n)&&qm[n]?(""+e).trim():e+"px"}function CP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=AP(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Ek=ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hw(n,e){if(e){if(Ek[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ot(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ot(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ot(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ot(62))}}function dw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pw=null;function pM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mw=null,Qd=null,Jd=null;function fA(n){if(n=nv(n)){if(typeof mw!="function")throw Error(Ot(280));var e=n.stateNode;e&&(e=X_(e),mw(n.stateNode,n.type,e))}}function RP(n){Qd?Jd?Jd.push(n):Jd=[n]:Qd=n}function PP(){if(Qd){var n=Qd,e=Jd;if(Jd=Qd=null,fA(n),e)for(n=0;n<e.length;n++)fA(e[n])}}function LP(n,e){return n(e)}function OP(){}var M1=!1;function IP(n,e,t){if(M1)return n(e,t);M1=!0;try{return LP(n,e,t)}finally{M1=!1,(Qd!==null||Jd!==null)&&(OP(),PP())}}function hg(n,e){var t=n.stateNode;if(t===null)return null;var r=X_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ot(231,e,typeof t));return t}var gw=!1;if(xu)try{var gm={};Object.defineProperty(gm,"passive",{get:function(){gw=!0}}),window.addEventListener("test",gm,gm),window.removeEventListener("test",gm,gm)}catch{gw=!1}function Mk(n,e,t,r,i,s,a,l,o){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Ym=!1,e_=null,t_=!1,vw=null,bk={onError:function(n){Ym=!0,e_=n}};function Tk(n,e,t,r,i,s,a,l,o){Ym=!1,e_=null,Mk.apply(bk,arguments)}function Ak(n,e,t,r,i,s,a,l,o){if(Tk.apply(this,arguments),Ym){if(Ym){var u=e_;Ym=!1,e_=null}else throw Error(Ot(198));t_||(t_=!0,vw=u)}}function _h(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function NP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function hA(n){if(_h(n)!==n)throw Error(Ot(188))}function Ck(n){var e=n.alternate;if(!e){if(e=_h(n),e===null)throw Error(Ot(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return hA(i),n;if(s===r)return hA(i),e;s=s.sibling}throw Error(Ot(188))}if(t.return!==r.return)t=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===t){a=!0,t=i,r=s;break}if(l===r){a=!0,r=i,t=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===t){a=!0,t=s,r=i;break}if(l===r){a=!0,r=s,t=i;break}l=l.sibling}if(!a)throw Error(Ot(189))}}if(t.alternate!==r)throw Error(Ot(190))}if(t.tag!==3)throw Error(Ot(188));return t.stateNode.current===t?n:e}function DP(n){return n=Ck(n),n!==null?UP(n):null}function UP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=UP(n);if(e!==null)return e;n=n.sibling}return null}var FP=Wo.unstable_scheduleCallback,dA=Wo.unstable_cancelCallback,Rk=Wo.unstable_shouldYield,Pk=Wo.unstable_requestPaint,Ii=Wo.unstable_now,Lk=Wo.unstable_getCurrentPriorityLevel,mM=Wo.unstable_ImmediatePriority,BP=Wo.unstable_UserBlockingPriority,n_=Wo.unstable_NormalPriority,Ok=Wo.unstable_LowPriority,kP=Wo.unstable_IdlePriority,G_=null,Tl=null;function Ik(n){if(Tl&&typeof Tl.onCommitFiberRoot=="function")try{Tl.onCommitFiberRoot(G_,n,void 0,(n.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:Uk,Nk=Math.log,Dk=Math.LN2;function Uk(n){return n>>>=0,n===0?32:31-(Nk(n)/Dk|0)|0}var vy=64,yy=4194304;function Vm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function r_(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var l=a&~i;l!==0?r=Vm(l):(s&=a,s!==0&&(r=Vm(s)))}else a=t&~i,a!==0?r=Vm(a):s!==0&&(r=Vm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ja(e),i=1<<t,r|=n[t],e&=~i;return r}function Fk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bk(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-ja(s),l=1<<a,o=i[a];o===-1?(!(l&t)||l&r)&&(i[a]=Fk(l,e)):o<=e&&(n.expiredLanes|=l),s&=~l}}function yw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zP(){var n=vy;return vy<<=1,!(vy&4194240)&&(vy=64),n}function b1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ev(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ja(e),n[e]=t}function kk(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ja(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function gM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ja(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ir=0;function HP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var GP,vM,VP,WP,jP,_w=!1,_y=[],wc=null,Ec=null,Mc=null,dg=new Map,pg=new Map,gc=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pA(n,e){switch(n){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":dg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pg.delete(e.pointerId)}}function vm(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nv(e),e!==null&&vM(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Hk(n,e,t,r,i){switch(e){case"focusin":return wc=vm(wc,n,e,t,r,i),!0;case"dragenter":return Ec=vm(Ec,n,e,t,r,i),!0;case"mouseover":return Mc=vm(Mc,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return dg.set(s,vm(dg.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pg.set(s,vm(pg.get(s)||null,n,e,t,r,i)),!0}return!1}function XP(n){var e=Vf(n.target);if(e!==null){var t=_h(e);if(t!==null){if(e=t.tag,e===13){if(e=NP(t),e!==null){n.blockedOn=e,jP(n.priority,function(){VP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function C0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=xw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);pw=r,t.target.dispatchEvent(r),pw=null}else return e=nv(t),e!==null&&vM(e),n.blockedOn=t,!1;e.shift()}return!0}function mA(n,e,t){C0(n)&&t.delete(e)}function Gk(){_w=!1,wc!==null&&C0(wc)&&(wc=null),Ec!==null&&C0(Ec)&&(Ec=null),Mc!==null&&C0(Mc)&&(Mc=null),dg.forEach(mA),pg.forEach(mA)}function ym(n,e){n.blockedOn===e&&(n.blockedOn=null,_w||(_w=!0,Wo.unstable_scheduleCallback(Wo.unstable_NormalPriority,Gk)))}function mg(n){function e(i){return ym(i,n)}if(0<_y.length){ym(_y[0],n);for(var t=1;t<_y.length;t++){var r=_y[t];r.blockedOn===n&&(r.blockedOn=null)}}for(wc!==null&&ym(wc,n),Ec!==null&&ym(Ec,n),Mc!==null&&ym(Mc,n),dg.forEach(e),pg.forEach(e),t=0;t<gc.length;t++)r=gc[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<gc.length&&(t=gc[0],t.blockedOn===null);)XP(t),t.blockedOn===null&&gc.shift()}var Zd=Au.ReactCurrentBatchConfig,i_=!0;function Vk(n,e,t,r){var i=Ir,s=Zd.transition;Zd.transition=null;try{Ir=1,yM(n,e,t,r)}finally{Ir=i,Zd.transition=s}}function Wk(n,e,t,r){var i=Ir,s=Zd.transition;Zd.transition=null;try{Ir=4,yM(n,e,t,r)}finally{Ir=i,Zd.transition=s}}function yM(n,e,t,r){if(i_){var i=xw(n,e,t,r);if(i===null)D1(n,e,r,s_,t),pA(n,r);else if(Hk(i,n,e,t,r))r.stopPropagation();else if(pA(n,r),e&4&&-1<zk.indexOf(n)){for(;i!==null;){var s=nv(i);if(s!==null&&GP(s),s=xw(n,e,t,r),s===null&&D1(n,e,r,s_,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else D1(n,e,r,null,t)}}var s_=null;function xw(n,e,t,r){if(s_=null,n=pM(r),n=Vf(n),n!==null)if(e=_h(n),e===null)n=null;else if(t=e.tag,t===13){if(n=NP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return s_=n,null}function qP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lk()){case mM:return 1;case BP:return 4;case n_:case Ok:return 16;case kP:return 536870912;default:return 16}default:return 16}}var xc=null,_M=null,R0=null;function YP(){if(R0)return R0;var n,e=_M,t=e.length,r,i="value"in xc?xc.value:xc.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[s-r];r++);return R0=i.slice(n,1<r?1-r:void 0)}function P0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function xy(){return!0}function gA(){return!1}function Xo(n){function e(t,r,i,s,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xy:gA,this.isPropagationStopped=gA,this}return ai(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=xy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=xy)},persist:function(){},isPersistent:xy}),e}var xp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xM=Xo(xp),tv=ai({},xp,{view:0,detail:0}),jk=Xo(tv),T1,A1,_m,V_=ai({},tv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_m&&(_m&&n.type==="mousemove"?(T1=n.screenX-_m.screenX,A1=n.screenY-_m.screenY):A1=T1=0,_m=n),T1)},movementY:function(n){return"movementY"in n?n.movementY:A1}}),vA=Xo(V_),Xk=ai({},V_,{dataTransfer:0}),qk=Xo(Xk),Yk=ai({},tv,{relatedTarget:0}),C1=Xo(Yk),Kk=ai({},xp,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=Xo(Kk),Qk=ai({},xp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jk=Xo(Qk),Zk=ai({},xp,{data:0}),yA=Xo(Zk),e5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r5(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=n5[n])?!!e[n]:!1}function SM(){return r5}var i5=ai({},tv,{key:function(n){if(n.key){var e=e5[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=P0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?t5[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SM,charCode:function(n){return n.type==="keypress"?P0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?P0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),s5=Xo(i5),o5=ai({},V_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=Xo(o5),a5=ai({},tv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SM}),l5=Xo(a5),u5=ai({},xp,{propertyName:0,elapsedTime:0,pseudoElement:0}),c5=Xo(u5),f5=ai({},V_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),h5=Xo(f5),d5=[9,13,27,32],wM=xu&&"CompositionEvent"in window,Km=null;xu&&"documentMode"in document&&(Km=document.documentMode);var p5=xu&&"TextEvent"in window&&!Km,KP=xu&&(!wM||Km&&8<Km&&11>=Km),xA=" ",SA=!1;function $P(n,e){switch(n){case"keyup":return d5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nd=!1;function m5(n,e){switch(n){case"compositionend":return QP(e);case"keypress":return e.which!==32?null:(SA=!0,xA);case"textInput":return n=e.data,n===xA&&SA?null:n;default:return null}}function g5(n,e){if(Nd)return n==="compositionend"||!wM&&$P(n,e)?(n=YP(),R0=_M=xc=null,Nd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KP&&e.locale!=="ko"?null:e.data;default:return null}}var v5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!v5[n.type]:e==="textarea"}function JP(n,e,t,r){RP(r),e=o_(e,"onChange"),0<e.length&&(t=new xM("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var $m=null,gg=null;function y5(n){u3(n,0)}function W_(n){var e=Fd(n);if(wP(e))return n}function _5(n,e){if(n==="change")return e}var ZP=!1;if(xu){var R1;if(xu){var P1="oninput"in document;if(!P1){var EA=document.createElement("div");EA.setAttribute("oninput","return;"),P1=typeof EA.oninput=="function"}R1=P1}else R1=!1;ZP=R1&&(!document.documentMode||9<document.documentMode)}function MA(){$m&&($m.detachEvent("onpropertychange",e3),gg=$m=null)}function e3(n){if(n.propertyName==="value"&&W_(gg)){var e=[];JP(e,gg,n,pM(n)),IP(y5,e)}}function x5(n,e,t){n==="focusin"?(MA(),$m=e,gg=t,$m.attachEvent("onpropertychange",e3)):n==="focusout"&&MA()}function S5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return W_(gg)}function w5(n,e){if(n==="click")return W_(e)}function E5(n,e){if(n==="input"||n==="change")return W_(e)}function M5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ya=typeof Object.is=="function"?Object.is:M5;function vg(n,e){if(Ya(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!nw.call(e,i)||!Ya(n[i],e[i]))return!1}return!0}function bA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function TA(n,e){var t=bA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=bA(t)}}function t3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?t3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function n3(){for(var n=window,e=Z0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Z0(n.document)}return e}function EM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function b5(n){var e=n3(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&t3(t.ownerDocument.documentElement,t)){if(r!==null&&EM(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=TA(t,s);var a=TA(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var T5=xu&&"documentMode"in document&&11>=document.documentMode,Dd=null,Sw=null,Qm=null,ww=!1;function AA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ww||Dd==null||Dd!==Z0(r)||(r=Dd,"selectionStart"in r&&EM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qm&&vg(Qm,r)||(Qm=r,r=o_(Sw,"onSelect"),0<r.length&&(e=new xM("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Dd)))}function Sy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ud={animationend:Sy("Animation","AnimationEnd"),animationiteration:Sy("Animation","AnimationIteration"),animationstart:Sy("Animation","AnimationStart"),transitionend:Sy("Transition","TransitionEnd")},L1={},r3={};xu&&(r3=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function j_(n){if(L1[n])return L1[n];if(!Ud[n])return n;var e=Ud[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in r3)return L1[n]=e[t];return n}var i3=j_("animationend"),s3=j_("animationiteration"),o3=j_("animationstart"),a3=j_("transitionend"),l3=new Map,CA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zc(n,e){l3.set(n,e),yh(e,[n])}for(var O1=0;O1<CA.length;O1++){var I1=CA[O1],A5=I1.toLowerCase(),C5=I1[0].toUpperCase()+I1.slice(1);zc(A5,"on"+C5)}zc(i3,"onAnimationEnd");zc(s3,"onAnimationIteration");zc(o3,"onAnimationStart");zc("dblclick","onDoubleClick");zc("focusin","onFocus");zc("focusout","onBlur");zc(a3,"onTransitionEnd");ip("onMouseEnter",["mouseout","mouseover"]);ip("onMouseLeave",["mouseout","mouseover"]);ip("onPointerEnter",["pointerout","pointerover"]);ip("onPointerLeave",["pointerout","pointerover"]);yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wm));function RA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Ak(r,e,void 0,n),n.currentTarget=null}function u3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;RA(i,l,u),s=o}else for(a=0;a<r.length;a++){if(l=r[a],o=l.instance,u=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;RA(i,l,u),s=o}}}if(t_)throw n=vw,t_=!1,vw=null,n}function Xr(n,e){var t=e[Aw];t===void 0&&(t=e[Aw]=new Set);var r=n+"__bubble";t.has(r)||(c3(e,n,2,!1),t.add(r))}function N1(n,e,t){var r=0;e&&(r|=4),c3(t,n,r,e)}var wy="_reactListening"+Math.random().toString(36).slice(2);function yg(n){if(!n[wy]){n[wy]=!0,vP.forEach(function(t){t!=="selectionchange"&&(R5.has(t)||N1(t,!1,n),N1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[wy]||(e[wy]=!0,N1("selectionchange",!1,e))}}function c3(n,e,t,r){switch(qP(e)){case 1:var i=Vk;break;case 4:i=Wk;break;default:i=yM}t=i.bind(null,e,t,n),i=void 0,!gw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function D1(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Vf(l),a===null)return;if(o=a.tag,o===5||o===6){r=s=a;continue e}l=l.parentNode}}r=r.return}IP(function(){var u=s,c=pM(t),f=[];e:{var p=l3.get(n);if(p!==void 0){var g=xM,v=n;switch(n){case"keypress":if(P0(t)===0)break e;case"keydown":case"keyup":g=s5;break;case"focusin":v="focus",g=C1;break;case"focusout":v="blur",g=C1;break;case"beforeblur":case"afterblur":g=C1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=l5;break;case i3:case s3:case o3:g=$k;break;case a3:g=c5;break;case"scroll":g=jk;break;case"wheel":g=h5;break;case"copy":case"cut":case"paste":g=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_A}var x=(e&4)!==0,S=!x&&n==="scroll",_=x?p!==null?p+"Capture":null:p;x=[];for(var w=u,E;w!==null;){E=w;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,_!==null&&(T=hg(w,_),T!=null&&x.push(_g(w,T,E)))),S)break;w=w.return}0<x.length&&(p=new g(p,v,null,t,c),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==pw&&(v=t.relatedTarget||t.fromElement)&&(Vf(v)||v[Su]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=u,v=v?Vf(v):null,v!==null&&(S=_h(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=vA,T="onMouseLeave",_="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(x=_A,T="onPointerLeave",_="onPointerEnter",w="pointer"),S=g==null?p:Fd(g),E=v==null?p:Fd(v),p=new x(T,w+"leave",g,t,c),p.target=S,p.relatedTarget=E,T=null,Vf(c)===u&&(x=new x(_,w+"enter",v,t,c),x.target=E,x.relatedTarget=S,T=x),S=T,g&&v)t:{for(x=g,_=v,w=0,E=x;E;E=rd(E))w++;for(E=0,T=_;T;T=rd(T))E++;for(;0<w-E;)x=rd(x),w--;for(;0<E-w;)_=rd(_),E--;for(;w--;){if(x===_||_!==null&&x===_.alternate)break t;x=rd(x),_=rd(_)}x=null}else x=null;g!==null&&PA(f,p,g,x,!1),v!==null&&S!==null&&PA(f,S,v,x,!0)}}e:{if(p=u?Fd(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=_5;else if(wA(p))if(ZP)L=E5;else{L=S5;var A=x5}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=w5);if(L&&(L=L(n,u))){JP(f,L,t,c);break e}A&&A(n,p,u),n==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&uw(p,"number",p.value)}switch(A=u?Fd(u):window,n){case"focusin":(wA(A)||A.contentEditable==="true")&&(Dd=A,Sw=u,Qm=null);break;case"focusout":Qm=Sw=Dd=null;break;case"mousedown":ww=!0;break;case"contextmenu":case"mouseup":case"dragend":ww=!1,AA(f,t,c);break;case"selectionchange":if(T5)break;case"keydown":case"keyup":AA(f,t,c)}var O;if(wM)e:{switch(n){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Nd?$P(n,t)&&(U="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(U="onCompositionStart");U&&(KP&&t.locale!=="ko"&&(Nd||U!=="onCompositionStart"?U==="onCompositionEnd"&&Nd&&(O=YP()):(xc=c,_M="value"in xc?xc.value:xc.textContent,Nd=!0)),A=o_(u,U),0<A.length&&(U=new yA(U,n,null,t,c),f.push({event:U,listeners:A}),O?U.data=O:(O=QP(t),O!==null&&(U.data=O)))),(O=p5?m5(n,t):g5(n,t))&&(u=o_(u,"onBeforeInput"),0<u.length&&(c=new yA("onBeforeInput","beforeinput",null,t,c),f.push({event:c,listeners:u}),c.data=O))}u3(f,e)})}function _g(n,e,t){return{instance:n,listener:e,currentTarget:t}}function o_(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hg(n,t),s!=null&&r.unshift(_g(n,s,i)),s=hg(n,e),s!=null&&r.push(_g(n,s,i))),n=n.return}return r}function rd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function PA(n,e,t,r,i){for(var s=e._reactName,a=[];t!==null&&t!==r;){var l=t,o=l.alternate,u=l.stateNode;if(o!==null&&o===r)break;l.tag===5&&u!==null&&(l=u,i?(o=hg(t,s),o!=null&&a.unshift(_g(t,o,l))):i||(o=hg(t,s),o!=null&&a.push(_g(t,o,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var P5=/\r\n?/g,L5=/\u0000|\uFFFD/g;function LA(n){return(typeof n=="string"?n:""+n).replace(P5,`
`).replace(L5,"")}function Ey(n,e,t){if(e=LA(e),LA(n)!==e&&t)throw Error(Ot(425))}function a_(){}var Ew=null,Mw=null;function bw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tw=typeof setTimeout=="function"?setTimeout:void 0,O5=typeof clearTimeout=="function"?clearTimeout:void 0,OA=typeof Promise=="function"?Promise:void 0,I5=typeof queueMicrotask=="function"?queueMicrotask:typeof OA<"u"?function(n){return OA.resolve(null).then(n).catch(N5)}:Tw;function N5(n){setTimeout(function(){throw n})}function U1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),mg(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);mg(e)}function bc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function IA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Sp=Math.random().toString(36).slice(2),Sl="__reactFiber$"+Sp,xg="__reactProps$"+Sp,Su="__reactContainer$"+Sp,Aw="__reactEvents$"+Sp,D5="__reactListeners$"+Sp,U5="__reactHandles$"+Sp;function Vf(n){var e=n[Sl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Su]||t[Sl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=IA(n);n!==null;){if(t=n[Sl])return t;n=IA(n)}return e}n=t,t=n.parentNode}return null}function nv(n){return n=n[Sl]||n[Su],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ot(33))}function X_(n){return n[xg]||null}var Cw=[],Bd=-1;function Hc(n){return{current:n}}function qr(n){0>Bd||(n.current=Cw[Bd],Cw[Bd]=null,Bd--)}function Wr(n,e){Bd++,Cw[Bd]=n.current,n.current=e}var Dc={},Ns=Hc(Dc),xo=Hc(!1),lh=Dc;function sp(n,e){var t=n.type.contextTypes;if(!t)return Dc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function So(n){return n=n.childContextTypes,n!=null}function l_(){qr(xo),qr(Ns)}function NA(n,e,t){if(Ns.current!==Dc)throw Error(Ot(168));Wr(Ns,e),Wr(xo,t)}function f3(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ot(108,xk(n)||"Unknown",i));return ai({},t,r)}function u_(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Dc,lh=Ns.current,Wr(Ns,n),Wr(xo,xo.current),!0}function DA(n,e,t){var r=n.stateNode;if(!r)throw Error(Ot(169));t?(n=f3(n,e,lh),r.__reactInternalMemoizedMergedChildContext=n,qr(xo),qr(Ns),Wr(Ns,n)):qr(xo),Wr(xo,t)}var cu=null,q_=!1,F1=!1;function h3(n){cu===null?cu=[n]:cu.push(n)}function F5(n){q_=!0,h3(n)}function Gc(){if(!F1&&cu!==null){F1=!0;var n=0,e=Ir;try{var t=cu;for(Ir=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}cu=null,q_=!1}catch(i){throw cu!==null&&(cu=cu.slice(n+1)),FP(mM,Gc),i}finally{Ir=e,F1=!1}}return null}var kd=[],zd=0,c_=null,f_=0,oa=[],aa=0,uh=null,du=1,pu="";function Uf(n,e){kd[zd++]=f_,kd[zd++]=c_,c_=n,f_=e}function d3(n,e,t){oa[aa++]=du,oa[aa++]=pu,oa[aa++]=uh,uh=n;var r=du;n=pu;var i=32-ja(r)-1;r&=~(1<<i),t+=1;var s=32-ja(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,du=1<<32-ja(e)+i|t<<i|r,pu=s+n}else du=1<<s|t<<i|r,pu=n}function MM(n){n.return!==null&&(Uf(n,1),d3(n,1,0))}function bM(n){for(;n===c_;)c_=kd[--zd],kd[zd]=null,f_=kd[--zd],kd[zd]=null;for(;n===uh;)uh=oa[--aa],oa[aa]=null,pu=oa[--aa],oa[aa]=null,du=oa[--aa],oa[aa]=null}var Go=null,Ho=null,Kr=!1,Va=null;function p3(n,e){var t=ua(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function UA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Go=n,Ho=bc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Go=n,Ho=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=uh!==null?{id:du,overflow:pu}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ua(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Go=n,Ho=null,!0):!1;default:return!1}}function Rw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Pw(n){if(Kr){var e=Ho;if(e){var t=e;if(!UA(n,e)){if(Rw(n))throw Error(Ot(418));e=bc(t.nextSibling);var r=Go;e&&UA(n,e)?p3(r,t):(n.flags=n.flags&-4097|2,Kr=!1,Go=n)}}else{if(Rw(n))throw Error(Ot(418));n.flags=n.flags&-4097|2,Kr=!1,Go=n}}}function FA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Go=n}function My(n){if(n!==Go)return!1;if(!Kr)return FA(n),Kr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!bw(n.type,n.memoizedProps)),e&&(e=Ho)){if(Rw(n))throw m3(),Error(Ot(418));for(;e;)p3(n,e),e=bc(e.nextSibling)}if(FA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ot(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ho=bc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ho=null}}else Ho=Go?bc(n.stateNode.nextSibling):null;return!0}function m3(){for(var n=Ho;n;)n=bc(n.nextSibling)}function op(){Ho=Go=null,Kr=!1}function TM(n){Va===null?Va=[n]:Va.push(n)}var B5=Au.ReactCurrentBatchConfig;function xm(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ot(309));var r=t.stateNode}if(!r)throw Error(Ot(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ot(284));if(!t._owner)throw Error(Ot(290,n))}return n}function by(n,e){throw n=Object.prototype.toString.call(e),Error(Ot(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function BA(n){var e=n._init;return e(n._payload)}function g3(n){function e(_,w){if(n){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function t(_,w){if(!n)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Rc(_,w),_.index=0,_.sibling=null,_}function s(_,w,E){return _.index=E,n?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function a(_){return n&&_.alternate===null&&(_.flags|=2),_}function l(_,w,E,T){return w===null||w.tag!==6?(w=W1(E,_.mode,T),w.return=_,w):(w=i(w,E),w.return=_,w)}function o(_,w,E,T){var L=E.type;return L===Id?c(_,w,E.props.children,T,E.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===fc&&BA(L)===w.type)?(T=i(w,E.props),T.ref=xm(_,w,E),T.return=_,T):(T=F0(E.type,E.key,E.props,null,_.mode,T),T.ref=xm(_,w,E),T.return=_,T)}function u(_,w,E,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=j1(E,_.mode,T),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function c(_,w,E,T,L){return w===null||w.tag!==7?(w=th(E,_.mode,T,L),w.return=_,w):(w=i(w,E),w.return=_,w)}function f(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=W1(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case py:return E=F0(w.type,w.key,w.props,null,_.mode,E),E.ref=xm(_,null,w),E.return=_,E;case Od:return w=j1(w,_.mode,E),w.return=_,w;case fc:var T=w._init;return f(_,T(w._payload),E)}if(Gm(w)||mm(w))return w=th(w,_.mode,E,null),w.return=_,w;by(_,w)}return null}function p(_,w,E,T){var L=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:l(_,w,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case py:return E.key===L?o(_,w,E,T):null;case Od:return E.key===L?u(_,w,E,T):null;case fc:return L=E._init,p(_,w,L(E._payload),T)}if(Gm(E)||mm(E))return L!==null?null:c(_,w,E,T,null);by(_,E)}return null}function g(_,w,E,T,L){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(E)||null,l(w,_,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case py:return _=_.get(T.key===null?E:T.key)||null,o(w,_,T,L);case Od:return _=_.get(T.key===null?E:T.key)||null,u(w,_,T,L);case fc:var A=T._init;return g(_,w,E,A(T._payload),L)}if(Gm(T)||mm(T))return _=_.get(E)||null,c(w,_,T,L,null);by(w,T)}return null}function v(_,w,E,T){for(var L=null,A=null,O=w,U=w=0,F=null;O!==null&&U<E.length;U++){O.index>U?(F=O,O=null):F=O.sibling;var P=p(_,O,E[U],T);if(P===null){O===null&&(O=F);break}n&&O&&P.alternate===null&&e(_,O),w=s(P,w,U),A===null?L=P:A.sibling=P,A=P,O=F}if(U===E.length)return t(_,O),Kr&&Uf(_,U),L;if(O===null){for(;U<E.length;U++)O=f(_,E[U],T),O!==null&&(w=s(O,w,U),A===null?L=O:A.sibling=O,A=O);return Kr&&Uf(_,U),L}for(O=r(_,O);U<E.length;U++)F=g(O,_,U,E[U],T),F!==null&&(n&&F.alternate!==null&&O.delete(F.key===null?U:F.key),w=s(F,w,U),A===null?L=F:A.sibling=F,A=F);return n&&O.forEach(function(N){return e(_,N)}),Kr&&Uf(_,U),L}function x(_,w,E,T){var L=mm(E);if(typeof L!="function")throw Error(Ot(150));if(E=L.call(E),E==null)throw Error(Ot(151));for(var A=L=null,O=w,U=w=0,F=null,P=E.next();O!==null&&!P.done;U++,P=E.next()){O.index>U?(F=O,O=null):F=O.sibling;var N=p(_,O,P.value,T);if(N===null){O===null&&(O=F);break}n&&O&&N.alternate===null&&e(_,O),w=s(N,w,U),A===null?L=N:A.sibling=N,A=N,O=F}if(P.done)return t(_,O),Kr&&Uf(_,U),L;if(O===null){for(;!P.done;U++,P=E.next())P=f(_,P.value,T),P!==null&&(w=s(P,w,U),A===null?L=P:A.sibling=P,A=P);return Kr&&Uf(_,U),L}for(O=r(_,O);!P.done;U++,P=E.next())P=g(O,_,U,P.value,T),P!==null&&(n&&P.alternate!==null&&O.delete(P.key===null?U:P.key),w=s(P,w,U),A===null?L=P:A.sibling=P,A=P);return n&&O.forEach(function(K){return e(_,K)}),Kr&&Uf(_,U),L}function S(_,w,E,T){if(typeof E=="object"&&E!==null&&E.type===Id&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case py:e:{for(var L=E.key,A=w;A!==null;){if(A.key===L){if(L=E.type,L===Id){if(A.tag===7){t(_,A.sibling),w=i(A,E.props.children),w.return=_,_=w;break e}}else if(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===fc&&BA(L)===A.type){t(_,A.sibling),w=i(A,E.props),w.ref=xm(_,A,E),w.return=_,_=w;break e}t(_,A);break}else e(_,A);A=A.sibling}E.type===Id?(w=th(E.props.children,_.mode,T,E.key),w.return=_,_=w):(T=F0(E.type,E.key,E.props,null,_.mode,T),T.ref=xm(_,w,E),T.return=_,_=T)}return a(_);case Od:e:{for(A=E.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){t(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{t(_,w);break}else e(_,w);w=w.sibling}w=j1(E,_.mode,T),w.return=_,_=w}return a(_);case fc:return A=E._init,S(_,w,A(E._payload),T)}if(Gm(E))return v(_,w,E,T);if(mm(E))return x(_,w,E,T);by(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(t(_,w.sibling),w=i(w,E),w.return=_,_=w):(t(_,w),w=W1(E,_.mode,T),w.return=_,_=w),a(_)):t(_,w)}return S}var ap=g3(!0),v3=g3(!1),h_=Hc(null),d_=null,Hd=null,AM=null;function CM(){AM=Hd=d_=null}function RM(n){var e=h_.current;qr(h_),n._currentValue=e}function Lw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ep(n,e){d_=n,AM=Hd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(_o=!0),n.firstContext=null)}function pa(n){var e=n._currentValue;if(AM!==n)if(n={context:n,memoizedValue:e,next:null},Hd===null){if(d_===null)throw Error(Ot(308));Hd=n,d_.dependencies={lanes:0,firstContext:n}}else Hd=Hd.next=n;return e}var Wf=null;function PM(n){Wf===null?Wf=[n]:Wf.push(n)}function y3(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,PM(e)):(t.next=i.next,i.next=t),e.interleaved=t,wu(n,r)}function wu(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var hc=!1;function LM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function gu(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Tc(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,gr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wu(n,t)}return i=r.interleaved,i===null?(e.next=e,PM(r)):(e.next=i.next,i.next=e),r.interleaved=e,wu(n,t)}function L0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,gM(n,t)}}function kA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function p_(n,e,t,r){var i=n.updateQueue;hc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,a===null?s=u:a.next=u,a=o;var c=n.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==a&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=o))}if(s!==null){var f=i.baseState;a=0,c=u=o=null,l=s;do{var p=l.lane,g=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,x=l;switch(p=e,g=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=ai({},f,p);break e;case 2:hc=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,o=f):c=c.next=g,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(o=f),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fh|=a,n.lanes=a,n.memoizedState=f}}function zA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ot(191,i));i.call(r)}}}var rv={},Al=Hc(rv),Sg=Hc(rv),wg=Hc(rv);function jf(n){if(n===rv)throw Error(Ot(174));return n}function OM(n,e){switch(Wr(wg,e),Wr(Sg,n),Wr(Al,rv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=fw(e,n)}qr(Al),Wr(Al,e)}function lp(){qr(Al),qr(Sg),qr(wg)}function x3(n){jf(wg.current);var e=jf(Al.current),t=fw(e,n.type);e!==t&&(Wr(Sg,n),Wr(Al,t))}function IM(n){Sg.current===n&&(qr(Al),qr(Sg))}var ni=Hc(0);function m_(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var B1=[];function NM(){for(var n=0;n<B1.length;n++)B1[n]._workInProgressVersionPrimary=null;B1.length=0}var O0=Au.ReactCurrentDispatcher,k1=Au.ReactCurrentBatchConfig,ch=0,oi=null,Wi=null,us=null,g_=!1,Jm=!1,Eg=0,k5=0;function Es(){throw Error(Ot(321))}function DM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ya(n[t],e[t]))return!1;return!0}function UM(n,e,t,r,i,s){if(ch=s,oi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O0.current=n===null||n.memoizedState===null?V5:W5,n=t(r,i),Jm){s=0;do{if(Jm=!1,Eg=0,25<=s)throw Error(Ot(301));s+=1,us=Wi=null,e.updateQueue=null,O0.current=j5,n=t(r,i)}while(Jm)}if(O0.current=v_,e=Wi!==null&&Wi.next!==null,ch=0,us=Wi=oi=null,g_=!1,e)throw Error(Ot(300));return n}function FM(){var n=Eg!==0;return Eg=0,n}function xl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return us===null?oi.memoizedState=us=n:us=us.next=n,us}function ma(){if(Wi===null){var n=oi.alternate;n=n!==null?n.memoizedState:null}else n=Wi.next;var e=us===null?oi.memoizedState:us.next;if(e!==null)us=e,Wi=n;else{if(n===null)throw Error(Ot(310));Wi=n,n={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},us===null?oi.memoizedState=us=n:us=us.next=n}return us}function Mg(n,e){return typeof e=="function"?e(n):e}function z1(n){var e=ma(),t=e.queue;if(t===null)throw Error(Ot(311));t.lastRenderedReducer=n;var r=Wi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,o=null,u=s;do{var c=u.lane;if((ch&c)===c)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(l=o=f,a=r):o=o.next=f,oi.lanes|=c,fh|=c}u=u.next}while(u!==null&&u!==s);o===null?a=r:o.next=l,Ya(r,e.memoizedState)||(_o=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=o,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,oi.lanes|=s,fh|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function H1(n){var e=ma(),t=e.queue;if(t===null)throw Error(Ot(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);Ya(s,e.memoizedState)||(_o=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function S3(){}function w3(n,e){var t=oi,r=ma(),i=e(),s=!Ya(r.memoizedState,i);if(s&&(r.memoizedState=i,_o=!0),r=r.queue,BM(b3.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||us!==null&&us.memoizedState.tag&1){if(t.flags|=2048,bg(9,M3.bind(null,t,r,i,e),void 0,null),fs===null)throw Error(Ot(349));ch&30||E3(t,e,i)}return i}function E3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=oi.updateQueue,e===null?(e={lastEffect:null,stores:null},oi.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function M3(n,e,t,r){e.value=t,e.getSnapshot=r,T3(e)&&A3(n)}function b3(n,e,t){return t(function(){T3(e)&&A3(n)})}function T3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ya(n,t)}catch{return!0}}function A3(n){var e=wu(n,1);e!==null&&Xa(e,n,1,-1)}function HA(n){var e=xl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},e.queue=n,n=n.dispatch=G5.bind(null,oi,n),[e.memoizedState,n]}function bg(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=oi.updateQueue,e===null?(e={lastEffect:null,stores:null},oi.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function C3(){return ma().memoizedState}function I0(n,e,t,r){var i=xl();oi.flags|=n,i.memoizedState=bg(1|e,t,void 0,r===void 0?null:r)}function Y_(n,e,t,r){var i=ma();r=r===void 0?null:r;var s=void 0;if(Wi!==null){var a=Wi.memoizedState;if(s=a.destroy,r!==null&&DM(r,a.deps)){i.memoizedState=bg(e,t,s,r);return}}oi.flags|=n,i.memoizedState=bg(1|e,t,s,r)}function GA(n,e){return I0(8390656,8,n,e)}function BM(n,e){return Y_(2048,8,n,e)}function R3(n,e){return Y_(4,2,n,e)}function P3(n,e){return Y_(4,4,n,e)}function L3(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function O3(n,e,t){return t=t!=null?t.concat([n]):null,Y_(4,4,L3.bind(null,e,n),t)}function kM(){}function I3(n,e){var t=ma();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&DM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function N3(n,e){var t=ma();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&DM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function D3(n,e,t){return ch&21?(Ya(t,e)||(t=zP(),oi.lanes|=t,fh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,_o=!0),n.memoizedState=t)}function z5(n,e){var t=Ir;Ir=t!==0&&4>t?t:4,n(!0);var r=k1.transition;k1.transition={};try{n(!1),e()}finally{Ir=t,k1.transition=r}}function U3(){return ma().memoizedState}function H5(n,e,t){var r=Cc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},F3(n))B3(e,t);else if(t=y3(n,e,t,r),t!==null){var i=Zs();Xa(t,n,r,i),k3(t,e,r)}}function G5(n,e,t){var r=Cc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(F3(n))B3(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,t);if(i.hasEagerState=!0,i.eagerState=l,Ya(l,a)){var o=e.interleaved;o===null?(i.next=i,PM(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}t=y3(n,e,i,r),t!==null&&(i=Zs(),Xa(t,n,r,i),k3(t,e,r))}}function F3(n){var e=n.alternate;return n===oi||e!==null&&e===oi}function B3(n,e){Jm=g_=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function k3(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,gM(n,t)}}var v_={readContext:pa,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},V5={readContext:pa,useCallback:function(n,e){return xl().memoizedState=[n,e===void 0?null:e],n},useContext:pa,useEffect:GA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,I0(4194308,4,L3.bind(null,e,n),t)},useLayoutEffect:function(n,e){return I0(4194308,4,n,e)},useInsertionEffect:function(n,e){return I0(4,2,n,e)},useMemo:function(n,e){var t=xl();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=xl();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=H5.bind(null,oi,n),[r.memoizedState,n]},useRef:function(n){var e=xl();return n={current:n},e.memoizedState=n},useState:HA,useDebugValue:kM,useDeferredValue:function(n){return xl().memoizedState=n},useTransition:function(){var n=HA(!1),e=n[0];return n=z5.bind(null,n[1]),xl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=oi,i=xl();if(Kr){if(t===void 0)throw Error(Ot(407));t=t()}else{if(t=e(),fs===null)throw Error(Ot(349));ch&30||E3(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,GA(b3.bind(null,r,s,n),[n]),r.flags|=2048,bg(9,M3.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=xl(),e=fs.identifierPrefix;if(Kr){var t=pu,r=du;t=(r&~(1<<32-ja(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Eg++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=k5++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},W5={readContext:pa,useCallback:I3,useContext:pa,useEffect:BM,useImperativeHandle:O3,useInsertionEffect:R3,useLayoutEffect:P3,useMemo:N3,useReducer:z1,useRef:C3,useState:function(){return z1(Mg)},useDebugValue:kM,useDeferredValue:function(n){var e=ma();return D3(e,Wi.memoizedState,n)},useTransition:function(){var n=z1(Mg)[0],e=ma().memoizedState;return[n,e]},useMutableSource:S3,useSyncExternalStore:w3,useId:U3,unstable_isNewReconciler:!1},j5={readContext:pa,useCallback:I3,useContext:pa,useEffect:BM,useImperativeHandle:O3,useInsertionEffect:R3,useLayoutEffect:P3,useMemo:N3,useReducer:H1,useRef:C3,useState:function(){return H1(Mg)},useDebugValue:kM,useDeferredValue:function(n){var e=ma();return Wi===null?e.memoizedState=n:D3(e,Wi.memoizedState,n)},useTransition:function(){var n=H1(Mg)[0],e=ma().memoizedState;return[n,e]},useMutableSource:S3,useSyncExternalStore:w3,useId:U3,unstable_isNewReconciler:!1};function ka(n,e){if(n&&n.defaultProps){e=ai({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ow(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ai({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var K_={isMounted:function(n){return(n=n._reactInternals)?_h(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zs(),i=Cc(n),s=gu(r,i);s.payload=e,t!=null&&(s.callback=t),e=Tc(n,s,i),e!==null&&(Xa(e,n,i,r),L0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zs(),i=Cc(n),s=gu(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Tc(n,s,i),e!==null&&(Xa(e,n,i,r),L0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zs(),r=Cc(n),i=gu(t,r);i.tag=2,e!=null&&(i.callback=e),e=Tc(n,i,r),e!==null&&(Xa(e,n,r,t),L0(e,n,r))}};function VA(n,e,t,r,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!vg(t,r)||!vg(i,s):!0}function z3(n,e,t){var r=!1,i=Dc,s=e.contextType;return typeof s=="object"&&s!==null?s=pa(s):(i=So(e)?lh:Ns.current,r=e.contextTypes,s=(r=r!=null)?sp(n,i):Dc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=K_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function WA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&K_.enqueueReplaceState(e,e.state,null)}function Iw(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},LM(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pa(s):(s=So(e)?lh:Ns.current,i.context=sp(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ow(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&K_.enqueueReplaceState(i,i.state,null),p_(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function up(n,e){try{var t="",r=e;do t+=_k(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function G1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Nw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var X5=typeof WeakMap=="function"?WeakMap:Map;function H3(n,e,t){t=gu(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){__||(__=!0,Ww=r),Nw(n,e)},t}function G3(n,e,t){t=gu(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Nw(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Nw(n,e),typeof r!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function jA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new X5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=oz.bind(null,n,e,t),e.then(n,n))}function XA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function qA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=gu(-1,1),e.tag=2,Tc(t,e,1))),t.lanes|=1),n)}var q5=Au.ReactCurrentOwner,_o=!1;function $s(n,e,t,r){e.child=n===null?v3(e,null,t,r):ap(e,n.child,t,r)}function YA(n,e,t,r,i){t=t.render;var s=e.ref;return ep(e,i),r=UM(n,e,t,r,s,i),t=FM(),n!==null&&!_o?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Eu(n,e,i)):(Kr&&t&&MM(e),e.flags|=1,$s(n,e,r,i),e.child)}function KA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!qM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,V3(n,e,s,r,i)):(n=F0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:vg,t(a,r)&&n.ref===e.ref)return Eu(n,e,i)}return e.flags|=1,n=Rc(s,r),n.ref=e.ref,n.return=e,e.child=n}function V3(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(vg(s,r)&&n.ref===e.ref)if(_o=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(_o=!0);else return e.lanes=n.lanes,Eu(n,e,i)}return Dw(n,e,t,r,i)}function W3(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Vd,Fo),Fo|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wr(Vd,Fo),Fo|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Wr(Vd,Fo),Fo|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Wr(Vd,Fo),Fo|=r;return $s(n,e,i,t),e.child}function j3(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Dw(n,e,t,r,i){var s=So(t)?lh:Ns.current;return s=sp(e,s),ep(e,i),t=UM(n,e,t,r,s,i),r=FM(),n!==null&&!_o?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Eu(n,e,i)):(Kr&&r&&MM(e),e.flags|=1,$s(n,e,t,i),e.child)}function $A(n,e,t,r,i){if(So(t)){var s=!0;u_(e)}else s=!1;if(ep(e,i),e.stateNode===null)N0(n,e),z3(e,t,r),Iw(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var o=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=pa(u):(u=So(t)?lh:Ns.current,u=sp(e,u));var c=t.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||o!==u)&&WA(e,a,r,u),hc=!1;var p=e.memoizedState;a.state=p,p_(e,r,a,i),o=e.memoizedState,l!==r||p!==o||xo.current||hc?(typeof c=="function"&&(Ow(e,t,c,r),o=e.memoizedState),(l=hc||VA(e,t,l,r,p,o,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),a.props=r,a.state=o,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,_3(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:ka(e.type,l),a.props=u,f=e.pendingProps,p=a.context,o=t.contextType,typeof o=="object"&&o!==null?o=pa(o):(o=So(t)?lh:Ns.current,o=sp(e,o));var g=t.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==o)&&WA(e,a,r,o),hc=!1,p=e.memoizedState,a.state=p,p_(e,r,a,i);var v=e.memoizedState;l!==f||p!==v||xo.current||hc?(typeof g=="function"&&(Ow(e,t,g,r),v=e.memoizedState),(u=hc||VA(e,t,u,r,p,v,o)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=o,r=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Uw(n,e,t,r,s,i)}function Uw(n,e,t,r,i,s){j3(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&DA(e,t,!1),Eu(n,e,s);r=e.stateNode,q5.current=e;var l=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=ap(e,n.child,null,s),e.child=ap(e,null,l,s)):$s(n,e,l,s),e.memoizedState=r.state,i&&DA(e,t,!0),e.child}function X3(n){var e=n.stateNode;e.pendingContext?NA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&NA(n,e.context,!1),OM(n,e.containerInfo)}function QA(n,e,t,r,i){return op(),TM(i),e.flags|=256,$s(n,e,t,r),e.child}var Fw={dehydrated:null,treeContext:null,retryLane:0};function Bw(n){return{baseLanes:n,cachePool:null,transitions:null}}function q3(n,e,t){var r=e.pendingProps,i=ni.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Wr(ni,i&1),n===null)return Pw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=J_(a,r,0,null),n=th(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Bw(t),e.memoizedState=Fw,n):zM(e,a));if(i=n.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Y5(n,e,a,r,l,i,t);if(s){s=r.fallback,a=e.mode,i=n.child,l=i.sibling;var o={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Rc(i,o),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Rc(l,s):(s=th(s,a,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=n.child.memoizedState,a=a===null?Bw(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=Fw,r}return s=n.child,n=s.sibling,r=Rc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function zM(n,e){return e=J_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ty(n,e,t,r){return r!==null&&TM(r),ap(e,n.child,null,t),n=zM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Y5(n,e,t,r,i,s,a){if(t)return e.flags&256?(e.flags&=-257,r=G1(Error(Ot(422))),Ty(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=J_({mode:"visible",children:r.children},i,0,null),s=th(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ap(e,n.child,null,a),e.child.memoizedState=Bw(a),e.memoizedState=Fw,s);if(!(e.mode&1))return Ty(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Ot(419)),r=G1(s,r,void 0),Ty(n,e,a,r)}if(l=(a&n.childLanes)!==0,_o||l){if(r=fs,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wu(n,i),Xa(r,n,i,-1))}return XM(),r=G1(Error(Ot(421))),Ty(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=az.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ho=bc(i.nextSibling),Go=e,Kr=!0,Va=null,n!==null&&(oa[aa++]=du,oa[aa++]=pu,oa[aa++]=uh,du=n.id,pu=n.overflow,uh=e),e=zM(e,r.children),e.flags|=4096,e)}function JA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Lw(n.return,e,t)}function V1(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function Y3(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($s(n,e,r.children,t),r=ni.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&JA(n,t,e);else if(n.tag===19)JA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Wr(ni,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&m_(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),V1(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&m_(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}V1(e,!0,t,null,s);break;case"together":V1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function N0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Eu(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),fh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ot(153));if(e.child!==null){for(n=e.child,t=Rc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Rc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function K5(n,e,t){switch(e.tag){case 3:X3(e),op();break;case 5:x3(e);break;case 1:So(e.type)&&u_(e);break;case 4:OM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wr(h_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wr(ni,ni.current&1),e.flags|=128,null):t&e.child.childLanes?q3(n,e,t):(Wr(ni,ni.current&1),n=Eu(n,e,t),n!==null?n.sibling:null);Wr(ni,ni.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Y3(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wr(ni,ni.current),r)break;return null;case 22:case 23:return e.lanes=0,W3(n,e,t)}return Eu(n,e,t)}var K3,kw,$3,Q3;K3=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};kw=function(){};$3=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,jf(Al.current);var s=null;switch(t){case"input":i=aw(n,i),r=aw(n,r),s=[];break;case"select":i=ai({},i,{value:void 0}),r=ai({},r,{value:void 0}),s=[];break;case"textarea":i=cw(n,i),r=cw(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=a_)}hw(t,r);var a;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var o=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&o!==l&&(o!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in o)o.hasOwnProperty(a)&&l[a]!==o[a]&&(t||(t={}),t[a]=o[a])}else t||(s||(s=[]),s.push(u,t)),t=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(s=s||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cg.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&Xr("scroll",n),s||l===o||(s=[])):(s=s||[]).push(u,o))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Q3=function(n,e,t,r){t!==r&&(e.flags|=4)};function Sm(n,e){if(!Kr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ms(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function $5(n,e,t){var r=e.pendingProps;switch(bM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ms(e),null;case 1:return So(e.type)&&l_(),Ms(e),null;case 3:return r=e.stateNode,lp(),qr(xo),qr(Ns),NM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(My(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Va!==null&&(qw(Va),Va=null))),kw(n,e),Ms(e),null;case 5:IM(e);var i=jf(wg.current);if(t=e.type,n!==null&&e.stateNode!=null)$3(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ot(166));return Ms(e),null}if(n=jf(Al.current),My(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Sl]=e,r[xg]=s,n=(e.mode&1)!==0,t){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(i=0;i<Wm.length;i++)Xr(Wm[i],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":aA(r,s),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xr("invalid",r);break;case"textarea":uA(r,s),Xr("invalid",r)}hw(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ey(r.textContent,l,n),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ey(r.textContent,l,n),i=["children",""+l]):cg.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xr("scroll",r)}switch(t){case"input":my(r),lA(r,s,!0);break;case"textarea":my(r),cA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=a_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=bP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Sl]=e,n[xg]=r,K3(n,e,!1,!1),e.stateNode=n;e:{switch(a=dw(t,r),t){case"dialog":Xr("cancel",n),Xr("close",n),i=r;break;case"iframe":case"object":case"embed":Xr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Wm.length;i++)Xr(Wm[i],n);i=r;break;case"source":Xr("error",n),i=r;break;case"img":case"image":case"link":Xr("error",n),Xr("load",n),i=r;break;case"details":Xr("toggle",n),i=r;break;case"input":aA(n,r),i=aw(n,r),Xr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ai({},r,{value:void 0}),Xr("invalid",n);break;case"textarea":uA(n,r),i=cw(n,r),Xr("invalid",n);break;default:i=r}hw(t,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var o=l[s];s==="style"?CP(n,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&TP(n,o)):s==="children"?typeof o=="string"?(t!=="textarea"||o!=="")&&fg(n,o):typeof o=="number"&&fg(n,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cg.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Xr("scroll",n):o!=null&&cM(n,s,o,a))}switch(t){case"input":my(n),lA(n,r,!1);break;case"textarea":my(n),cA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Nc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?$d(n,!!r.multiple,s,!1):r.defaultValue!=null&&$d(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=a_)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ms(e),null;case 6:if(n&&e.stateNode!=null)Q3(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ot(166));if(t=jf(wg.current),jf(Al.current),My(e)){if(r=e.stateNode,t=e.memoizedProps,r[Sl]=e,(s=r.nodeValue!==t)&&(n=Go,n!==null))switch(n.tag){case 3:Ey(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ey(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Sl]=e,e.stateNode=r}return Ms(e),null;case 13:if(qr(ni),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Kr&&Ho!==null&&e.mode&1&&!(e.flags&128))m3(),op(),e.flags|=98560,s=!1;else if(s=My(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ot(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ot(317));s[Sl]=e}else op(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ms(e),s=!1}else Va!==null&&(qw(Va),Va=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ni.current&1?Xi===0&&(Xi=3):XM())),e.updateQueue!==null&&(e.flags|=4),Ms(e),null);case 4:return lp(),kw(n,e),n===null&&yg(e.stateNode.containerInfo),Ms(e),null;case 10:return RM(e.type._context),Ms(e),null;case 17:return So(e.type)&&l_(),Ms(e),null;case 19:if(qr(ni),s=e.memoizedState,s===null)return Ms(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Sm(s,!1);else{if(Xi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=m_(n),a!==null){for(e.flags|=128,Sm(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Wr(ni,ni.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ii()>cp&&(e.flags|=128,r=!0,Sm(s,!1),e.lanes=4194304)}else{if(!r)if(n=m_(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Sm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Kr)return Ms(e),null}else 2*Ii()-s.renderingStartTime>cp&&t!==1073741824&&(e.flags|=128,r=!0,Sm(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ii(),e.sibling=null,t=ni.current,Wr(ni,r?t&1|2:t&1),e):(Ms(e),null);case 22:case 23:return jM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fo&1073741824&&(Ms(e),e.subtreeFlags&6&&(e.flags|=8192)):Ms(e),null;case 24:return null;case 25:return null}throw Error(Ot(156,e.tag))}function Q5(n,e){switch(bM(e),e.tag){case 1:return So(e.type)&&l_(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return lp(),qr(xo),qr(Ns),NM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return IM(e),null;case 13:if(qr(ni),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ot(340));op()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return qr(ni),null;case 4:return lp(),null;case 10:return RM(e.type._context),null;case 22:case 23:return jM(),null;case 24:return null;default:return null}}var Ay=!1,Ps=!1,J5=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Gd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){vi(n,e,r)}else t.current=null}function zw(n,e,t){try{t()}catch(r){vi(n,e,r)}}var ZA=!1;function Z5(n,e){if(Ew=i_,n=n3(),EM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,l=-1,o=-1,u=0,c=0,f=n,p=null;t:for(;;){for(var g;f!==t||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(o=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===n)break t;if(p===t&&++u===i&&(l=a),p===s&&++c===r&&(o=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}t=l===-1||o===-1?null:{start:l,end:o}}else t=null}t=t||{start:0,end:0}}else t=null;for(Mw={focusedElem:n,selectionRange:t},i_=!1,nn=e;nn!==null;)if(e=nn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,nn=n;else for(;nn!==null;){e=nn;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,S=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:ka(e.type,x),S);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ot(163))}}catch(T){vi(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,nn=n;break}nn=e.return}return v=ZA,ZA=!1,v}function Zm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&zw(e,t,s)}i=i.next}while(i!==r)}}function $_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Hw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function J3(n){var e=n.alternate;e!==null&&(n.alternate=null,J3(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Sl],delete e[xg],delete e[Aw],delete e[D5],delete e[U5])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Z3(n){return n.tag===5||n.tag===3||n.tag===4}function e2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Z3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=a_));else if(r!==4&&(n=n.child,n!==null))for(Gw(n,e,t),n=n.sibling;n!==null;)Gw(n,e,t),n=n.sibling}function Vw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Vw(n,e,t),n=n.sibling;n!==null;)Vw(n,e,t),n=n.sibling}var ms=null,Ha=!1;function Ju(n,e,t){for(t=t.child;t!==null;)eL(n,e,t),t=t.sibling}function eL(n,e,t){if(Tl&&typeof Tl.onCommitFiberUnmount=="function")try{Tl.onCommitFiberUnmount(G_,t)}catch{}switch(t.tag){case 5:Ps||Gd(t,e);case 6:var r=ms,i=Ha;ms=null,Ju(n,e,t),ms=r,Ha=i,ms!==null&&(Ha?(n=ms,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ms.removeChild(t.stateNode));break;case 18:ms!==null&&(Ha?(n=ms,t=t.stateNode,n.nodeType===8?U1(n.parentNode,t):n.nodeType===1&&U1(n,t),mg(n)):U1(ms,t.stateNode));break;case 4:r=ms,i=Ha,ms=t.stateNode.containerInfo,Ha=!0,Ju(n,e,t),ms=r,Ha=i;break;case 0:case 11:case 14:case 15:if(!Ps&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zw(t,e,a),i=i.next}while(i!==r)}Ju(n,e,t);break;case 1:if(!Ps&&(Gd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(l){vi(t,e,l)}Ju(n,e,t);break;case 21:Ju(n,e,t);break;case 22:t.mode&1?(Ps=(r=Ps)||t.memoizedState!==null,Ju(n,e,t),Ps=r):Ju(n,e,t);break;default:Ju(n,e,t)}}function t2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new J5),e.forEach(function(r){var i=lz.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Da(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ms=l.stateNode,Ha=!1;break e;case 3:ms=l.stateNode.containerInfo,Ha=!0;break e;case 4:ms=l.stateNode.containerInfo,Ha=!0;break e}l=l.return}if(ms===null)throw Error(Ot(160));eL(s,a,i),ms=null,Ha=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){vi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tL(e,n),e=e.sibling}function tL(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Da(e,n),_l(n),r&4){try{Zm(3,n,n.return),$_(3,n)}catch(x){vi(n,n.return,x)}try{Zm(5,n,n.return)}catch(x){vi(n,n.return,x)}}break;case 1:Da(e,n),_l(n),r&512&&t!==null&&Gd(t,t.return);break;case 5:if(Da(e,n),_l(n),r&512&&t!==null&&Gd(t,t.return),n.flags&32){var i=n.stateNode;try{fg(i,"")}catch(x){vi(n,n.return,x)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,l=n.type,o=n.updateQueue;if(n.updateQueue=null,o!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&EP(i,s),dw(l,a);var u=dw(l,s);for(a=0;a<o.length;a+=2){var c=o[a],f=o[a+1];c==="style"?CP(i,f):c==="dangerouslySetInnerHTML"?TP(i,f):c==="children"?fg(i,f):cM(i,c,f,u)}switch(l){case"input":lw(i,s);break;case"textarea":MP(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?$d(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?$d(i,!!s.multiple,s.defaultValue,!0):$d(i,!!s.multiple,s.multiple?[]:"",!1))}i[xg]=s}catch(x){vi(n,n.return,x)}}break;case 6:if(Da(e,n),_l(n),r&4){if(n.stateNode===null)throw Error(Ot(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){vi(n,n.return,x)}}break;case 3:if(Da(e,n),_l(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{mg(e.containerInfo)}catch(x){vi(n,n.return,x)}break;case 4:Da(e,n),_l(n);break;case 13:Da(e,n),_l(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VM=Ii())),r&4&&t2(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Ps=(u=Ps)||c,Da(e,n),Ps=u):Da(e,n),_l(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(nn=n,c=n.child;c!==null;){for(f=nn=c;nn!==null;){switch(p=nn,g=p.child,p.tag){case 0:case 11:case 14:case 15:Zm(4,p,p.return);break;case 1:Gd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){vi(r,t,x)}}break;case 5:Gd(p,p.return);break;case 22:if(p.memoizedState!==null){r2(f);continue}}g!==null?(g.return=p,nn=g):r2(f)}c=c.sibling}e:for(c=null,f=n;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,o=f.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=AP("display",a))}catch(x){vi(n,n.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){vi(n,n.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Da(e,n),_l(n),r&4&&t2(n);break;case 21:break;default:Da(e,n),_l(n)}}function _l(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Z3(t)){var r=t;break e}t=t.return}throw Error(Ot(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fg(i,""),r.flags&=-33);var s=e2(n);Vw(n,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=e2(n);Gw(n,l,a);break;default:throw Error(Ot(161))}}catch(o){vi(n,n.return,o)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function ez(n,e,t){nn=n,nL(n)}function nL(n,e,t){for(var r=(n.mode&1)!==0;nn!==null;){var i=nn,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ay;if(!a){var l=i.alternate,o=l!==null&&l.memoizedState!==null||Ps;l=Ay;var u=Ps;if(Ay=a,(Ps=o)&&!u)for(nn=i;nn!==null;)a=nn,o=a.child,a.tag===22&&a.memoizedState!==null?i2(i):o!==null?(o.return=a,nn=o):i2(i);for(;s!==null;)nn=s,nL(s),s=s.sibling;nn=i,Ay=l,Ps=u}n2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nn=s):n2(n)}}function n2(n){for(;nn!==null;){var e=nn;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ps||$_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ps)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ka(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zA(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}zA(e,a,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&t.focus();break;case"img":o.src&&(t.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&mg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ot(163))}Ps||e.flags&512&&Hw(e)}catch(p){vi(e,e.return,p)}}if(e===n){nn=null;break}if(t=e.sibling,t!==null){t.return=e.return,nn=t;break}nn=e.return}}function r2(n){for(;nn!==null;){var e=nn;if(e===n){nn=null;break}var t=e.sibling;if(t!==null){t.return=e.return,nn=t;break}nn=e.return}}function i2(n){for(;nn!==null;){var e=nn;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$_(4,e)}catch(o){vi(e,t,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(o){vi(e,i,o)}}var s=e.return;try{Hw(e)}catch(o){vi(e,s,o)}break;case 5:var a=e.return;try{Hw(e)}catch(o){vi(e,a,o)}}}catch(o){vi(e,e.return,o)}if(e===n){nn=null;break}var l=e.sibling;if(l!==null){l.return=e.return,nn=l;break}nn=e.return}}var tz=Math.ceil,y_=Au.ReactCurrentDispatcher,HM=Au.ReactCurrentOwner,ca=Au.ReactCurrentBatchConfig,gr=0,fs=null,Gi=null,vs=0,Fo=0,Vd=Hc(0),Xi=0,Tg=null,fh=0,Q_=0,GM=0,eg=null,vo=null,VM=0,cp=1/0,uu=null,__=!1,Ww=null,Ac=null,Cy=!1,Sc=null,x_=0,tg=0,jw=null,D0=-1,U0=0;function Zs(){return gr&6?Ii():D0!==-1?D0:D0=Ii()}function Cc(n){return n.mode&1?gr&2&&vs!==0?vs&-vs:B5.transition!==null?(U0===0&&(U0=zP()),U0):(n=Ir,n!==0||(n=window.event,n=n===void 0?16:qP(n.type)),n):1}function Xa(n,e,t,r){if(50<tg)throw tg=0,jw=null,Error(Ot(185));ev(n,t,r),(!(gr&2)||n!==fs)&&(n===fs&&(!(gr&2)&&(Q_|=t),Xi===4&&vc(n,vs)),wo(n,r),t===1&&gr===0&&!(e.mode&1)&&(cp=Ii()+500,q_&&Gc()))}function wo(n,e){var t=n.callbackNode;Bk(n,e);var r=r_(n,n===fs?vs:0);if(r===0)t!==null&&dA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&dA(t),e===1)n.tag===0?F5(s2.bind(null,n)):h3(s2.bind(null,n)),I5(function(){!(gr&6)&&Gc()}),t=null;else{switch(HP(r)){case 1:t=mM;break;case 4:t=BP;break;case 16:t=n_;break;case 536870912:t=kP;break;default:t=n_}t=cL(t,rL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function rL(n,e){if(D0=-1,U0=0,gr&6)throw Error(Ot(327));var t=n.callbackNode;if(tp()&&n.callbackNode!==t)return null;var r=r_(n,n===fs?vs:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=S_(n,r);else{e=r;var i=gr;gr|=2;var s=sL();(fs!==n||vs!==e)&&(uu=null,cp=Ii()+500,eh(n,e));do try{iz();break}catch(l){iL(n,l)}while(!0);CM(),y_.current=s,gr=i,Gi!==null?e=0:(fs=null,vs=0,e=Xi)}if(e!==0){if(e===2&&(i=yw(n),i!==0&&(r=i,e=Xw(n,i))),e===1)throw t=Tg,eh(n,0),vc(n,r),wo(n,Ii()),t;if(e===6)vc(n,r);else{if(i=n.current.alternate,!(r&30)&&!nz(i)&&(e=S_(n,r),e===2&&(s=yw(n),s!==0&&(r=s,e=Xw(n,s))),e===1))throw t=Tg,eh(n,0),vc(n,r),wo(n,Ii()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ot(345));case 2:Ff(n,vo,uu);break;case 3:if(vc(n,r),(r&130023424)===r&&(e=VM+500-Ii(),10<e)){if(r_(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Zs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Tw(Ff.bind(null,n,vo,uu),e);break}Ff(n,vo,uu);break;case 4:if(vc(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-ja(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Ii()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tz(r/1960))-r,10<r){n.timeoutHandle=Tw(Ff.bind(null,n,vo,uu),r);break}Ff(n,vo,uu);break;case 5:Ff(n,vo,uu);break;default:throw Error(Ot(329))}}}return wo(n,Ii()),n.callbackNode===t?rL.bind(null,n):null}function Xw(n,e){var t=eg;return n.current.memoizedState.isDehydrated&&(eh(n,e).flags|=256),n=S_(n,e),n!==2&&(e=vo,vo=t,e!==null&&qw(e)),n}function qw(n){vo===null?vo=n:vo.push.apply(vo,n)}function nz(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ya(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vc(n,e){for(e&=~GM,e&=~Q_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ja(e),r=1<<t;n[t]=-1,e&=~r}}function s2(n){if(gr&6)throw Error(Ot(327));tp();var e=r_(n,0);if(!(e&1))return wo(n,Ii()),null;var t=S_(n,e);if(n.tag!==0&&t===2){var r=yw(n);r!==0&&(e=r,t=Xw(n,r))}if(t===1)throw t=Tg,eh(n,0),vc(n,e),wo(n,Ii()),t;if(t===6)throw Error(Ot(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ff(n,vo,uu),wo(n,Ii()),null}function WM(n,e){var t=gr;gr|=1;try{return n(e)}finally{gr=t,gr===0&&(cp=Ii()+500,q_&&Gc())}}function hh(n){Sc!==null&&Sc.tag===0&&!(gr&6)&&tp();var e=gr;gr|=1;var t=ca.transition,r=Ir;try{if(ca.transition=null,Ir=1,n)return n()}finally{Ir=r,ca.transition=t,gr=e,!(gr&6)&&Gc()}}function jM(){Fo=Vd.current,qr(Vd)}function eh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,O5(t)),Gi!==null)for(t=Gi.return;t!==null;){var r=t;switch(bM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l_();break;case 3:lp(),qr(xo),qr(Ns),NM();break;case 5:IM(r);break;case 4:lp();break;case 13:qr(ni);break;case 19:qr(ni);break;case 10:RM(r.type._context);break;case 22:case 23:jM()}t=t.return}if(fs=n,Gi=n=Rc(n.current,null),vs=Fo=e,Xi=0,Tg=null,GM=Q_=fh=0,vo=eg=null,Wf!==null){for(e=0;e<Wf.length;e++)if(t=Wf[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}t.pending=r}Wf=null}return n}function iL(n,e){do{var t=Gi;try{if(CM(),O0.current=v_,g_){for(var r=oi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}g_=!1}if(ch=0,us=Wi=oi=null,Jm=!1,Eg=0,HM.current=null,t===null||t.return===null){Xi=1,Tg=e,Gi=null;break}e:{var s=n,a=t.return,l=t,o=e;if(e=vs,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=XA(a);if(g!==null){g.flags&=-257,qA(g,a,l,s,e),g.mode&1&&jA(s,u,e),e=g,o=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(o),e.updateQueue=x}else v.add(o);break e}else{if(!(e&1)){jA(s,u,e),XM();break e}o=Error(Ot(426))}}else if(Kr&&l.mode&1){var S=XA(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),qA(S,a,l,s,e),TM(up(o,l));break e}}s=o=up(o,l),Xi!==4&&(Xi=2),eg===null?eg=[s]:eg.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=H3(s,o,e);kA(s,_);break e;case 1:l=o;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ac===null||!Ac.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=G3(s,l,e);kA(s,T);break e}}s=s.return}while(s!==null)}aL(t)}catch(L){e=L,Gi===t&&t!==null&&(Gi=t=t.return);continue}break}while(!0)}function sL(){var n=y_.current;return y_.current=v_,n===null?v_:n}function XM(){(Xi===0||Xi===3||Xi===2)&&(Xi=4),fs===null||!(fh&268435455)&&!(Q_&268435455)||vc(fs,vs)}function S_(n,e){var t=gr;gr|=2;var r=sL();(fs!==n||vs!==e)&&(uu=null,eh(n,e));do try{rz();break}catch(i){iL(n,i)}while(!0);if(CM(),gr=t,y_.current=r,Gi!==null)throw Error(Ot(261));return fs=null,vs=0,Xi}function rz(){for(;Gi!==null;)oL(Gi)}function iz(){for(;Gi!==null&&!Rk();)oL(Gi)}function oL(n){var e=uL(n.alternate,n,Fo);n.memoizedProps=n.pendingProps,e===null?aL(n):Gi=e,HM.current=null}function aL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Q5(t,e),t!==null){t.flags&=32767,Gi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Xi=6,Gi=null;return}}else if(t=$5(t,e,Fo),t!==null){Gi=t;return}if(e=e.sibling,e!==null){Gi=e;return}Gi=e=n}while(e!==null);Xi===0&&(Xi=5)}function Ff(n,e,t){var r=Ir,i=ca.transition;try{ca.transition=null,Ir=1,sz(n,e,t,r)}finally{ca.transition=i,Ir=r}return null}function sz(n,e,t,r){do tp();while(Sc!==null);if(gr&6)throw Error(Ot(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ot(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(kk(n,s),n===fs&&(Gi=fs=null,vs=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Cy||(Cy=!0,cL(n_,function(){return tp(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ca.transition,ca.transition=null;var a=Ir;Ir=1;var l=gr;gr|=4,HM.current=null,Z5(n,t),tL(t,n),b5(Mw),i_=!!Ew,Mw=Ew=null,n.current=t,ez(t),Pk(),gr=l,Ir=a,ca.transition=s}else n.current=t;if(Cy&&(Cy=!1,Sc=n,x_=i),s=n.pendingLanes,s===0&&(Ac=null),Ik(t.stateNode),wo(n,Ii()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(__)throw __=!1,n=Ww,Ww=null,n;return x_&1&&n.tag!==0&&tp(),s=n.pendingLanes,s&1?n===jw?tg++:(tg=0,jw=n):tg=0,Gc(),null}function tp(){if(Sc!==null){var n=HP(x_),e=ca.transition,t=Ir;try{if(ca.transition=null,Ir=16>n?16:n,Sc===null)var r=!1;else{if(n=Sc,Sc=null,x_=0,gr&6)throw Error(Ot(331));var i=gr;for(gr|=4,nn=n.current;nn!==null;){var s=nn,a=s.child;if(nn.flags&16){var l=s.deletions;if(l!==null){for(var o=0;o<l.length;o++){var u=l[o];for(nn=u;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:Zm(8,c,s)}var f=c.child;if(f!==null)f.return=c,nn=f;else for(;nn!==null;){c=nn;var p=c.sibling,g=c.return;if(J3(c),c===u){nn=null;break}if(p!==null){p.return=g,nn=p;break}nn=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}nn=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,nn=a;else e:for(;nn!==null;){if(s=nn,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zm(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,nn=_;break e}nn=s.return}}var w=n.current;for(nn=w;nn!==null;){a=nn;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,nn=E;else e:for(a=w;nn!==null;){if(l=nn,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$_(9,l)}}catch(L){vi(l,l.return,L)}if(l===a){nn=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,nn=T;break e}nn=l.return}}if(gr=i,Gc(),Tl&&typeof Tl.onPostCommitFiberRoot=="function")try{Tl.onPostCommitFiberRoot(G_,n)}catch{}r=!0}return r}finally{Ir=t,ca.transition=e}}return!1}function o2(n,e,t){e=up(t,e),e=H3(n,e,1),n=Tc(n,e,1),e=Zs(),n!==null&&(ev(n,1,e),wo(n,e))}function vi(n,e,t){if(n.tag===3)o2(n,n,t);else for(;e!==null;){if(e.tag===3){o2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ac===null||!Ac.has(r))){n=up(t,n),n=G3(e,n,1),e=Tc(e,n,1),n=Zs(),e!==null&&(ev(e,1,n),wo(e,n));break}}e=e.return}}function oz(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zs(),n.pingedLanes|=n.suspendedLanes&t,fs===n&&(vs&t)===t&&(Xi===4||Xi===3&&(vs&130023424)===vs&&500>Ii()-VM?eh(n,0):GM|=t),wo(n,e)}function lL(n,e){e===0&&(n.mode&1?(e=yy,yy<<=1,!(yy&130023424)&&(yy=4194304)):e=1);var t=Zs();n=wu(n,e),n!==null&&(ev(n,e,t),wo(n,t))}function az(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),lL(n,t)}function lz(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ot(314))}r!==null&&r.delete(e),lL(n,t)}var uL;uL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||xo.current)_o=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return _o=!1,K5(n,e,t);_o=!!(n.flags&131072)}else _o=!1,Kr&&e.flags&1048576&&d3(e,f_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;N0(n,e),n=e.pendingProps;var i=sp(e,Ns.current);ep(e,t),i=UM(null,e,r,n,i,t);var s=FM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,So(r)?(s=!0,u_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LM(e),i.updater=K_,e.stateNode=i,i._reactInternals=e,Iw(e,r,n,t),e=Uw(null,e,r,!0,s,t)):(e.tag=0,Kr&&s&&MM(e),$s(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(N0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cz(r),n=ka(r,n),i){case 0:e=Dw(null,e,r,n,t);break e;case 1:e=$A(null,e,r,n,t);break e;case 11:e=YA(null,e,r,n,t);break e;case 14:e=KA(null,e,r,ka(r.type,n),t);break e}throw Error(Ot(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ka(r,i),Dw(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ka(r,i),$A(n,e,r,i,t);case 3:e:{if(X3(e),n===null)throw Error(Ot(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_3(n,e),p_(e,r,null,t);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=up(Error(Ot(423)),e),e=QA(n,e,r,t,i);break e}else if(r!==i){i=up(Error(Ot(424)),e),e=QA(n,e,r,t,i);break e}else for(Ho=bc(e.stateNode.containerInfo.firstChild),Go=e,Kr=!0,Va=null,t=v3(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(op(),r===i){e=Eu(n,e,t);break e}$s(n,e,r,t)}e=e.child}return e;case 5:return x3(e),n===null&&Pw(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,bw(r,i)?a=null:s!==null&&bw(r,s)&&(e.flags|=32),j3(n,e),$s(n,e,a,t),e.child;case 6:return n===null&&Pw(e),null;case 13:return q3(n,e,t);case 4:return OM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ap(e,null,r,t):$s(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ka(r,i),YA(n,e,r,i,t);case 7:return $s(n,e,e.pendingProps,t),e.child;case 8:return $s(n,e,e.pendingProps.children,t),e.child;case 12:return $s(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Wr(h_,r._currentValue),r._currentValue=a,s!==null)if(Ya(s.value,a)){if(s.children===i.children&&!xo.current){e=Eu(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var o=l.firstContext;o!==null;){if(o.context===r){if(s.tag===1){o=gu(-1,t&-t),o.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?o.next=o:(o.next=c.next,c.next=o),u.pending=o}}s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),Lw(s.return,t,e),l.lanes|=t;break}o=o.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ot(341));a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),Lw(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}$s(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ep(e,t),i=pa(i),r=r(i),e.flags|=1,$s(n,e,r,t),e.child;case 14:return r=e.type,i=ka(r,e.pendingProps),i=ka(r.type,i),KA(n,e,r,i,t);case 15:return V3(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ka(r,i),N0(n,e),e.tag=1,So(r)?(n=!0,u_(e)):n=!1,ep(e,t),z3(e,r,i),Iw(e,r,i,t),Uw(null,e,r,!0,n,t);case 19:return Y3(n,e,t);case 22:return W3(n,e,t)}throw Error(Ot(156,e.tag))};function cL(n,e){return FP(n,e)}function uz(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(n,e,t,r){return new uz(n,e,t,r)}function qM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cz(n){if(typeof n=="function")return qM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===hM)return 11;if(n===dM)return 14}return 2}function Rc(n,e){var t=n.alternate;return t===null?(t=ua(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function F0(n,e,t,r,i,s){var a=2;if(r=n,typeof n=="function")qM(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Id:return th(t.children,i,s,e);case fM:a=8,i|=8;break;case rw:return n=ua(12,t,e,i|2),n.elementType=rw,n.lanes=s,n;case iw:return n=ua(13,t,e,i),n.elementType=iw,n.lanes=s,n;case sw:return n=ua(19,t,e,i),n.elementType=sw,n.lanes=s,n;case xP:return J_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case yP:a=10;break e;case _P:a=9;break e;case hM:a=11;break e;case dM:a=14;break e;case fc:a=16,r=null;break e}throw Error(Ot(130,n==null?n:typeof n,""))}return e=ua(a,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function th(n,e,t,r){return n=ua(7,n,r,e),n.lanes=t,n}function J_(n,e,t,r){return n=ua(22,n,r,e),n.elementType=xP,n.lanes=t,n.stateNode={isHidden:!1},n}function W1(n,e,t){return n=ua(6,n,null,e),n.lanes=t,n}function j1(n,e,t){return e=ua(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function fz(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b1(0),this.expirationTimes=b1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YM(n,e,t,r,i,s,a,l,o){return n=new fz(n,e,t,l,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ua(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},LM(s),n}function hz(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Od,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function fL(n){if(!n)return Dc;n=n._reactInternals;e:{if(_h(n)!==n||n.tag!==1)throw Error(Ot(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(So(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ot(171))}if(n.tag===1){var t=n.type;if(So(t))return f3(n,t,e)}return e}function hL(n,e,t,r,i,s,a,l,o){return n=YM(t,r,!0,n,i,s,a,l,o),n.context=fL(null),t=n.current,r=Zs(),i=Cc(t),s=gu(r,i),s.callback=e??null,Tc(t,s,i),n.current.lanes=i,ev(n,i,r),wo(n,r),n}function Z_(n,e,t,r){var i=e.current,s=Zs(),a=Cc(i);return t=fL(t),e.context===null?e.context=t:e.pendingContext=t,e=gu(s,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Tc(i,e,a),n!==null&&(Xa(n,i,a,s),L0(n,i,a)),a}function w_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function a2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function KM(n,e){a2(n,e),(n=n.alternate)&&a2(n,e)}function dz(){return null}var dL=typeof reportError=="function"?reportError:function(n){console.error(n)};function $M(n){this._internalRoot=n}ex.prototype.render=$M.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ot(409));Z_(n,e,null,null)};ex.prototype.unmount=$M.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;hh(function(){Z_(null,n,null,null)}),e[Su]=null}};function ex(n){this._internalRoot=n}ex.prototype.unstable_scheduleHydration=function(n){if(n){var e=WP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<gc.length&&e!==0&&e<gc[t].priority;t++);gc.splice(t,0,n),t===0&&XP(n)}};function QM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function tx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function l2(){}function pz(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=w_(a);s.call(u)}}var a=hL(e,r,n,0,null,!1,!1,"",l2);return n._reactRootContainer=a,n[Su]=a.current,yg(n.nodeType===8?n.parentNode:n),hh(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=w_(o);l.call(u)}}var o=YM(n,0,!1,null,null,!1,!1,"",l2);return n._reactRootContainer=o,n[Su]=o.current,yg(n.nodeType===8?n.parentNode:n),hh(function(){Z_(e,o,t,r)}),o}function nx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var o=w_(a);l.call(o)}}Z_(e,a,n,i)}else a=pz(t,e,n,i,r);return w_(a)}GP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Vm(e.pendingLanes);t!==0&&(gM(e,t|1),wo(e,Ii()),!(gr&6)&&(cp=Ii()+500,Gc()))}break;case 13:hh(function(){var r=wu(n,1);if(r!==null){var i=Zs();Xa(r,n,1,i)}}),KM(n,1)}};vM=function(n){if(n.tag===13){var e=wu(n,134217728);if(e!==null){var t=Zs();Xa(e,n,134217728,t)}KM(n,134217728)}};VP=function(n){if(n.tag===13){var e=Cc(n),t=wu(n,e);if(t!==null){var r=Zs();Xa(t,n,e,r)}KM(n,e)}};WP=function(){return Ir};jP=function(n,e){var t=Ir;try{return Ir=n,e()}finally{Ir=t}};mw=function(n,e,t){switch(e){case"input":if(lw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=X_(r);if(!i)throw Error(Ot(90));wP(r),lw(r,i)}}}break;case"textarea":MP(n,t);break;case"select":e=t.value,e!=null&&$d(n,!!t.multiple,e,!1)}};LP=WM;OP=hh;var mz={usingClientEntryPoint:!1,Events:[nv,Fd,X_,RP,PP,WM]},wm={findFiberByHostInstance:Vf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gz={bundleType:wm.bundleType,version:wm.version,rendererPackageName:wm.rendererPackageName,rendererConfig:wm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Au.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=DP(n),n===null?null:n.stateNode},findFiberByHostInstance:wm.findFiberByHostInstance||dz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{G_=Ry.inject(gz),Tl=Ry}catch{}}jo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mz;jo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QM(e))throw Error(Ot(200));return hz(n,e,null,t)};jo.createRoot=function(n,e){if(!QM(n))throw Error(Ot(299));var t=!1,r="",i=dL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YM(n,1,!1,null,null,t,!1,r,i),n[Su]=e.current,yg(n.nodeType===8?n.parentNode:n),new $M(e)};jo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ot(188)):(n=Object.keys(n).join(","),Error(Ot(268,n)));return n=DP(e),n=n===null?null:n.stateNode,n};jo.flushSync=function(n){return hh(n)};jo.hydrate=function(n,e,t){if(!tx(e))throw Error(Ot(200));return nx(null,n,e,!0,t)};jo.hydrateRoot=function(n,e,t){if(!QM(n))throw Error(Ot(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",a=dL;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=hL(e,null,n,1,t??null,i,!1,s,a),n[Su]=e.current,yg(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new ex(e)};jo.render=function(n,e,t){if(!tx(e))throw Error(Ot(200));return nx(null,n,e,!1,t)};jo.unmountComponentAtNode=function(n){if(!tx(n))throw Error(Ot(40));return n._reactRootContainer?(hh(function(){nx(null,null,n,!1,function(){n._reactRootContainer=null,n[Su]=null})}),!0):!1};jo.unstable_batchedUpdates=WM;jo.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!tx(t))throw Error(Ot(200));if(n==null||n._reactInternals===void 0)throw Error(Ot(38));return nx(n,e,t,!1,r)};jo.version="18.3.1-next-f1338f8080-20240426";function pL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pL)}catch(n){console.error(n)}}pL(),pP.exports=jo;var JM=pP.exports;const mL=Jg(JM),vz=nP({__proto__:null,default:mL},[JM]);var u2=JM;tw.createRoot=u2.createRoot,tw.hydrateRoot=u2.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ti.apply(this,arguments)}var Hi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hi||(Hi={}));const c2="popstate";function yz(n){n===void 0&&(n={});function e(i,s){let{pathname:a="/",search:l="",hash:o=""}=Cu(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ag("",{pathname:a,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let o=i.location.href,u=o.indexOf("#");l=u===-1?o:o.slice(0,u)}return l+"#"+(typeof s=="string"?s:ph(s))}function r(i,s){dh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xz(e,t,r,n)}function $n(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dh(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _z(){return Math.random().toString(36).substr(2,8)}function f2(n,e){return{usr:n.state,key:n.key,idx:e}}function Ag(n,e,t,r){return t===void 0&&(t=null),ti({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Cu(e):e,{state:t,key:e&&e.key||r||_z()})}function ph(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function xz(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Hi.Pop,o=null,u=c();u==null&&(u=0,a.replaceState(ti({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){l=Hi.Pop;let S=c(),_=S==null?null:S-u;u=S,o&&o({action:l,location:x.location,delta:_})}function p(S,_){l=Hi.Push;let w=Ag(x.location,S,_);t&&t(w,S),u=c()+1;let E=f2(w,u),T=x.createHref(w);try{a.pushState(E,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(T)}s&&o&&o({action:l,location:x.location,delta:1})}function g(S,_){l=Hi.Replace;let w=Ag(x.location,S,_);t&&t(w,S),u=c();let E=f2(w,u),T=x.createHref(w);a.replaceState(E,"",T),s&&o&&o({action:l,location:x.location,delta:0})}function v(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:ph(S);return w=w.replace(/ $/,"%20"),$n(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let x={get action(){return l},get location(){return n(i,a)},listen(S){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(c2,f),o=S,()=>{i.removeEventListener(c2,f),o=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let _=v(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(S){return a.go(S)}};return x}var Gr;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Gr||(Gr={}));const Sz=new Set(["lazy","caseSensitive","path","id","index","children"]);function wz(n){return n.index===!0}function Cg(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let a=[...t,String(s)],l=typeof i.id=="string"?i.id:a.join("-");if($n(i.index!==!0||!i.children,"Cannot specify children on an index route"),$n(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),wz(i)){let o=ti({},i,e(i),{id:l});return r[l]=o,o}else{let o=ti({},i,e(i),{id:l,children:void 0});return r[l]=o,i.children&&(o.children=Cg(i.children,e,a,r)),o}})}function zf(n,e,t){return t===void 0&&(t="/"),B0(n,e,t,!1)}function B0(n,e,t,r){let i=typeof e=="string"?Cu(e):e,s=Mu(i.pathname||"/",t);if(s==null)return null;let a=gL(n);Mz(a);let l=null;for(let o=0;l==null&&o<a.length;++o){let u=Dz(s);l=Iz(a[o],u,r)}return l}function Ez(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function gL(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,l)=>{let o={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};o.relativePath.startsWith("/")&&($n(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let u=vu([r,o.relativePath]),c=t.concat(o);s.children&&s.children.length>0&&($n(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gL(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Lz(u,s.index),routesMeta:c})};return n.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let o of vL(s.path))i(s,a,o)}),e}function vL(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=vL(r.join("/")),l=[];return l.push(...a.map(o=>o===""?s:[s,o].join("/"))),i&&l.push(...a),l.map(o=>n.startsWith("/")&&o===""?"/":o)}function Mz(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Oz(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const bz=/^:[\w-]+$/,Tz=3,Az=2,Cz=1,Rz=10,Pz=-2,h2=n=>n==="*";function Lz(n,e){let t=n.split("/"),r=t.length;return t.some(h2)&&(r+=Pz),e&&(r+=Az),t.filter(i=>!h2(i)).reduce((i,s)=>i+(bz.test(s)?Tz:s===""?Cz:Rz),r)}function Oz(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Iz(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},s="/",a=[];for(let l=0;l<r.length;++l){let o=r[l],u=l===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=E_({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c),p=o.route;if(!f&&u&&t&&!r[r.length-1].route.index&&(f=E_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:vu([s,f.pathname]),pathnameBase:Bz(vu([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=vu([s,f.pathnameBase]))}return a}function E_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Nz(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:g}=c;if(p==="*"){let x=l[f]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Nz(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),dh(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,o)=>(r.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Dz(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dh(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Mu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Uz(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cu(n):n;return{pathname:t?t.startsWith("/")?t:Fz(t,e):e,search:kz(r),hash:zz(i)}}function Fz(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function X1(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ZM(n,e){let t=yL(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function eb(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Cu(n):(i=ti({},n),$n(!i.pathname||!i.pathname.includes("?"),X1("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),X1("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),X1("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=t;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let o=Uz(i,l),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&t.endsWith("/");return!o.pathname.endsWith("/")&&(u||c)&&(o.pathname+="/"),o}const vu=n=>n.join("/").replace(/\/\/+/g,"/"),Bz=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kz=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class tb{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function rx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const _L=["post","put","patch","delete"],Hz=new Set(_L),Gz=["get",..._L],Vz=new Set(Gz),Wz=new Set([301,302,303,307,308]),jz=new Set([307,308]),q1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Em={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qz=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),xL="remix-router-transitions";function Yz(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;$n(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let Te=n.detectErrorBoundary;i=_e=>({hasErrorBoundary:Te(_e)})}else i=qz;let s={},a=Cg(n.routes,i,void 0,s),l,o=n.basename||"/",u=n.unstable_dataStrategy||Zz,c=n.unstable_patchRoutesOnMiss,f=ti({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),p=null,g=new Set,v=null,x=null,S=null,_=n.hydrationData!=null,w=zf(a,n.history.location,o),E=null;if(w==null&&!c){let Te=Ks(404,{pathname:n.history.location.pathname}),{matches:_e,route:je}=w2(a);w=_e,E={[je.id]:Te}}w&&c&&En(w,a,n.history.location.pathname).active&&(w=null);let T;if(!w)T=!1,w=[];else if(w.some(Te=>Te.route.lazy))T=!1;else if(!w.some(Te=>Te.route.loader))T=!0;else if(f.v7_partialHydration){let Te=n.hydrationData?n.hydrationData.loaderData:null,_e=n.hydrationData?n.hydrationData.errors:null,je=lt=>lt.route.loader?typeof lt.route.loader=="function"&&lt.route.loader.hydrate===!0?!1:Te&&Te[lt.route.id]!==void 0||_e&&_e[lt.route.id]!==void 0:!0;if(_e){let lt=w.findIndex(Nt=>_e[Nt.route.id]!==void 0);T=w.slice(0,lt+1).every(je)}else T=w.every(je)}else T=n.hydrationData!=null;let L,A={historyAction:n.history.action,location:n.history.location,matches:w,initialized:T,navigation:q1,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||E,fetchers:new Map,blockers:new Map},O=Hi.Pop,U=!1,F,P=!1,N=new Map,K=null,$=!1,j=!1,le=[],re=[],W=new Map,G=0,V=-1,k=new Map,ie=new Set,te=new Map,se=new Map,oe=new Set,ve=new Map,xe=new Map,he=new Map,Ue=!1;function ke(){if(p=n.history.listen(Te=>{let{action:_e,location:je,delta:lt}=Te;if(Ue){Ue=!1;return}dh(xe.size===0||lt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Nt=Rt({currentLocation:A.location,nextLocation:je,historyAction:_e});if(Nt&&lt!=null){Ue=!0,n.history.go(lt*-1),Tt(Nt,{state:"blocked",location:je,proceed(){Tt(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),n.history.go(lt)},reset(){let Jt=new Map(A.blockers);Jt.set(Nt,Em),Q({blockers:Jt})}});return}return Ye(_e,je)}),t){h8(e,N);let Te=()=>d8(e,N);e.addEventListener("pagehide",Te),K=()=>e.removeEventListener("pagehide",Te)}return A.initialized||Ye(Hi.Pop,A.location,{initialHydration:!0}),L}function Qe(){p&&p(),K&&K(),g.clear(),F&&F.abort(),A.fetchers.forEach((Te,_e)=>Ut(_e)),A.blockers.forEach((Te,_e)=>Mn(_e))}function Le(Te){return g.add(Te),()=>g.delete(Te)}function Q(Te,_e){_e===void 0&&(_e={}),A=ti({},A,Te);let je=[],lt=[];f.v7_fetcherPersist&&A.fetchers.forEach((Nt,Jt)=>{Nt.state==="idle"&&(oe.has(Jt)?lt.push(Jt):je.push(Jt))}),[...g].forEach(Nt=>Nt(A,{deletedFetchers:lt,unstable_viewTransitionOpts:_e.viewTransitionOpts,unstable_flushSync:_e.flushSync===!0})),f.v7_fetcherPersist&&(je.forEach(Nt=>A.fetchers.delete(Nt)),lt.forEach(Nt=>Ut(Nt)))}function He(Te,_e,je){var lt,Nt;let{flushSync:Jt}=je===void 0?{}:je,mn=A.actionData!=null&&A.navigation.formMethod!=null&&Ga(A.navigation.formMethod)&&A.navigation.state==="loading"&&((lt=Te.state)==null?void 0:lt._isRedirect)!==!0,Dt;_e.actionData?Object.keys(_e.actionData).length>0?Dt=_e.actionData:Dt=null:mn?Dt=A.actionData:Dt=null;let An=_e.loaderData?x2(A.loaderData,_e.loaderData,_e.matches||[],_e.errors):A.loaderData,an=A.blockers;an.size>0&&(an=new Map(an),an.forEach((Ne,qe)=>an.set(qe,Em)));let ln=U===!0||A.navigation.formMethod!=null&&Ga(A.navigation.formMethod)&&((Nt=Te.state)==null?void 0:Nt._isRedirect)!==!0;l&&(a=l,l=void 0),$||O===Hi.Pop||(O===Hi.Push?n.history.push(Te,Te.state):O===Hi.Replace&&n.history.replace(Te,Te.state));let ae;if(O===Hi.Pop){let Ne=N.get(A.location.pathname);Ne&&Ne.has(Te.pathname)?ae={currentLocation:A.location,nextLocation:Te}:N.has(Te.pathname)&&(ae={currentLocation:Te,nextLocation:A.location})}else if(P){let Ne=N.get(A.location.pathname);Ne?Ne.add(Te.pathname):(Ne=new Set([Te.pathname]),N.set(A.location.pathname,Ne)),ae={currentLocation:A.location,nextLocation:Te}}Q(ti({},_e,{actionData:Dt,loaderData:An,historyAction:O,location:Te,initialized:!0,navigation:q1,revalidation:"idle",restoreScrollPosition:Qt(Te,_e.matches||A.matches),preventScrollReset:ln,blockers:an}),{viewTransitionOpts:ae,flushSync:Jt===!0}),O=Hi.Pop,U=!1,P=!1,$=!1,j=!1,le=[],re=[]}async function Pe(Te,_e){if(typeof Te=="number"){n.history.go(Te);return}let je=Yw(A.location,A.matches,o,f.v7_prependBasename,Te,f.v7_relativeSplatPath,_e==null?void 0:_e.fromRouteId,_e==null?void 0:_e.relative),{path:lt,submission:Nt,error:Jt}=d2(f.v7_normalizeFormMethod,!1,je,_e),mn=A.location,Dt=Ag(A.location,lt,_e&&_e.state);Dt=ti({},Dt,n.history.encodeLocation(Dt));let An=_e&&_e.replace!=null?_e.replace:void 0,an=Hi.Push;An===!0?an=Hi.Replace:An===!1||Nt!=null&&Ga(Nt.formMethod)&&Nt.formAction===A.location.pathname+A.location.search&&(an=Hi.Replace);let ln=_e&&"preventScrollReset"in _e?_e.preventScrollReset===!0:void 0,ae=(_e&&_e.unstable_flushSync)===!0,Ne=Rt({currentLocation:mn,nextLocation:Dt,historyAction:an});if(Ne){Tt(Ne,{state:"blocked",location:Dt,proceed(){Tt(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:Dt}),Pe(Te,_e)},reset(){let qe=new Map(A.blockers);qe.set(Ne,Em),Q({blockers:qe})}});return}return await Ye(an,Dt,{submission:Nt,pendingError:Jt,preventScrollReset:ln,replace:_e&&_e.replace,enableViewTransition:_e&&_e.unstable_viewTransition,flushSync:ae})}function Je(){if(Fe(),Q({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Ye(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Ye(O||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function Ye(Te,_e,je){F&&F.abort(),F=null,O=Te,$=(je&&je.startUninterruptedRevalidation)===!0,Gt(A.location,A.matches),U=(je&&je.preventScrollReset)===!0,P=(je&&je.enableViewTransition)===!0;let lt=l||a,Nt=je&&je.overrideNavigation,Jt=zf(lt,_e,o),mn=(je&&je.flushSync)===!0,Dt=En(Jt,lt,_e.pathname);if(Dt.active&&Dt.matches&&(Jt=Dt.matches),!Jt){let{error:Ke,notFoundMatches:$e,route:Pt}=ce(_e.pathname);He(_e,{matches:$e,loaderData:{},errors:{[Pt.id]:Ke}},{flushSync:mn});return}if(A.initialized&&!j&&s8(A.location,_e)&&!(je&&je.submission&&Ga(je.submission.formMethod))){He(_e,{matches:Jt},{flushSync:mn});return}F=new AbortController;let An=id(n.history,_e,F.signal,je&&je.submission),an;if(je&&je.pendingError)an=[ng(Jt).route.id,{type:Gr.error,error:je.pendingError}];else if(je&&je.submission&&Ga(je.submission.formMethod)){let Ke=await mt(An,_e,je.submission,Jt,Dt.active,{replace:je.replace,flushSync:mn});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[$e,Pt]=Ke.pendingActionResult;if(Bo(Pt)&&rx(Pt.error)&&Pt.error.status===404){F=null,He(_e,{matches:Ke.matches,loaderData:{},errors:{[$e]:Pt.error}});return}}Jt=Ke.matches||Jt,an=Ke.pendingActionResult,Nt=Y1(_e,je.submission),mn=!1,Dt.active=!1,An=id(n.history,An.url,An.signal)}let{shortCircuited:ln,matches:ae,loaderData:Ne,errors:qe}=await gt(An,_e,Jt,Dt.active,Nt,je&&je.submission,je&&je.fetcherSubmission,je&&je.replace,je&&je.initialHydration===!0,mn,an);ln||(F=null,He(_e,ti({matches:ae||Jt},S2(an),{loaderData:Ne,errors:qe})))}async function mt(Te,_e,je,lt,Nt,Jt){Jt===void 0&&(Jt={}),Fe();let mn=c8(_e,je);if(Q({navigation:mn},{flushSync:Jt.flushSync===!0}),Nt){let an=await Nn(lt,_e.pathname,Te.signal);if(an.type==="aborted")return{shortCircuited:!0};if(an.type==="error"){let{error:ln,notFoundMatches:ae,route:Ne}=Re(_e.pathname,an);return{matches:ae,pendingActionResult:[Ne.id,{type:Gr.error,error:ln}]}}else if(an.matches)lt=an.matches;else{let{notFoundMatches:ln,error:ae,route:Ne}=ce(_e.pathname);return{matches:ln,pendingActionResult:[Ne.id,{type:Gr.error,error:ae}]}}}let Dt,An=jm(lt,_e);if(!An.route.action&&!An.route.lazy)Dt={type:Gr.error,error:Ks(405,{method:Te.method,pathname:_e.pathname,routeId:An.route.id})};else if(Dt=(await pe("action",Te,[An],lt))[0],Te.signal.aborted)return{shortCircuited:!0};if(qf(Dt)){let an;return Jt&&Jt.replace!=null?an=Jt.replace:an=v2(Dt.response.headers.get("Location"),new URL(Te.url),o)===A.location.pathname+A.location.search,await be(Te,Dt,{submission:je,replace:an}),{shortCircuited:!0}}if(Xf(Dt))throw Ks(400,{type:"defer-action"});if(Bo(Dt)){let an=ng(lt,An.route.id);return(Jt&&Jt.replace)!==!0&&(O=Hi.Push),{matches:lt,pendingActionResult:[an.route.id,Dt]}}return{matches:lt,pendingActionResult:[An.route.id,Dt]}}async function gt(Te,_e,je,lt,Nt,Jt,mn,Dt,An,an,ln){let ae=Nt||Y1(_e,Jt),Ne=Jt||mn||b2(ae),qe=!$&&(!f.v7_partialHydration||!An);if(lt){if(qe){let Wt=ne(ln);Q(ti({navigation:ae},Wt!==void 0?{actionData:Wt}:{}),{flushSync:an})}let sn=await Nn(je,_e.pathname,Te.signal);if(sn.type==="aborted")return{shortCircuited:!0};if(sn.type==="error"){let{error:Wt,notFoundMatches:kt,route:kn}=Re(_e.pathname,sn);return{matches:kt,loaderData:{},errors:{[kn.id]:Wt}}}else if(sn.matches)je=sn.matches;else{let{error:Wt,notFoundMatches:kt,route:kn}=ce(_e.pathname);return{matches:kt,loaderData:{},errors:{[kn.id]:Wt}}}}let Ke=l||a,[$e,Pt]=p2(n.history,A,je,Ne,_e,f.v7_partialHydration&&An===!0,f.unstable_skipActionErrorRevalidation,j,le,re,oe,te,ie,Ke,o,ln);if(We(sn=>!(je&&je.some(Wt=>Wt.route.id===sn))||$e&&$e.some(Wt=>Wt.route.id===sn)),V=++G,$e.length===0&&Pt.length===0){let sn=ut();return He(_e,ti({matches:je,loaderData:{},errors:ln&&Bo(ln[1])?{[ln[0]]:ln[1].error}:null},S2(ln),sn?{fetchers:new Map(A.fetchers)}:{}),{flushSync:an}),{shortCircuited:!0}}if(qe){let sn={};if(!lt){sn.navigation=ae;let Wt=ne(ln);Wt!==void 0&&(sn.actionData=Wt)}Pt.length>0&&(sn.fetchers=Y(Pt)),Q(sn,{flushSync:an})}Pt.forEach(sn=>{W.has(sn.key)&&Ct(sn.key),sn.controller&&W.set(sn.key,sn.controller)});let Xt=()=>Pt.forEach(sn=>Ct(sn.key));F&&F.signal.addEventListener("abort",Xt);let{loaderResults:tn,fetcherResults:rn}=await Ge(A.matches,je,$e,Pt,Te);if(Te.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Xt),Pt.forEach(sn=>W.delete(sn.key));let gn=E2([...tn,...rn]);if(gn){if(gn.idx>=$e.length){let sn=Pt[gn.idx-$e.length].key;ie.add(sn)}return await be(Te,gn.result,{replace:Dt}),{shortCircuited:!0}}let{loaderData:pn,errors:un}=_2(A,je,$e,tn,ln,Pt,rn,ve);ve.forEach((sn,Wt)=>{sn.subscribe(kt=>{(kt||sn.done)&&ve.delete(Wt)})}),f.v7_partialHydration&&An&&A.errors&&Object.entries(A.errors).filter(sn=>{let[Wt]=sn;return!$e.some(kt=>kt.route.id===Wt)}).forEach(sn=>{let[Wt,kt]=sn;un=Object.assign(un||{},{[Wt]:kt})});let dr=ut(),ur=It(V),Jn=dr||ur||Pt.length>0;return ti({matches:je,loaderData:pn,errors:un},Jn?{fetchers:new Map(A.fetchers)}:{})}function ne(Te){if(Te&&!Bo(Te[1]))return{[Te[0]]:Te[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Y(Te){return Te.forEach(_e=>{let je=A.fetchers.get(_e.key),lt=Mm(void 0,je?je.data:void 0);A.fetchers.set(_e.key,lt)}),new Map(A.fetchers)}function Ie(Te,_e,je,lt){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(Te)&&Ct(Te);let Nt=(lt&&lt.unstable_flushSync)===!0,Jt=l||a,mn=Yw(A.location,A.matches,o,f.v7_prependBasename,je,f.v7_relativeSplatPath,_e,lt==null?void 0:lt.relative),Dt=zf(Jt,mn,o),An=En(Dt,Jt,mn);if(An.active&&An.matches&&(Dt=An.matches),!Dt){Ce(Te,_e,Ks(404,{pathname:mn}),{flushSync:Nt});return}let{path:an,submission:ln,error:ae}=d2(f.v7_normalizeFormMethod,!0,mn,lt);if(ae){Ce(Te,_e,ae,{flushSync:Nt});return}let Ne=jm(Dt,an);if(U=(lt&&lt.preventScrollReset)===!0,ln&&Ga(ln.formMethod)){st(Te,_e,an,Ne,Dt,An.active,Nt,ln);return}te.set(Te,{routeId:_e,path:an}),ot(Te,_e,an,Ne,Dt,An.active,Nt,ln)}async function st(Te,_e,je,lt,Nt,Jt,mn,Dt){Fe(),te.delete(Te);function An(kn){if(!kn.route.action&&!kn.route.lazy){let yn=Ks(405,{method:Dt.formMethod,pathname:je,routeId:_e});return Ce(Te,_e,yn,{flushSync:mn}),!0}return!1}if(!Jt&&An(lt))return;let an=A.fetchers.get(Te);nt(Te,f8(Dt,an),{flushSync:mn});let ln=new AbortController,ae=id(n.history,je,ln.signal,Dt);if(Jt){let kn=await Nn(Nt,je,ae.signal);if(kn.type==="aborted")return;if(kn.type==="error"){let{error:yn}=Re(je,kn);Ce(Te,_e,yn,{flushSync:mn});return}else if(kn.matches){if(Nt=kn.matches,lt=jm(Nt,je),An(lt))return}else{Ce(Te,_e,Ks(404,{pathname:je}),{flushSync:mn});return}}W.set(Te,ln);let Ne=G,Ke=(await pe("action",ae,[lt],Nt))[0];if(ae.signal.aborted){W.get(Te)===ln&&W.delete(Te);return}if(f.v7_fetcherPersist&&oe.has(Te)){if(qf(Ke)||Bo(Ke)){nt(Te,cc(void 0));return}}else{if(qf(Ke))if(W.delete(Te),V>Ne){nt(Te,cc(void 0));return}else return ie.add(Te),nt(Te,Mm(Dt)),be(ae,Ke,{fetcherSubmission:Dt});if(Bo(Ke)){Ce(Te,_e,Ke.error);return}}if(Xf(Ke))throw Ks(400,{type:"defer-action"});let $e=A.navigation.location||A.location,Pt=id(n.history,$e,ln.signal),Xt=l||a,tn=A.navigation.state!=="idle"?zf(Xt,A.navigation.location,o):A.matches;$n(tn,"Didn't find any matches after fetcher action");let rn=++G;k.set(Te,rn);let gn=Mm(Dt,Ke.data);A.fetchers.set(Te,gn);let[pn,un]=p2(n.history,A,tn,Dt,$e,!1,f.unstable_skipActionErrorRevalidation,j,le,re,oe,te,ie,Xt,o,[lt.route.id,Ke]);un.filter(kn=>kn.key!==Te).forEach(kn=>{let yn=kn.key,Tr=A.fetchers.get(yn),nr=Mm(void 0,Tr?Tr.data:void 0);A.fetchers.set(yn,nr),W.has(yn)&&Ct(yn),kn.controller&&W.set(yn,kn.controller)}),Q({fetchers:new Map(A.fetchers)});let dr=()=>un.forEach(kn=>Ct(kn.key));ln.signal.addEventListener("abort",dr);let{loaderResults:ur,fetcherResults:Jn}=await Ge(A.matches,tn,pn,un,Pt);if(ln.signal.aborted)return;ln.signal.removeEventListener("abort",dr),k.delete(Te),W.delete(Te),un.forEach(kn=>W.delete(kn.key));let sn=E2([...ur,...Jn]);if(sn){if(sn.idx>=pn.length){let kn=un[sn.idx-pn.length].key;ie.add(kn)}return be(Pt,sn.result)}let{loaderData:Wt,errors:kt}=_2(A,A.matches,pn,ur,void 0,un,Jn,ve);if(A.fetchers.has(Te)){let kn=cc(Ke.data);A.fetchers.set(Te,kn)}It(rn),A.navigation.state==="loading"&&rn>V?($n(O,"Expected pending action"),F&&F.abort(),He(A.navigation.location,{matches:tn,loaderData:Wt,errors:kt,fetchers:new Map(A.fetchers)})):(Q({errors:kt,loaderData:x2(A.loaderData,Wt,tn,kt),fetchers:new Map(A.fetchers)}),j=!1)}async function ot(Te,_e,je,lt,Nt,Jt,mn,Dt){let An=A.fetchers.get(Te);nt(Te,Mm(Dt,An?An.data:void 0),{flushSync:mn});let an=new AbortController,ln=id(n.history,je,an.signal);if(Jt){let Ke=await Nn(Nt,je,ln.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){let{error:$e}=Re(je,Ke);Ce(Te,_e,$e,{flushSync:mn});return}else if(Ke.matches)Nt=Ke.matches,lt=jm(Nt,je);else{Ce(Te,_e,Ks(404,{pathname:je}),{flushSync:mn});return}}W.set(Te,an);let ae=G,qe=(await pe("loader",ln,[lt],Nt))[0];if(Xf(qe)&&(qe=await bL(qe,ln.signal,!0)||qe),W.get(Te)===an&&W.delete(Te),!ln.signal.aborted){if(oe.has(Te)){nt(Te,cc(void 0));return}if(qf(qe))if(V>ae){nt(Te,cc(void 0));return}else{ie.add(Te),await be(ln,qe);return}if(Bo(qe)){Ce(Te,_e,qe.error);return}$n(!Xf(qe),"Unhandled fetcher deferred data"),nt(Te,cc(qe.data))}}async function be(Te,_e,je){let{submission:lt,fetcherSubmission:Nt,replace:Jt}=je===void 0?{}:je;_e.response.headers.has("X-Remix-Revalidate")&&(j=!0);let mn=_e.response.headers.get("Location");$n(mn,"Expected a Location header on the redirect Response"),mn=v2(mn,new URL(Te.url),o);let Dt=Ag(A.location,mn,{_isRedirect:!0});if(t){let qe=!1;if(_e.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(nb.test(mn)){const Ke=n.history.createURL(mn);qe=Ke.origin!==e.location.origin||Mu(Ke.pathname,o)==null}if(qe){Jt?e.location.replace(mn):e.location.assign(mn);return}}F=null;let An=Jt===!0?Hi.Replace:Hi.Push,{formMethod:an,formAction:ln,formEncType:ae}=A.navigation;!lt&&!Nt&&an&&ln&&ae&&(lt=b2(A.navigation));let Ne=lt||Nt;if(jz.has(_e.response.status)&&Ne&&Ga(Ne.formMethod))await Ye(An,Dt,{submission:ti({},Ne,{formAction:mn}),preventScrollReset:U});else{let qe=Y1(Dt,lt);await Ye(An,Dt,{overrideNavigation:qe,fetcherSubmission:Nt,preventScrollReset:U})}}async function pe(Te,_e,je,lt){try{let Nt=await e8(u,Te,_e,je,lt,s,i);return await Promise.all(Nt.map((Jt,mn)=>{if(a8(Jt)){let Dt=Jt.result;return{type:Gr.redirect,response:r8(Dt,_e,je[mn].route.id,lt,o,f.v7_relativeSplatPath)}}return n8(Jt)}))}catch(Nt){return je.map(()=>({type:Gr.error,error:Nt}))}}async function Ge(Te,_e,je,lt,Nt){let[Jt,...mn]=await Promise.all([je.length?pe("loader",Nt,je,_e):[],...lt.map(Dt=>{if(Dt.matches&&Dt.match&&Dt.controller){let An=id(n.history,Dt.path,Dt.controller.signal);return pe("loader",An,[Dt.match],Dt.matches).then(an=>an[0])}else return Promise.resolve({type:Gr.error,error:Ks(404,{pathname:Dt.path})})})]);return await Promise.all([M2(Te,je,Jt,Jt.map(()=>Nt.signal),!1,A.loaderData),M2(Te,lt.map(Dt=>Dt.match),mn,lt.map(Dt=>Dt.controller?Dt.controller.signal:null),!0)]),{loaderResults:Jt,fetcherResults:mn}}function Fe(){j=!0,le.push(...We()),te.forEach((Te,_e)=>{W.has(_e)&&(re.push(_e),Ct(_e))})}function nt(Te,_e,je){je===void 0&&(je={}),A.fetchers.set(Te,_e),Q({fetchers:new Map(A.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Ce(Te,_e,je,lt){lt===void 0&&(lt={});let Nt=ng(A.matches,_e);Ut(Te),Q({errors:{[Nt.route.id]:je},fetchers:new Map(A.fetchers)},{flushSync:(lt&&lt.flushSync)===!0})}function De(Te){return f.v7_fetcherPersist&&(se.set(Te,(se.get(Te)||0)+1),oe.has(Te)&&oe.delete(Te)),A.fetchers.get(Te)||Xz}function Ut(Te){let _e=A.fetchers.get(Te);W.has(Te)&&!(_e&&_e.state==="loading"&&k.has(Te))&&Ct(Te),te.delete(Te),k.delete(Te),ie.delete(Te),oe.delete(Te),A.fetchers.delete(Te)}function Bt(Te){if(f.v7_fetcherPersist){let _e=(se.get(Te)||0)-1;_e<=0?(se.delete(Te),oe.add(Te)):se.set(Te,_e)}else Ut(Te);Q({fetchers:new Map(A.fetchers)})}function Ct(Te){let _e=W.get(Te);$n(_e,"Expected fetch controller: "+Te),_e.abort(),W.delete(Te)}function wt(Te){for(let _e of Te){let je=De(_e),lt=cc(je.data);A.fetchers.set(_e,lt)}}function ut(){let Te=[],_e=!1;for(let je of ie){let lt=A.fetchers.get(je);$n(lt,"Expected fetcher: "+je),lt.state==="loading"&&(ie.delete(je),Te.push(je),_e=!0)}return wt(Te),_e}function It(Te){let _e=[];for(let[je,lt]of k)if(lt<Te){let Nt=A.fetchers.get(je);$n(Nt,"Expected fetcher: "+je),Nt.state==="loading"&&(Ct(je),k.delete(je),_e.push(je))}return wt(_e),_e.length>0}function Kt(Te,_e){let je=A.blockers.get(Te)||Em;return xe.get(Te)!==_e&&xe.set(Te,_e),je}function Mn(Te){A.blockers.delete(Te),xe.delete(Te)}function Tt(Te,_e){let je=A.blockers.get(Te)||Em;$n(je.state==="unblocked"&&_e.state==="blocked"||je.state==="blocked"&&_e.state==="blocked"||je.state==="blocked"&&_e.state==="proceeding"||je.state==="blocked"&&_e.state==="unblocked"||je.state==="proceeding"&&_e.state==="unblocked","Invalid blocker state transition: "+je.state+" -> "+_e.state);let lt=new Map(A.blockers);lt.set(Te,_e),Q({blockers:lt})}function Rt(Te){let{currentLocation:_e,nextLocation:je,historyAction:lt}=Te;if(xe.size===0)return;xe.size>1&&dh(!1,"A router only supports one blocker at a time");let Nt=Array.from(xe.entries()),[Jt,mn]=Nt[Nt.length-1],Dt=A.blockers.get(Jt);if(!(Dt&&Dt.state==="proceeding")&&mn({currentLocation:_e,nextLocation:je,historyAction:lt}))return Jt}function ce(Te){let _e=Ks(404,{pathname:Te}),je=l||a,{matches:lt,route:Nt}=w2(je);return We(),{notFoundMatches:lt,route:Nt,error:_e}}function Re(Te,_e){let je=_e.partialMatches,lt=je[je.length-1].route,Nt=Ks(400,{type:"route-discovery",routeId:lt.id,pathname:Te,message:_e.error!=null&&"message"in _e.error?_e.error:String(_e.error)});return{notFoundMatches:je,route:lt,error:Nt}}function We(Te){let _e=[];return ve.forEach((je,lt)=>{(!Te||Te(lt))&&(je.cancel(),_e.push(lt),ve.delete(lt))}),_e}function dt(Te,_e,je){if(v=Te,S=_e,x=je||null,!_&&A.navigation===q1){_=!0;let lt=Qt(A.location,A.matches);lt!=null&&Q({restoreScrollPosition:lt})}return()=>{v=null,S=null,x=null}}function St(Te,_e){return x&&x(Te,_e.map(lt=>Ez(lt,A.loaderData)))||Te.key}function Gt(Te,_e){if(v&&S){let je=St(Te,_e);v[je]=S()}}function Qt(Te,_e){if(v){let je=St(Te,_e),lt=v[je];if(typeof lt=="number")return lt}return null}function En(Te,_e,je){if(c)if(Te){let lt=Te[Te.length-1].route;if(lt.path&&(lt.path==="*"||lt.path.endsWith("/*")))return{active:!0,matches:B0(_e,je,o,!0)}}else return{active:!0,matches:B0(_e,je,o,!0)||[]};return{active:!1,matches:null}}async function Nn(Te,_e,je){let lt=Te,Nt=lt.length>0?lt[lt.length-1].route:null;for(;;){let Jt=l==null,mn=l||a;try{await Jz(c,_e,lt,mn,s,i,he,je)}catch(ln){return{type:"error",error:ln,partialMatches:lt}}finally{Jt&&(a=[...a])}if(je.aborted)return{type:"aborted"};let Dt=zf(mn,_e,o),An=!1;if(Dt){let ln=Dt[Dt.length-1].route;if(ln.index)return{type:"success",matches:Dt};if(ln.path&&ln.path.length>0)if(ln.path==="*")An=!0;else return{type:"success",matches:Dt}}let an=B0(mn,_e,o,!0);if(!an||lt.map(ln=>ln.route.id).join("-")===an.map(ln=>ln.route.id).join("-"))return{type:"success",matches:An?Dt:null};if(lt=an,Nt=lt[lt.length-1].route,Nt.path==="*")return{type:"success",matches:lt}}}function Tn(Te){s={},l=Cg(Te,i,void 0,s)}function lr(Te,_e){let je=l==null;wL(Te,_e,l||a,s,i),je&&(a=[...a],Q({}))}return L={get basename(){return o},get future(){return f},get state(){return A},get routes(){return a},get window(){return e},initialize:ke,subscribe:Le,enableScrollRestoration:dt,navigate:Pe,fetch:Ie,revalidate:Je,createHref:Te=>n.history.createHref(Te),encodeLocation:Te=>n.history.encodeLocation(Te),getFetcher:De,deleteFetcher:Bt,dispose:Qe,getBlocker:Kt,deleteBlocker:Mn,patchRoutes:lr,_internalFetchControllers:W,_internalActiveDeferreds:ve,_internalSetRoutes:Tn},L}function Kz(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Yw(n,e,t,r,i,s,a,l){let o,u;if(a){o=[];for(let f of e)if(o.push(f),f.route.id===a){u=f;break}}else o=e,u=e[e.length-1];let c=eb(i||".",ZM(o,s),Mu(n.pathname,t)||n.pathname,l==="path");return i==null&&(c.search=n.search,c.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!rb(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(c.pathname=c.pathname==="/"?t:vu([t,c.pathname])),ph(c)}function d2(n,e,t,r){if(!r||!Kz(r))return{path:t};if(r.formMethod&&!u8(r.formMethod))return{path:t,error:Ks(405,{method:r.formMethod})};let i=()=>({path:t,error:Ks(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=n?s.toUpperCase():s.toLowerCase(),l=EL(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ga(a))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[x,S]=v;return""+g+x+"="+S+`
`},""):String(r.body);return{path:t,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Ga(a))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}$n(typeof FormData=="function","FormData is not available in this environment");let o,u;if(r.formData)o=Kw(r.formData),u=r.formData;else if(r.body instanceof FormData)o=Kw(r.body),u=r.body;else if(r.body instanceof URLSearchParams)o=r.body,u=y2(o);else if(r.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(r.body),u=y2(o)}catch{return i()}let c={formMethod:a,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ga(c.formMethod))return{path:t,submission:c};let f=Cu(t);return e&&f.search&&rb(f.search)&&o.append("index",""),f.search="?"+o,{path:ph(f),submission:c}}function $z(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function p2(n,e,t,r,i,s,a,l,o,u,c,f,p,g,v,x){let S=x?Bo(x[1])?x[1].error:x[1].data:void 0,_=n.createURL(e.location),w=n.createURL(i),E=x&&Bo(x[1])?x[0]:void 0,T=E?$z(t,E):t,L=x?x[1].statusCode:void 0,A=a&&L&&L>=400,O=T.filter((F,P)=>{let{route:N}=F;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(Qz(e.loaderData,e.matches[P],F)||o.some(j=>j===F.route.id))return!0;let K=e.matches[P],$=F;return m2(F,ti({currentUrl:_,currentParams:K.params,nextUrl:w,nextParams:$.params},r,{actionResult:S,unstable_actionStatus:L,defaultShouldRevalidate:A?!1:l||_.pathname+_.search===w.pathname+w.search||_.search!==w.search||SL(K,$)}))}),U=[];return f.forEach((F,P)=>{if(s||!t.some(le=>le.route.id===F.routeId)||c.has(P))return;let N=zf(g,F.path,v);if(!N){U.push({key:P,routeId:F.routeId,path:F.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(P),$=jm(N,F.path),j=!1;p.has(P)?j=!1:u.includes(P)?j=!0:K&&K.state!=="idle"&&K.data===void 0?j=l:j=m2($,ti({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:t[t.length-1].params},r,{actionResult:S,unstable_actionStatus:L,defaultShouldRevalidate:A?!1:l})),j&&U.push({key:P,routeId:F.routeId,path:F.path,matches:N,match:$,controller:new AbortController})}),[O,U]}function Qz(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function SL(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function m2(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function Jz(n,e,t,r,i,s,a,l){let o=[e,...t.map(u=>u.route.id)].join("-");try{let u=a.get(o);u||(u=n({path:e,matches:t,patch:(c,f)=>{l.aborted||wL(c,f,r,i,s)}}),a.set(o,u)),u&&o8(u)&&await u}finally{a.delete(o)}}function wL(n,e,t,r,i){if(n){var s;let a=r[n];$n(a,"No route found to patch children into: routeId = "+n);let l=Cg(e,i,[n,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],r);a.children?a.children.push(...l):a.children=l}else{let a=Cg(e,i,["patch",String(t.length||"0")],r);t.push(...a)}}async function g2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];$n(i,"No route found in manifest");let s={};for(let a in r){let o=i[a]!==void 0&&a!=="hasErrorBoundary";dh(!o,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!o&&!Sz.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,ti({},e(i),{lazy:void 0}))}function Zz(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function e8(n,e,t,r,i,s,a,l){let o=r.reduce((f,p)=>f.add(p.route.id),new Set),u=new Set,c=await n({matches:i.map(f=>{let p=o.has(f.route.id);return ti({},f,{shouldLoad:p,resolve:v=>(u.add(f.route.id),p?t8(e,t,f,s,a,v,l):Promise.resolve({type:Gr.data,result:void 0}))})}),request:t,params:i[0].params,context:l});return i.forEach(f=>$n(u.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((f,p)=>o.has(i[p].route.id))}async function t8(n,e,t,r,i,s,a){let l,o,u=c=>{let f,p=new Promise((x,S)=>f=S);o=()=>f(),e.signal.addEventListener("abort",o);let g=x=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):c({request:e,params:t.params,context:a},...x!==void 0?[x]:[]),v;return s?v=s(x=>g(x)):v=(async()=>{try{return{type:"data",result:await g()}}catch(x){return{type:"error",result:x}}})(),Promise.race([v,p])};try{let c=t.route[n];if(t.route.lazy)if(c){let f,[p]=await Promise.all([u(c).catch(g=>{f=g}),g2(t.route,i,r)]);if(f!==void 0)throw f;l=p}else if(await g2(t.route,i,r),c=t.route[n],c)l=await u(c);else if(n==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw Ks(405,{method:e.method,pathname:p,routeId:t.route.id})}else return{type:Gr.data,result:void 0};else if(c)l=await u(c);else{let f=new URL(e.url),p=f.pathname+f.search;throw Ks(404,{pathname:p})}$n(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Gr.error,result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return l}async function n8(n){let{result:e,type:t,status:r}=n;if(ML(e)){let a;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(l){return{type:Gr.error,error:l}}return t===Gr.error?{type:Gr.error,error:new tb(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:Gr.data,data:a,statusCode:e.status,headers:e.headers}}if(t===Gr.error)return{type:Gr.error,error:e,statusCode:rx(e)?e.status:r};if(l8(e)){var i,s;return{type:Gr.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Gr.data,data:e,statusCode:r}}function r8(n,e,t,r,i,s){let a=n.headers.get("Location");if($n(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!nb.test(a)){let l=r.slice(0,r.findIndex(o=>o.route.id===t)+1);a=Yw(new URL(e.url),l,i,!0,a,s),n.headers.set("Location",a)}return n}function v2(n,e,t){if(nb.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Mu(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function id(n,e,t,r){let i=n.createURL(EL(e)).toString(),s={signal:t};if(r&&Ga(r.formMethod)){let{formMethod:a,formEncType:l}=r;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Kw(r.formData):s.body=r.formData}return new Request(i,s)}function Kw(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function y2(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function i8(n,e,t,r,i,s){let a={},l=null,o,u=!1,c={},f=r&&Bo(r[1])?r[1].error:void 0;return t.forEach((p,g)=>{let v=e[g].route.id;if($n(!qf(p),"Cannot handle redirect results in processLoaderData"),Bo(p)){let x=p.error;f!==void 0&&(x=f,f=void 0),l=l||{};{let S=ng(n,v);l[S.route.id]==null&&(l[S.route.id]=x)}a[v]=void 0,u||(u=!0,o=rx(p.error)?p.error.status:500),p.headers&&(c[v]=p.headers)}else Xf(p)?(i.set(v,p.deferredData),a[v]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!u&&(o=p.statusCode),p.headers&&(c[v]=p.headers)):(a[v]=p.data,p.statusCode&&p.statusCode!==200&&!u&&(o=p.statusCode),p.headers&&(c[v]=p.headers))}),f!==void 0&&r&&(l={[r[0]]:f},a[r[0]]=void 0),{loaderData:a,errors:l,statusCode:o||200,loaderHeaders:c}}function _2(n,e,t,r,i,s,a,l){let{loaderData:o,errors:u}=i8(e,t,r,i,l);for(let c=0;c<s.length;c++){let{key:f,match:p,controller:g}=s[c];$n(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let v=a[c];if(!(g&&g.signal.aborted))if(Bo(v)){let x=ng(n.matches,p==null?void 0:p.route.id);u&&u[x.route.id]||(u=ti({},u,{[x.route.id]:v.error})),n.fetchers.delete(f)}else if(qf(v))$n(!1,"Unhandled fetcher revalidation redirect");else if(Xf(v))$n(!1,"Unhandled fetcher deferred data");else{let x=cc(v.data);n.fetchers.set(f,x)}}return{loaderData:o,errors:u}}function x2(n,e,t,r){let i=ti({},e);for(let s of t){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):n[a]!==void 0&&s.route.loader&&(i[a]=n[a]),r&&r.hasOwnProperty(a))break}return i}function S2(n){return n?Bo(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ng(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function w2(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ks(n,e){let{pathname:t,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,l="Unknown Server Error",o="Unknown @remix-run/router error";return n===400?(l="Bad Request",s==="route-discovery"?o='Unable to match URL "'+t+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+a):i&&t&&r?o="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):n===403?(l="Forbidden",o='Route "'+r+'" does not match URL "'+t+'"'):n===404?(l="Not Found",o='No route matches URL "'+t+'"'):n===405&&(l="Method Not Allowed",i&&t&&r?o="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new tb(n||500,l,new Error(o),!0)}function E2(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(qf(t))return{result:t,idx:e}}}function EL(n){let e=typeof n=="string"?Cu(n):n;return ph(ti({},e,{hash:""}))}function s8(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function o8(n){return typeof n=="object"&&n!=null&&"then"in n}function a8(n){return ML(n.result)&&Wz.has(n.result.status)}function Xf(n){return n.type===Gr.deferred}function Bo(n){return n.type===Gr.error}function qf(n){return(n&&n.type)===Gr.redirect}function l8(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ML(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function u8(n){return Vz.has(n.toLowerCase())}function Ga(n){return Hz.has(n.toLowerCase())}async function M2(n,e,t,r,i,s){for(let a=0;a<t.length;a++){let l=t[a],o=e[a];if(!o)continue;let u=n.find(f=>f.route.id===o.route.id),c=u!=null&&!SL(u,o)&&(s&&s[o.route.id])!==void 0;if(Xf(l)&&(i||c)){let f=r[a];$n(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await bL(l,f,i).then(p=>{p&&(t[a]=p||t[a])})}}}async function bL(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Gr.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Gr.error,error:i}}return{type:Gr.data,data:n.deferredData.data}}}function rb(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function jm(n,e){let t=typeof e=="string"?Cu(e).search:e.search;if(n[n.length-1].route.index&&rb(t||""))return n[n.length-1];let r=yL(n);return r[r.length-1]}function b2(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:a}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function Y1(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c8(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mm(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function f8(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function cc(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function h8(n,e){try{let t=n.sessionStorage.getItem(xL);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function d8(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(xL,JSON.stringify(t))}catch(r){dh(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M_(){return M_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M_.apply(this,arguments)}const iv=Ae.createContext(null),ib=Ae.createContext(null),Vc=Ae.createContext(null),sb=Ae.createContext(null),xh=Ae.createContext({outlet:null,matches:[],isDataRoute:!1}),TL=Ae.createContext(null);function p8(n,e){let{relative:t}=e===void 0?{}:e;sv()||$n(!1);let{basename:r,navigator:i}=Ae.useContext(Vc),{hash:s,pathname:a,search:l}=ix(n,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:vu([r,a])),i.createHref({pathname:o,search:l,hash:s})}function sv(){return Ae.useContext(sb)!=null}function Sh(){return sv()||$n(!1),Ae.useContext(sb).location}function AL(n){Ae.useContext(Vc).static||Ae.useLayoutEffect(n)}function wh(){let{isDataRoute:n}=Ae.useContext(xh);return n?T8():m8()}function m8(){sv()||$n(!1);let n=Ae.useContext(iv),{basename:e,future:t,navigator:r}=Ae.useContext(Vc),{matches:i}=Ae.useContext(xh),{pathname:s}=Sh(),a=JSON.stringify(ZM(i,t.v7_relativeSplatPath)),l=Ae.useRef(!1);return AL(()=>{l.current=!0}),Ae.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=eb(u,JSON.parse(a),s,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:vu([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,s,n])}function ix(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=Ae.useContext(Vc),{matches:i}=Ae.useContext(xh),{pathname:s}=Sh(),a=JSON.stringify(ZM(i,r.v7_relativeSplatPath));return Ae.useMemo(()=>eb(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function g8(n,e,t,r){sv()||$n(!1);let{navigator:i}=Ae.useContext(Vc),{matches:s}=Ae.useContext(xh),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let u=Sh(),c;c=u;let f=c.pathname||"/",p=f;if(o!=="/"){let x=o.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=zf(n,{pathname:p});return S8(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:vu([o,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:vu([o,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,r)}function v8(){let n=b8(),e=rx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ae.createElement("pre",{style:i},t):null,null)}const y8=Ae.createElement(v8,null);class _8 extends Ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Ae.createElement(xh.Provider,{value:this.props.routeContext},Ae.createElement(TL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x8(n){let{routeContext:e,match:t,children:r}=n,i=Ae.useContext(iv);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Ae.createElement(xh.Provider,{value:e},r)}function S8(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let a=n,l=(i=t)==null?void 0:i.errors;if(l!=null){let c=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);c>=0||$n(!1),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:g}=t,v=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,p)=>{let g,v=!1,x=null,S=null;t&&(g=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||y8,o&&(u<0&&p===0?(A8("route-fallback"),v=!0,S=null):u===p&&(v=!0,S=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,p+1)),w=()=>{let E;return g?E=x:v?E=S:f.route.Component?E=Ae.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,Ae.createElement(x8,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Ae.createElement(_8,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var CL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(CL||{}),b_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(b_||{});function w8(n){let e=Ae.useContext(iv);return e||$n(!1),e}function E8(n){let e=Ae.useContext(ib);return e||$n(!1),e}function M8(n){let e=Ae.useContext(xh);return e||$n(!1),e}function RL(n){let e=M8(),t=e.matches[e.matches.length-1];return t.route.id||$n(!1),t.route.id}function b8(){var n;let e=Ae.useContext(TL),t=E8(b_.UseRouteError),r=RL(b_.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T8(){let{router:n}=w8(CL.UseNavigateStable),e=RL(b_.UseNavigateStable),t=Ae.useRef(!1);return AL(()=>{t.current=!0}),Ae.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,M_({fromRouteId:e},s)))},[n,e])}const T2={};function A8(n,e,t){T2[n]||(T2[n]=!0)}function C8(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Hi.Pop,navigator:s,static:a=!1,future:l}=n;sv()&&$n(!1);let o=e.replace(/^\/*/,"/"),u=Ae.useMemo(()=>({basename:o,navigator:s,static:a,future:M_({v7_relativeSplatPath:!1},l)}),[o,l,s,a]);typeof r=="string"&&(r=Cu(r));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,x=Ae.useMemo(()=>{let S=Mu(c,o);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:v},navigationType:i}},[o,c,f,p,g,v,i]);return x==null?null:Ae.createElement(Vc.Provider,{value:u},Ae.createElement(sb.Provider,{children:t,value:x}))}new Promise(()=>{});function R8(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:Ae.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Ae.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:Ae.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fp.apply(this,arguments)}function PL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function P8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L8(n,e){return n.button===0&&(!e||e==="_self")&&!P8(n)}const O8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],I8=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],N8="6";try{window.__reactRouterVersion=N8}catch{}function D8(n,e){return Yz({basename:void 0,future:fp({},void 0,{v7_prependBasename:!0}),history:yz({window:void 0}),hydrationData:U8(),routes:n,mapRouteProperties:R8,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function U8(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=fp({},e,{errors:F8(e.errors)})),e}function F8(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new tb(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",t[r]=a}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const LL=Ae.createContext({isTransitioning:!1}),B8=Ae.createContext(new Map),k8="startTransition",A2=ok[k8],z8="flushSync",C2=vz[z8];function H8(n){A2?A2(n):n()}function bm(n){C2?C2(n):n()}class G8{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function V8(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=Ae.useState(t.state),[a,l]=Ae.useState(),[o,u]=Ae.useState({isTransitioning:!1}),[c,f]=Ae.useState(),[p,g]=Ae.useState(),[v,x]=Ae.useState(),S=Ae.useRef(new Map),{v7_startTransition:_}=r||{},w=Ae.useCallback(O=>{_?H8(O):O()},[_]),E=Ae.useCallback((O,U)=>{let{deletedFetchers:F,unstable_flushSync:P,unstable_viewTransitionOpts:N}=U;F.forEach($=>S.current.delete($)),O.fetchers.forEach(($,j)=>{$.data!==void 0&&S.current.set(j,$.data)});let K=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!N||K){P?bm(()=>s(O)):w(()=>s(O));return}if(P){bm(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let $=t.window.document.startViewTransition(()=>{bm(()=>s(O))});$.finished.finally(()=>{bm(()=>{f(void 0),g(void 0),l(void 0),u({isTransitioning:!1})})}),bm(()=>g($));return}p?(c&&c.resolve(),p.skipTransition(),x({state:O,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(l(O),u({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[t.window,p,c,S,w]);Ae.useLayoutEffect(()=>t.subscribe(E),[t,E]),Ae.useEffect(()=>{o.isTransitioning&&!o.flushSync&&f(new G8)},[o]),Ae.useEffect(()=>{if(c&&a&&t.window){let O=a,U=c.promise,F=t.window.document.startViewTransition(async()=>{w(()=>s(O)),await U});F.finished.finally(()=>{f(void 0),g(void 0),l(void 0),u({isTransitioning:!1})}),g(F)}},[w,a,c,t.window]),Ae.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,p,i.location,a]),Ae.useEffect(()=>{!o.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),x(void 0))},[o.isTransitioning,v]),Ae.useEffect(()=>{},[]);let T=Ae.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:O=>t.navigate(O),push:(O,U,F)=>t.navigate(O,{state:U,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(O,U,F)=>t.navigate(O,{replace:!0,state:U,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[t]),L=t.basename||"/",A=Ae.useMemo(()=>({router:t,navigator:T,static:!1,basename:L}),[t,T,L]);return Ae.createElement(Ae.Fragment,null,Ae.createElement(iv.Provider,{value:A},Ae.createElement(ib.Provider,{value:i},Ae.createElement(B8.Provider,{value:S.current},Ae.createElement(LL.Provider,{value:o},Ae.createElement(C8,{basename:L,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?Ae.createElement(W8,{routes:t.routes,future:t.future,state:i}):e))))),null)}function W8(n){let{routes:e,future:t,state:r}=n;return g8(e,void 0,r,t)}const j8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OL=Ae.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:o,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,p=PL(e,O8),{basename:g}=Ae.useContext(Vc),v,x=!1;if(typeof u=="string"&&X8.test(u)&&(v=u,j8))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),L=Mu(T.pathname,g);T.origin===E.origin&&L!=null?u=L+T.search+T.hash:x=!0}catch{}let S=p8(u,{relative:i}),_=K8(u,{replace:a,state:l,target:o,preventScrollReset:c,relative:i,unstable_viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||_(E)}return Ae.createElement("a",fp({},p,{href:v||S,onClick:x||s?r:w,ref:t,target:o}))}),q8=Ae.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:o,unstable_viewTransition:u,children:c}=e,f=PL(e,I8),p=ix(o,{relative:f.relative}),g=Sh(),v=Ae.useContext(ib),{navigator:x,basename:S}=Ae.useContext(Vc),_=v!=null&&$8(p)&&u===!0,w=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,E=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(E=E.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&S&&(T=Mu(T,S)||T);const L=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let A=E===w||!a&&E.startsWith(w)&&E.charAt(L)==="/",O=T!=null&&(T===w||!a&&T.startsWith(w)&&T.charAt(w.length)==="/"),U={isActive:A,isPending:O,isTransitioning:_},F=A?r:void 0,P;typeof s=="function"?P=s(U):P=[s,A?"active":null,O?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(U):l;return Ae.createElement(OL,fp({},f,{"aria-current":F,className:P,ref:t,style:N,to:o,unstable_viewTransition:u}),typeof c=="function"?c(U):c)});var $w;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})($w||($w={}));var R2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(R2||(R2={}));function Y8(n){let e=Ae.useContext(iv);return e||$n(!1),e}function K8(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,o=wh(),u=Sh(),c=ix(n,{relative:a});return Ae.useCallback(f=>{if(L8(f,t)){f.preventDefault();let p=r!==void 0?r:ph(u)===ph(c);o(n,{replace:p,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:l})}},[u,o,c,r,i,t,n,s,a,l])}function $8(n,e){e===void 0&&(e={});let t=Ae.useContext(LL);t==null&&$n(!1);let{basename:r}=Y8($w.useViewTransitionState),i=ix(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Mu(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Mu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return E_(i.pathname,a)!=null||E_(i.pathname,s)!=null}var Q8={VITE_BOXBERRY_API_TOKEN:"a6a1e181d0e09531e0059bf3621f581f",VITE_BOXBERRY_KEY_TOKEN:"1$9ad707c2628d25fcd212a01daed532f3",VITE_CLOUDPAYMENTS_TOKEN:"pk_15732f58701e01bbff1459cfeb9bf",BASE_URL:"/maytry",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const P2=n=>{let e;const t=new Set,r=(c,f)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const g=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,g))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{(Q8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},u=e=n(r,i,o);return o},J8=n=>n?P2(n):P2;var IL={exports:{}},NL={},DL={exports:{}},UL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=Ae;function Z8(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var e6=typeof Object.is=="function"?Object.is:Z8,t6=hp.useState,n6=hp.useEffect,r6=hp.useLayoutEffect,i6=hp.useDebugValue;function s6(n,e){var t=e(),r=t6({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return r6(function(){i.value=t,i.getSnapshot=e,K1(i)&&s({inst:i})},[n,t,e]),n6(function(){return K1(i)&&s({inst:i}),n(function(){K1(i)&&s({inst:i})})},[n]),i6(t),t}function K1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!e6(n,t)}catch{return!0}}function o6(n,e){return e()}var a6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o6:s6;UL.useSyncExternalStore=hp.useSyncExternalStore!==void 0?hp.useSyncExternalStore:a6;DL.exports=UL;var l6=DL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=Ae,u6=l6;function c6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var f6=typeof Object.is=="function"?Object.is:c6,h6=u6.useSyncExternalStore,d6=sx.useRef,p6=sx.useEffect,m6=sx.useMemo,g6=sx.useDebugValue;NL.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=d6(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=m6(function(){function o(g){if(!u){if(u=!0,c=g,g=r(g),i!==void 0&&a.hasValue){var v=a.value;if(i(v,g))return f=v}return f=g}if(v=f,f6(c,g))return v;var x=r(g);return i!==void 0&&i(v,x)?v:(c=g,f=x)}var u=!1,c,f,p=t===void 0?null:t;return[function(){return o(e())},p===null?void 0:function(){return o(p())}]},[e,t,r,i]);var l=h6(n,s[0],s[1]);return p6(function(){a.hasValue=!0,a.value=l},[l]),g6(l),l};IL.exports=NL;var v6=IL.exports;const y6=Jg(v6);var FL={VITE_BOXBERRY_API_TOKEN:"a6a1e181d0e09531e0059bf3621f581f",VITE_BOXBERRY_KEY_TOKEN:"1$9ad707c2628d25fcd212a01daed532f3",VITE_CLOUDPAYMENTS_TOKEN:"pk_15732f58701e01bbff1459cfeb9bf",BASE_URL:"/maytry",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:_6}=ii,{useSyncExternalStoreWithSelector:x6}=y6;let L2=!1;const S6=n=>n;function w6(n,e=S6,t){(FL?"production":void 0)!=="production"&&t&&!L2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),L2=!0);const r=x6(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return _6(r),r}const O2=n=>{(FL?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?J8(n):n,t=(r,i)=>w6(e,r,i);return Object.assign(t,e),t},E6=n=>n?O2(n):O2;var M6={VITE_BOXBERRY_API_TOKEN:"a6a1e181d0e09531e0059bf3621f581f",VITE_BOXBERRY_KEY_TOKEN:"1$9ad707c2628d25fcd212a01daed532f3",VITE_CLOUDPAYMENTS_TOKEN:"pk_15732f58701e01bbff1459cfeb9bf",BASE_URL:"/maytry",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function b6(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const a=o=>o===null?null:JSON.parse(o,void 0),l=(s=t.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const Rg=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Rg(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Rg(r)(t)}}}},T6=(n,e)=>(t,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...e},a=!1;const l=new Set,o=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...S)},r,i);const c=Rg(s.serialize),f=()=>{const S=s.partialize({...r()});let _;const w=c({state:S,version:s.version}).then(E=>u.setItem(s.name,E)).catch(E=>{_=E});if(_)throw _;return w},p=i.setState;i.setState=(S,_)=>{p(S,_),f()};const g=n((...S)=>{t(...S),f()},r,i);let v;const x=()=>{var S;if(!u)return;a=!1,l.forEach(w=>w(r()));const _=((S=s.onRehydrateStorage)==null?void 0:S.call(s,r()))||void 0;return Rg(u.getItem.bind(u))(s.name).then(w=>{if(w)return s.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var E;return v=s.merge(w,(E=r())!=null?E:g),t(v,!0),f()}).then(()=>{_==null||_(v,void 0),a=!0,o.forEach(w=>w(v))}).catch(w=>{_==null||_(void 0,w)})};return i.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:S=>(l.add(S),()=>{l.delete(S)}),onFinishHydration:S=>(o.add(S),()=>{o.delete(S)})},x(),v||g},A6=(n,e)=>(t,r,i)=>{let s={storage:b6(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...e},a=!1;const l=new Set,o=new Set;let u=s.storage;if(!u)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...x)},r,i);const c=()=>{const x=s.partialize({...r()});return u.setItem(s.name,{state:x,version:s.version})},f=i.setState;i.setState=(x,S)=>{f(x,S),c()};const p=n((...x)=>{t(...x),c()},r,i);i.getInitialState=()=>p;let g;const v=()=>{var x,S;if(!u)return;a=!1,l.forEach(w=>{var E;return w((E=r())!=null?E:p)});const _=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(x=r())!=null?x:p))||void 0;return Rg(u.getItem.bind(u))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var E;return g=s.merge(w,(E=r())!=null?E:p),t(g,!0),c()}).then(()=>{_==null||_(g,void 0),g=r(),a=!0,o.forEach(w=>w(g))}).catch(w=>{_==null||_(void 0,w)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(o.add(x),()=>{o.delete(x)})},s.skipHydration||v(),g||p},C6=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((M6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),T6(n,e)):A6(n,e),R6=C6,pt=E6(R6(n=>({user:null,setUser:e=>n({user:e}),hoveredItem:void 0,setHoveredItem:e=>n({hoveredItem:e}),mainPageView:"IMG",setMainPageView:e=>n({mainPageView:e}),showSearch:!1,setShowSearch:e=>n({showSearch:e}),searchString:"",setSearchString:e=>n({searchString:e}),showFilter:!1,setShowFilter:e=>n({showFilter:e}),filterBy:[],setFilterBy:e=>n({filterBy:e}),showExtendedFilter:!1,setShowExtendedFilter:e=>n({showExtendedFilter:e}),showAccount:!1,setShowAccount:e=>n({showAccount:e}),itemsInCart:[],setItemInCart:(e,t)=>n(r=>{const i=r.itemsInCart.map(s=>s.id).indexOf(e.id);return{itemsInCart:i!==-1?[...r.itemsInCart.slice(0,i),...t>0?[{...e,quantity:t}]:[],...r.itemsInCart.slice(i+1)]:[...r.itemsInCart,...t>0?[{...e,quantity:t}]:[]]}}),emptyCart:()=>n({itemsInCart:[]}),showStartBanner:!0,setShowStartBanner:e=>n({showStartBanner:e}),priceFrom:void 0,setPriceFrom:e=>n({priceFrom:e}),priceTo:void 0,setPriceTo:e=>n({priceTo:e}),sortOrder:"asc",setSortOrder:e=>n({sortOrder:e}),selectedColorIds:[],setSelectedColorIds:e=>n({selectedColorIds:e}),selectedSizesIds:[],setSelectedSizesIds:e=>n({selectedSizesIds:e}),boxberryData:void 0,setBoxberryData:e=>n({boxberryData:e}),userCity:"",setUserCity:e=>n({userCity:e}),userFullName:"",setUserFullName:e=>n({userFullName:e}),userPhone:"",setUserPhone:e=>n({userPhone:e}),userEmail:"",setUserEmail:e=>n({userEmail:e}),deliveryType:"Доставка до двери",setDeliveryType:e=>n({deliveryType:e}),userAddress:"",setUserAddress:e=>n({userAddress:e}),userZIP:"",setUserZIP:e=>n({userZIP:e}),userZIP_DeliveryPrice:0,setUserZIP_DeliveryPrice:e=>n({userZIP_DeliveryPrice:e}),paymentType:"Оплата онлайн",setPaymentType:e=>n({paymentType:e}),parselCreateError:void 0,setParselCreateError:e=>n({parselCreateError:e})}),{name:"main-storage"})),P6=()=>ee.jsx("div",{className:"Loader",children:"Загрузка..."});function Qw(n,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Qw(n,e)}function ov(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Qw(n,e)}var av=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(a){return a!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();function br(){return br=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},br.apply(null,arguments)}var T_=typeof window>"u";function Rs(){}function L6(n,e){return typeof n=="function"?n(e):n}function Jw(n){return typeof n=="number"&&n>=0&&n!==1/0}function A_(n){return Array.isArray(n)?n:[n]}function BL(n,e){return Math.max(n+(e||0)-Date.now(),0)}function k0(n,e,t){return ox(n)?typeof e=="function"?br({},t,{queryKey:n,queryFn:e}):br({},e,{queryKey:n}):n}function dc(n,e,t){return ox(n)?[br({},e,{queryKey:n}),t]:[n||{},e]}function O6(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function I2(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,a=n.predicate,l=n.queryKey,o=n.stale;if(ox(l)){if(r){if(e.queryHash!==ob(l,e.options))return!1}else if(!C_(e.queryKey,l))return!1}var u=O6(t,s);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof i=="boolean"&&e.isFetching()!==i||a&&!a(e))}function N2(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(ox(s)){if(!e.options.mutationKey)return!1;if(t){if(Yf(e.options.mutationKey)!==Yf(s))return!1}else if(!C_(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function ob(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||Yf;return t(n)}function Yf(n){var e=A_(n);return I6(e)}function I6(n){return JSON.stringify(n,function(e,t){return Zw(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function C_(n,e){return kL(A_(n),A_(e))}function kL(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!kL(n[t],e[t])}):!1}function R_(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||Zw(n)&&Zw(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,a=t?[]:{},l=0,o=0;o<s;o++){var u=t?o:i[o];a[u]=R_(n[u],e[u]),a[u]===n[u]&&l++}return r===s&&l===r?n:a}return e}function N6(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function Zw(n){if(!D2(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!D2(t)||!t.hasOwnProperty("isPrototypeOf"))}function D2(n){return Object.prototype.toString.call(n)==="[object Object]"}function ox(n){return typeof n=="string"||Array.isArray(n)}function D6(n){return new Promise(function(e){setTimeout(e,n)})}function U2(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function zL(){if(typeof AbortController=="function")return new AbortController}var U6=function(n){ov(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!T_&&((s=window)!=null&&s.addEventListener)){var a=function(){return i()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,a=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(l){typeof l=="boolean"?a.setFocused(l):a.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(av),rg=new U6,F6=function(n){ov(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!T_&&((s=window)!=null&&s.addEventListener)){var a=function(){return i()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,a=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(l){typeof l=="boolean"?a.setOnline(l):a.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(av),z0=new F6;function B6(n){return Math.min(1e3*Math.pow(2,n),3e4)}function P_(n){return typeof(n==null?void 0:n.cancel)=="function"}var HL=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function H0(n){return n instanceof HL}var GL=function(e){var t=this,r=!1,i,s,a,l;this.abort=e.abort,this.cancel=function(p){return i==null?void 0:i(p)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,g){a=p,l=g});var o=function(g){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(g),s==null||s(),a(g))},u=function(g){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(g),s==null||s(),l(g))},c=function(){return new Promise(function(g){s=g,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function p(){if(!t.isResolved){var g;try{g=e.fn()}catch(v){g=Promise.reject(v)}i=function(x){if(!t.isResolved&&(u(new HL(x)),t.abort==null||t.abort(),P_(g)))try{g.cancel()}catch{}},t.isTransportCancelable=P_(g),Promise.resolve(g).then(o).catch(function(v){var x,S;if(!t.isResolved){var _=(x=e.retry)!=null?x:3,w=(S=e.retryDelay)!=null?S:B6,E=typeof w=="function"?w(t.failureCount,v):w,T=_===!0||typeof _=="number"&&t.failureCount<_||typeof _=="function"&&_(t.failureCount,v);if(r||!T){u(v);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,v),D6(E).then(function(){if(!rg.isFocused()||!z0.isOnline())return c()}).then(function(){r?u(v):p()})}})}};f()},k6=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):U2(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.schedule(function(){r.apply(void 0,a)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&U2(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),yi=new k6,VL=console;function L_(){return VL}function z6(n){VL=n}var H6=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=br({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Jw(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,a,l=this.state.data,o=L6(r,l);return(s=(a=this.options).isDataEqual)!=null&&s.call(a,l,o)?o=l:this.options.structuralSharing!==!1&&(o=R_(l,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),o},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(Rs).catch(Rs):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!BL(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,a,l,o;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(w){return w.options.queryFn});c&&this.setOptions(c.options)}var f=A_(this.queryKey),p=zL(),g={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(p)return s.abortSignalConsumed=!0,p.signal}});var v=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(g)):Promise.reject("Missing queryFn")},x={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:v,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var S;(S=this.options.behavior)==null||S.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=x.fetchOptions)==null?void 0:l.meta)){var _;this.dispatch({type:"fetch",meta:(_=x.fetchOptions)==null?void 0:_.meta})}return this.retryer=new GL({fn:x.fetchFn,abort:p==null||(o=p.abort)==null?void 0:o.bind(p),onSuccess:function(E){s.setData(E),s.cache.config.onSuccess==null||s.cache.config.onSuccess(E,s),s.cacheTime===0&&s.optionalRemove()},onError:function(E){H0(E)&&E.silent||s.dispatch({type:"error",error:E}),H0(E)||(s.cache.config.onError==null||s.cache.config.onError(E,s),L_().error(E)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),yi.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",a=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:l?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(r,i){var s,a;switch(i.type){case"failed":return br({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return br({},r,{isPaused:!0});case"continue":return br({},r,{isPaused:!1});case"fetch":return br({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return br({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=i.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=i.error;return H0(l)&&l.revert&&this.revertState?br({},this.revertState):br({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return br({},r,{isInvalidated:!0});case"setState":return br({},r,i.state);default:return r}},n}(),G6=function(n){ov(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,a){var l,o=s.queryKey,u=(l=s.queryHash)!=null?l:ob(o,s),c=this.get(u);return c||(c=new H6({cache:this,queryKey:o,queryHash:u,options:i.defaultQueryOptions(s),state:a,defaultOptions:i.getQueryDefaults(o),meta:s.meta}),this.add(c)),c},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(a){return a!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;yi.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var a=dc(i,s),l=a[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(o){return I2(l,o)})},t.findAll=function(i,s){var a=dc(i,s),l=a[0];return Object.keys(l).length>0?this.queries.filter(function(o){return I2(l,o)}):this.queries},t.notify=function(i){var s=this;yi.batch(function(){s.listeners.forEach(function(a){a(i)})})},t.onFocus=function(){var i=this;yi.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;yi.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(av),V6=function(){function n(t){this.options=br({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||W6(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Rs).catch(Rs)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",a=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),a.then(function(){return r.executeMutation()}).then(function(l){i=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),L_().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var r=this,i;return this.retryer=new GL({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=j6(this.state,r),yi.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function W6(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function j6(n,e){switch(e.type){case"failed":return br({},n,{failureCount:n.failureCount+1});case"pause":return br({},n,{isPaused:!0});case"continue":return br({},n,{isPaused:!1});case"loading":return br({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return br({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return br({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return br({},n,e.state);default:return n}}var X6=function(n){ov(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,a){var l=new V6({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:a,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(l),l},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;yi.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return N2(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return N2(i,s)})},t.notify=function(i){var s=this;yi.batch(function(){s.listeners.forEach(function(a){a(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return yi.batch(function(){return i.reduce(function(s,a){return s.then(function(){return a.continue().catch(Rs)})},Promise.resolve())})},e}(av);function q6(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,a,l,o=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",p=(u==null?void 0:u.direction)==="backward",g=((a=e.state.data)==null?void 0:a.pages)||[],v=((l=e.state.data)==null?void 0:l.pageParams)||[],x=zL(),S=x==null?void 0:x.signal,_=v,w=!1,E=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},T=function(j,le,re,W){return _=W?[le].concat(_):[].concat(_,[le]),W?[re].concat(j):[].concat(j,[re])},L=function(j,le,re,W){if(w)return Promise.reject("Cancelled");if(typeof re>"u"&&!le&&j.length)return Promise.resolve(j);var G={queryKey:e.queryKey,signal:S,pageParam:re,meta:e.meta},V=E(G),k=Promise.resolve(V).then(function(te){return T(j,re,te,W)});if(P_(V)){var ie=k;ie.cancel=V.cancel}return k},A;if(!g.length)A=L([]);else if(f){var O=typeof c<"u",U=O?c:F2(e.options,g);A=L(g,O,U)}else if(p){var F=typeof c<"u",P=F?c:Y6(e.options,g);A=L(g,F,P,!0)}else(function(){_=[];var $=typeof e.options.getNextPageParam>"u",j=o&&g[0]?o(g[0],0,g):!0;A=j?L([],$,v[0]):Promise.resolve(T([],v[0],g[0]));for(var le=function(G){A=A.then(function(V){var k=o&&g[G]?o(g[G],G,g):!0;if(k){var ie=$?v[G]:F2(e.options,V);return L(V,$,ie)}return Promise.resolve(T(V,v[G],g[G]))})},re=1;re<g.length;re++)le(re)})();var N=A.then(function($){return{pages:$,pageParams:_}}),K=N;return K.cancel=function(){w=!0,x==null||x.abort(),P_(A)&&A.cancel()},N}}}}function F2(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Y6(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var K6=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new G6,this.mutationCache=t.mutationCache||new X6,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=rg.subscribe(function(){rg.isFocused()&&z0.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=z0.subscribe(function(){rg.isFocused()&&z0.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=dc(r,i),a=s[0];return a.fetching=!0,this.queryCache.findAll(a).length},e.isMutating=function(r){return this.mutationCache.findAll(br({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,a=i.state,l=a.data;return[s,l]})},e.setQueryData=function(r,i,s){var a=k0(r),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(i,s)},e.setQueriesData=function(r,i,s){var a=this;return yi.batch(function(){return a.getQueryCache().findAll(r).map(function(l){var o=l.queryKey;return[o,a.setQueryData(o,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=dc(r,i),a=s[0],l=this.queryCache;yi.batch(function(){l.findAll(a).forEach(function(o){l.remove(o)})})},e.resetQueries=function(r,i,s){var a=this,l=dc(r,i,s),o=l[0],u=l[1],c=this.queryCache,f=br({},o,{active:!0});return yi.batch(function(){return c.findAll(o).forEach(function(p){p.reset()}),a.refetchQueries(f,u)})},e.cancelQueries=function(r,i,s){var a=this,l=dc(r,i,s),o=l[0],u=l[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var f=yi.batch(function(){return a.queryCache.findAll(o).map(function(p){return p.cancel(c)})});return Promise.all(f).then(Rs).catch(Rs)},e.invalidateQueries=function(r,i,s){var a,l,o,u=this,c=dc(r,i,s),f=c[0],p=c[1],g=br({},f,{active:(a=(l=f.refetchActive)!=null?l:f.active)!=null?a:!0,inactive:(o=f.refetchInactive)!=null?o:!1});return yi.batch(function(){return u.queryCache.findAll(f).forEach(function(v){v.invalidate()}),u.refetchQueries(g,p)})},e.refetchQueries=function(r,i,s){var a=this,l=dc(r,i,s),o=l[0],u=l[1],c=yi.batch(function(){return a.queryCache.findAll(o).map(function(p){return p.fetch(void 0,br({},u,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))})}),f=Promise.all(c).then(Rs);return u!=null&&u.throwOnError||(f=f.catch(Rs)),f},e.fetchQuery=function(r,i,s){var a=k0(r,i,s),l=this.defaultQueryOptions(a);typeof l.retry>"u"&&(l.retry=!1);var o=this.queryCache.build(this,l);return o.isStaleByTime(l.staleTime)?o.fetch(l):Promise.resolve(o.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(Rs).catch(Rs)},e.fetchInfiniteQuery=function(r,i,s){var a=k0(r,i,s);return a.behavior=q6(),this.fetchQuery(a)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(Rs).catch(Rs)},e.cancelMutations=function(){var r=this,i=yi.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Rs).catch(Rs)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(a){return Yf(r)===Yf(a.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return C_(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(a){return Yf(r)===Yf(a.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return C_(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=br({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=ob(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:br({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),$6=function(n){ov(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),B2(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return eE(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return eE(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var a=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var o=this.hasListeners();o&&k2(this.currentQuery,l,this.options,a)&&this.executeFetch(),this.updateResult(s),o&&(this.currentQuery!==l||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();o&&(this.currentQuery!==l||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,s);return this.createResult(a,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var a=this,l={},o=function(c){a.trackedProps.includes(c)||a.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return o(u),i[u]}})}),(s.useErrorBoundary||s.suspense)&&o("error"),l},t.getNextResult=function(i){var s=this;return new Promise(function(a,l){var o=s.subscribe(function(u){u.isFetching||(o(),u.isError&&(i!=null&&i.throwOnError)?l(u.error):a(u))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch(br({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,a=this.client.defaultQueryObserverOptions(i),l=this.client.getQueryCache().build(this.client,a);return l.fetch().then(function(){return s.createResult(l,a)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(Rs)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(T_||this.currentResult.isStale||!Jw(this.options.staleTime))){var s=BL(this.currentResult.dataUpdatedAt,this.options.staleTime),a=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},a)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(T_||this.options.enabled===!1||!Jw(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||rg.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var a=this.currentQuery,l=this.options,o=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,f=i!==a,p=f?i.state:this.currentQueryInitialState,g=f?this.currentResult:this.previousQueryResult,v=i.state,x=v.dataUpdatedAt,S=v.error,_=v.errorUpdatedAt,w=v.isFetching,E=v.status,T=!1,L=!1,A;if(s.optimisticResults){var O=this.hasListeners(),U=!O&&B2(i,s),F=O&&k2(i,a,s,l);(U||F)&&(w=!0,x||(E="loading"))}if(s.keepPreviousData&&!v.dataUpdateCount&&(g!=null&&g.isSuccess)&&E!=="error")A=g.data,x=g.dataUpdatedAt,E=g.status,T=!0;else if(s.select&&typeof v.data<"u")if(o&&v.data===(u==null?void 0:u.data)&&s.select===this.selectFn)A=this.selectResult;else try{this.selectFn=s.select,A=s.select(v.data),s.structuralSharing!==!1&&(A=R_(o==null?void 0:o.data,A)),this.selectResult=A,this.selectError=null}catch(K){L_().error(K),this.selectError=K}else A=v.data;if(typeof s.placeholderData<"u"&&typeof A>"u"&&(E==="loading"||E==="idle")){var P;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))P=o.data;else if(P=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof P<"u")try{P=s.select(P),s.structuralSharing!==!1&&(P=R_(o==null?void 0:o.data,P)),this.selectError=null}catch(K){L_().error(K),this.selectError=K}typeof P<"u"&&(E="success",A=P,L=!0)}this.selectError&&(S=this.selectError,A=this.selectResult,_=Date.now(),E="error");var N={status:E,isLoading:E==="loading",isSuccess:E==="success",isError:E==="error",isIdle:E==="idle",data:A,dataUpdatedAt:x,error:S,errorUpdatedAt:_,failureCount:v.fetchFailureCount,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:w,isRefetching:w&&E!=="loading",isLoadingError:E==="error"&&v.dataUpdatedAt===0,isPlaceholderData:L,isPreviousData:T,isRefetchError:E==="error"&&v.dataUpdatedAt!==0,isStale:ab(i,s),refetch:this.refetch,remove:this.remove};return N},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var a=this.options,l=a.notifyOnChangeProps,o=a.notifyOnChangePropsExclusions;if(!l&&!o||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(i).some(function(c){var f=c,p=i[f]!==s[f],g=u==null?void 0:u.some(function(x){return x===c}),v=o==null?void 0:o.some(function(x){return x===c});return p&&!v&&(!u||g)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!N6(this.currentResult,s)){var a={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(a.listeners=!0),this.notify(br({},a,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!H0(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;yi.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(a){a(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(av);function Q6(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function B2(n,e){return Q6(n,e)||n.state.dataUpdatedAt>0&&eE(n,e,e.refetchOnMount)}function eE(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&ab(n,e)}return!1}function k2(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&ab(n,t)}function ab(n,e){return n.isStaleByTime(e.staleTime)}var J6=mL.unstable_batchedUpdates;yi.setBatchNotifyFunction(J6);var Z6=console;z6(Z6);var z2=ii.createContext(void 0),WL=ii.createContext(!1);function jL(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=z2),window.ReactQueryClientContext):z2}var ax=function(){var e=ii.useContext(jL(ii.useContext(WL)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},e7=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;ii.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var a=jL(i);return ii.createElement(WL.Provider,{value:i},ii.createElement(a.Provider,{value:t},s))};function t7(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var n7=ii.createContext(t7()),r7=function(){return ii.useContext(n7)};function i7(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function s7(n,e){var t=ii.useRef(!1),r=ii.useState(0),i=r[1],s=ax(),a=r7(),l=s.defaultQueryObserverOptions(n);l.optimisticResults=!0,l.onError&&(l.onError=yi.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=yi.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=yi.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(a.isReset()||(l.retryOnMount=!1));var o=ii.useState(function(){return new e(s,l)}),u=o[0],c=u.getOptimisticResult(l);if(ii.useEffect(function(){t.current=!0,a.clearReset();var f=u.subscribe(yi.batchCalls(function(){t.current&&i(function(p){return p+1})}));return u.updateResult(),function(){t.current=!1,f()}},[a,u]),ii.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&c.isLoading)throw u.fetchOptimistic(l).then(function(f){var p=f.data;l.onSuccess==null||l.onSuccess(p),l.onSettled==null||l.onSettled(p,null)}).catch(function(f){a.clearReset(),l.onError==null||l.onError(f),l.onSettled==null||l.onSettled(void 0,f)});if(c.isError&&!a.isReset()&&!c.isFetching&&i7(l.suspense,l.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return l.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,l)),c}function lb(n,e,t){var r=k0(n,e,t);return s7(r,$6)}const yr=({title:n,children:e,onClick:t,disabled:r,className:i,gray:s,black:a,transparent:l,medium:o,hoverable:u,...c})=>ee.jsxs("button",{disabled:r,className:`
        Button
        ${r&&"Button--disabled"}
        ${s&&"Button--gray"}
        ${a&&"Button--black"}
        ${l&&"Button--transparent"}
        ${o&&"Button--medium"}
        ${u&&"Button--hoverable"}
        ${i}
      `,onClick:f=>{t==null||t(f)},...c,children:[n||"",e]}),o7="user%3D%257B%2522id%2522%253A55439398%252C%2522first_name%2522%253A%2522LEF%2522%252C%2522last_name%2522%253A%2522VASILYEV%2522%252C%2522username%2522%253A%2522the_sociophobic%2522%257D%26hash%3D8885bafa5d3204428fd53bfa86583ac1551b5a87afbd50b168fad5944ecc32b5",XL=()=>{var n,e;return((e=(n=window.Telegram)==null?void 0:n.WebApp)==null?void 0:e.initData)||o7},a7=()=>!!XL(),qL=()=>a7()?JSON.parse(Object.fromEntries(new URLSearchParams(decodeURIComponent(XL()))).user):void 0,gs=({className:n,activeClassName:e,style:t,to:r,sameTab:i,children:s,onClick:a,disabled:l,exact:o,outerRef:u,...c})=>l||!r?ee.jsx("span",{ref:u,className:`Link Link--disabled ${n}`,style:t,onClick:f=>a==null?void 0:a(f),...c,children:s}):r.match(/http*|tel:*|mailto:*|#[a-zA-Z0-9]+/)?ee.jsx("a",{ref:u,className:`Link ${n}`,style:t,href:r,target:i?"":"_blank",rel:"noreferrer",onClick:f=>a==null?void 0:a(f),...c,children:s}):e?ee.jsx(q8,{ref:u,end:typeof o<"u"?o:!0,to:r,className:({isActive:f})=>f?`Link--active ${e}`:`Link ${n}`,style:t,onClick:f=>{var p,g,v,x;(x=(v=(g=(p=window==null?void 0:window.Telegram)==null?void 0:p.WebApp)==null?void 0:g.BackButton)==null?void 0:v.show)==null||x.call(v),a==null||a(f)},...c,children:s}):ee.jsx(OL,{ref:u,to:r,className:`Link ${n}`,style:t,onClick:f=>{var p,g,v,x;(x=(v=(g=(p=window==null?void 0:window.Telegram)==null?void 0:p.WebApp)==null?void 0:g.BackButton)==null?void 0:v.show)==null||x.call(v),a==null||a(f)},...c,children:s}),l7=()=>{const{setUser:n}=pt(),e=ax(),t=wh();return ee.jsx("div",{className:"container",children:ee.jsxs("div",{className:"row",children:[ee.jsx("h3",{className:"h3 mb-5",children:"Вход"}),ee.jsx("p",{className:"p"}),ee.jsx(gs,{children:ee.jsx(yr,{gray:!0,onClick:()=>{n(qL()),t("/account"),setTimeout(()=>e.invalidateQueries({queryKey:["user"]}),25)},children:"Войти"})})]})})},ub=({name:n,colorCode:e,className:t,onClick:r,selected:i})=>ee.jsx("div",{className:`Color ${i&&"Color--selected"} ${t}`,style:{backgroundColor:e},onClick:r}),YL=({color:n,sizes:e,className:t})=>ee.jsxs("div",{className:`ColorSizes ${t}`,children:[n&&ee.jsx(ub,{...n,className:"me-3"}),e.map((r,i)=>ee.jsx("div",{className:`
            ColorSizes__size
            ${typeof r.available=="boolean"&&!r.available&&"text-disabled"}
          `,children:r.name},i))]}),KL=n=>{var e;return n.defaultPrice||((e=n.color_price_size)==null?void 0:e[0].price)||void 0},$L=n=>{var e;return n.defaultSalePrice||((e=n.color_price_size)==null?void 0:e[0].salePrice)||void 0},sd=n=>$L(n)||KL(n)||1e4,la=n=>{const e=n+"",t=e.length%3-1;return[...e].map((r,i)=>i>=t&&(i-t)%3===0?r+" ":r).join("")+" RUB"},cb=({price:n,salePrice:e,className:t})=>ee.jsxs("div",{className:`d-flex flex-column ${t}`,children:[ee.jsx("div",{className:e?"text-strikethrough":"",children:la(n)}),e&&ee.jsx("div",{children:la(e)})]}),QL=({value:n,onChange:e,max:t})=>ee.jsx("div",{className:"QuantitySelector",children:ee.jsxs("div",{className:"d-flex flex-row align-items-center",children:[ee.jsx(yr,{black:!0,className:"",onClick:()=>e(n-1),children:"-"}),ee.jsx("div",{className:"mx-3 no-select",children:n}),n<t&&ee.jsx(yr,{black:!0,className:"",onClick:()=>e(n+1),children:"+"})]})}),wp=()=>{const{itemsInCart:n}=pt();return n.map(t=>(t.salePrice||t.price)*t.quantity).reduce((t,r)=>t+r,0)};var O_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */O_.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,p=2,g=4,v=1,x=2,S=1,_=2,w=4,E=8,T=16,L=32,A=64,O=128,U=256,F=512,P=30,N="...",K=800,$=16,j=1,le=2,re=3,W=1/0,G=9007199254740991,V=17976931348623157e292,k=NaN,ie=4294967295,te=ie-1,se=ie>>>1,oe=[["ary",O],["bind",S],["bindKey",_],["curry",E],["curryRight",T],["flip",F],["partial",L],["partialRight",A],["rearg",U]],ve="[object Arguments]",xe="[object Array]",he="[object AsyncFunction]",Ue="[object Boolean]",ke="[object Date]",Qe="[object DOMException]",Le="[object Error]",Q="[object Function]",He="[object GeneratorFunction]",Pe="[object Map]",Je="[object Number]",Ye="[object Null]",mt="[object Object]",gt="[object Promise]",ne="[object Proxy]",Y="[object RegExp]",Ie="[object Set]",st="[object String]",ot="[object Symbol]",be="[object Undefined]",pe="[object WeakMap]",Ge="[object WeakSet]",Fe="[object ArrayBuffer]",nt="[object DataView]",Ce="[object Float32Array]",De="[object Float64Array]",Ut="[object Int8Array]",Bt="[object Int16Array]",Ct="[object Int32Array]",wt="[object Uint8Array]",ut="[object Uint8ClampedArray]",It="[object Uint16Array]",Kt="[object Uint32Array]",Mn=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,Rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ce=/&(?:amp|lt|gt|quot|#39);/g,Re=/[&<>"']/g,We=RegExp(ce.source),dt=RegExp(Re.source),St=/<%-([\s\S]+?)%>/g,Gt=/<%([\s\S]+?)%>/g,Qt=/<%=([\s\S]+?)%>/g,En=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nn=/^\w*$/,Tn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(lr.source),_e=/^\s+/,je=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Jt=/,? & /,mn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dt=/[()=,{}\[\]\/\s]/,An=/\\(\\)?/g,an=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ln=/\w*$/,ae=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,rn="\\ud800-\\udfff",gn="\\u0300-\\u036f",pn="\\ufe20-\\ufe2f",un="\\u20d0-\\u20ff",dr=gn+pn+un,ur="\\u2700-\\u27bf",Jn="a-z\\xdf-\\xf6\\xf8-\\xff",sn="\\xac\\xb1\\xd7\\xf7",Wt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kt="\\u2000-\\u206f",kn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yn="A-Z\\xc0-\\xd6\\xd8-\\xde",Tr="\\ufe0e\\ufe0f",nr=sn+Wt+kt+kn,Qi="['’]",li="["+rn+"]",Pr="["+nr+"]",hs="["+dr+"]",ya="\\d+",Si="["+ur+"]",qo="["+Jn+"]",Ji="[^"+rn+nr+ya+ur+Jn+yn+"]",Qa="\\ud83c[\\udffb-\\udfff]",Ip="(?:"+hs+"|"+Qa+")",Ru="[^"+rn+"]",_a="(?:\\ud83c[\\udde6-\\uddff]){2}",xa="[\\ud800-\\udbff][\\udc00-\\udfff]",so="["+yn+"]",Ja="\\u200d",Il="(?:"+qo+"|"+Ji+")",Kc="(?:"+so+"|"+Ji+")",Sa="(?:"+Qi+"(?:d|ll|m|re|s|t|ve))?",wa="(?:"+Qi+"(?:D|LL|M|RE|S|T|VE))?",Ea=Ip+"?",Pu="["+Tr+"]?",Nl="(?:"+Ja+"(?:"+[Ru,_a,xa].join("|")+")"+Pu+Ea+")*",rr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ch="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Za=Pu+Ea+Nl,Lu="(?:"+[Si,_a,xa].join("|")+")"+Za,Rh="(?:"+[Ru+hs+"?",hs,_a,xa,li].join("|")+")",Np=RegExp(Qi,"g"),ui=RegExp(hs,"g"),el=RegExp(Qa+"(?="+Qa+")|"+Rh+Za,"g"),Ma=RegExp([so+"?"+qo+"+"+Sa+"(?="+[Pr,so,"$"].join("|")+")",Kc+"+"+wa+"(?="+[Pr,so+Il,"$"].join("|")+")",so+"?"+Il+"+"+Sa,so+"+"+wa,Ch,rr,ya,Lu].join("|"),"g"),Ou=RegExp("["+Ja+rn+dr+Tr+"]"),Ph=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ui=-1,Ar={};Ar[Ce]=Ar[De]=Ar[Ut]=Ar[Bt]=Ar[Ct]=Ar[wt]=Ar[ut]=Ar[It]=Ar[Kt]=!0,Ar[ve]=Ar[xe]=Ar[Fe]=Ar[Ue]=Ar[nt]=Ar[ke]=Ar[Le]=Ar[Q]=Ar[Pe]=Ar[Je]=Ar[mt]=Ar[Y]=Ar[Ie]=Ar[st]=Ar[pe]=!1;var Sr={};Sr[ve]=Sr[xe]=Sr[Fe]=Sr[nt]=Sr[Ue]=Sr[ke]=Sr[Ce]=Sr[De]=Sr[Ut]=Sr[Bt]=Sr[Ct]=Sr[Pe]=Sr[Je]=Sr[mt]=Sr[Y]=Sr[Ie]=Sr[st]=Sr[ot]=Sr[wt]=Sr[ut]=Sr[It]=Sr[Kt]=!0,Sr[Le]=Sr[Q]=Sr[pe]=!1;var xs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},bo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Iu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ul={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lh=parseFloat,Dp=parseInt,wi=typeof mc=="object"&&mc&&mc.Object===Object&&mc,wr=typeof self=="object"&&self&&self.Object===Object&&self,jr=wi||wr||Function("return this")(),Nu=e&&!e.nodeType&&e,Ei=Nu&&!0&&n&&!n.nodeType&&n,Fl=Ei&&Ei.exports===Nu,tl=Fl&&wi.process,ci=function(){try{var Ee=Ei&&Ei.require&&Ei.require("util").types;return Ee||tl&&tl.binding&&tl.binding("util")}catch{}}(),ba=ci&&ci.isArrayBuffer,Du=ci&&ci.isDate,$c=ci&&ci.isMap,Yo=ci&&ci.isRegExp,To=ci&&ci.isSet,Ko=ci&&ci.isTypedArray;function Nr(Ee,rt,et){switch(et.length){case 0:return Ee.call(rt);case 1:return Ee.call(rt,et[0]);case 2:return Ee.call(rt,et[0],et[1]);case 3:return Ee.call(rt,et[0],et[1],et[2])}return Ee.apply(rt,et)}function oo(Ee,rt,et,Ft){for(var _n=-1,Cn=Ee==null?0:Ee.length;++_n<Cn;){var fr=Ee[_n];rt(Ft,fr,et(fr),Ee)}return Ft}function Yr(Ee,rt){for(var et=-1,Ft=Ee==null?0:Ee.length;++et<Ft&&rt(Ee[et],et,Ee)!==!1;);return Ee}function Qc(Ee,rt){for(var et=Ee==null?0:Ee.length;et--&&rt(Ee[et],et,Ee)!==!1;);return Ee}function Jc(Ee,rt){for(var et=-1,Ft=Ee==null?0:Ee.length;++et<Ft;)if(!rt(Ee[et],et,Ee))return!1;return!0}function Mi(Ee,rt){for(var et=-1,Ft=Ee==null?0:Ee.length,_n=0,Cn=[];++et<Ft;){var fr=Ee[et];rt(fr,et,Ee)&&(Cn[_n++]=fr)}return Cn}function Ds(Ee,rt){var et=Ee==null?0:Ee.length;return!!et&&Fs(Ee,rt,0)>-1}function Ta(Ee,rt,et){for(var Ft=-1,_n=Ee==null?0:Ee.length;++Ft<_n;)if(et(rt,Ee[Ft]))return!0;return!1}function Er(Ee,rt){for(var et=-1,Ft=Ee==null?0:Ee.length,_n=Array(Ft);++et<Ft;)_n[et]=rt(Ee[et],et,Ee);return _n}function ds(Ee,rt){for(var et=-1,Ft=rt.length,_n=Ee.length;++et<Ft;)Ee[_n+et]=rt[et];return Ee}function Bl(Ee,rt,et,Ft){var _n=-1,Cn=Ee==null?0:Ee.length;for(Ft&&Cn&&(et=Ee[++_n]);++_n<Cn;)et=rt(et,Ee[_n],_n,Ee);return et}function nl(Ee,rt,et,Ft){var _n=Ee==null?0:Ee.length;for(Ft&&_n&&(et=Ee[--_n]);_n--;)et=rt(et,Ee[_n],_n,Ee);return et}function rl(Ee,rt){for(var et=-1,Ft=Ee==null?0:Ee.length;++et<Ft;)if(rt(Ee[et],et,Ee))return!0;return!1}var Ss=R("length");function kl(Ee){return Ee.split("")}function zl(Ee){return Ee.match(mn)||[]}function il(Ee,rt,et){var Ft;return et(Ee,function(_n,Cn,fr){if(rt(_n,Cn,fr))return Ft=Cn,!1}),Ft}function Us(Ee,rt,et,Ft){for(var _n=Ee.length,Cn=et+(Ft?1:-1);Ft?Cn--:++Cn<_n;)if(rt(Ee[Cn],Cn,Ee))return Cn;return-1}function Fs(Ee,rt,et){return rt===rt?Ur(Ee,rt,et):Us(Ee,Hl,et)}function Aa(Ee,rt,et,Ft){for(var _n=et-1,Cn=Ee.length;++_n<Cn;)if(Ft(Ee[_n],rt))return _n;return-1}function Hl(Ee){return Ee!==Ee}function Gl(Ee,rt){var et=Ee==null?0:Ee.length;return et?J(Ee,rt)/et:k}function R(Ee){return function(rt){return rt==null?t:rt[Ee]}}function B(Ee){return function(rt){return Ee==null?t:Ee[rt]}}function H(Ee,rt,et,Ft,_n){return _n(Ee,function(Cn,fr,Rn){et=Ft?(Ft=!1,Cn):rt(et,Cn,fr,Rn)}),et}function X(Ee,rt){var et=Ee.length;for(Ee.sort(rt);et--;)Ee[et]=Ee[et].value;return Ee}function J(Ee,rt){for(var et,Ft=-1,_n=Ee.length;++Ft<_n;){var Cn=rt(Ee[Ft]);Cn!==t&&(et=et===t?Cn:et+Cn)}return et}function de(Ee,rt){for(var et=-1,Ft=Array(Ee);++et<Ee;)Ft[et]=rt(et);return Ft}function ue(Ee,rt){return Er(rt,function(et){return[et,Ee[et]]})}function Me(Ee){return Ee&&Ee.slice(0,fi(Ee)+1).replace(_e,"")}function Se(Ee){return function(rt){return Ee(rt)}}function me(Ee,rt){return Er(rt,function(et){return Ee[et]})}function ze(Ee,rt){return Ee.has(rt)}function tt(Ee,rt){for(var et=-1,Ft=Ee.length;++et<Ft&&Fs(rt,Ee[et],0)>-1;);return et}function it(Ee,rt){for(var et=Ee.length;et--&&Fs(rt,Ee[et],0)>-1;);return et}function vt(Ee,rt){for(var et=Ee.length,Ft=0;et--;)Ee[et]===rt&&++Ft;return Ft}var ht=B(xs),Et=B(bo);function zt(Ee){return"\\"+Ul[Ee]}function Zt(Ee,rt){return Ee==null?t:Ee[rt]}function On(Ee){return Ou.test(Ee)}function cr(Ee){return Ph.test(Ee)}function Mr(Ee){for(var rt,et=[];!(rt=Ee.next()).done;)et.push(rt.value);return et}function Un(Ee){var rt=-1,et=Array(Ee.size);return Ee.forEach(function(Ft,_n){et[++rt]=[_n,Ft]}),et}function xn(Ee,rt){return function(et){return Ee(rt(et))}}function Fn(Ee,rt){for(var et=-1,Ft=Ee.length,_n=0,Cn=[];++et<Ft;){var fr=Ee[et];(fr===rt||fr===c)&&(Ee[et]=c,Cn[_n++]=et)}return Cn}function $r(Ee){var rt=-1,et=Array(Ee.size);return Ee.forEach(function(Ft){et[++rt]=Ft}),et}function ir(Ee){var rt=-1,et=Array(Ee.size);return Ee.forEach(function(Ft){et[++rt]=[Ft,Ft]}),et}function Ur(Ee,rt,et){for(var Ft=et-1,_n=Ee.length;++Ft<_n;)if(Ee[Ft]===rt)return Ft;return-1}function bi(Ee,rt,et){for(var Ft=et+1;Ft--;)if(Ee[Ft]===rt)return Ft;return Ft}function Ti(Ee){return On(Ee)?bt(Ee):Ss(Ee)}function Qn(Ee){return On(Ee)?At(Ee):kl(Ee)}function fi(Ee){for(var rt=Ee.length;rt--&&je.test(Ee.charAt(rt)););return rt}var Fr=B(Iu);function bt(Ee){for(var rt=el.lastIndex=0;el.test(Ee);)++rt;return rt}function At(Ee){return Ee.match(el)||[]}function Ht(Ee){return Ee.match(Ma)||[]}var zn=function Ee(rt){rt=rt==null?jr:on.defaults(jr.Object(),rt,on.pick(jr,Dl));var et=rt.Array,Ft=rt.Date,_n=rt.Error,Cn=rt.Function,fr=rt.Math,Rn=rt.Object,Fi=rt.RegExp,Bi=rt.String,ps=rt.TypeError,sl=et.prototype,Zc=Cn.prototype,Uu=Rn.prototype,Ai=rt["__core-js_shared__"],Fu=Zc.toString,pr=Uu.hasOwnProperty,Up=0,$o=function(){var h=/[^.]+$/.exec(Ai&&Ai.keys&&Ai.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Bs=Uu.toString,Vl=Fu.call(Rn),Oh=jr._,Ih=Fi("^"+Fu.call(pr).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ef=Fl?rt.Buffer:t,Ca=rt.Symbol,tf=rt.Uint8Array,Fp=ef?ef.allocUnsafe:t,nf=xn(Rn.getPrototypeOf,Rn),Bp=Rn.create,Nh=Uu.propertyIsEnumerable,ol=sl.splice,kp=Ca?Ca.isConcatSpreadable:t,al=Ca?Ca.iterator:t,Qo=Ca?Ca.toStringTag:t,Bu=function(){try{var h=wf(Rn,"defineProperty");return h({},"",{}),h}catch{}}(),rf=rt.clearTimeout!==jr.clearTimeout&&rt.clearTimeout,Sv=Ft&&Ft.now!==jr.Date.now&&Ft.now,wv=rt.setTimeout!==jr.setTimeout&&rt.setTimeout,sf=fr.ceil,of=fr.floor,af=Rn.getOwnPropertySymbols,Ev=ef?ef.isBuffer:t,zp=rt.isFinite,Gx=sl.join,Mv=xn(Rn.keys,Rn),Ci=fr.max,Zi=fr.min,bv=Ft.now,Tv=rt.parseInt,Hp=fr.random,Av=sl.reverse,ku=wf(rt,"DataView"),lf=wf(rt,"Map"),Gp=wf(rt,"Promise"),zu=wf(rt,"Set"),Wl=wf(rt,"WeakMap"),jl=wf(Rn,"create"),Dh=Wl&&new Wl,Xl={},Cv=Ef(ku),Rv=Ef(lf),Pv=Ef(Gp),Lv=Ef(zu),Jo=Ef(Wl),uf=Ca?Ca.prototype:t,Ra=uf?uf.valueOf:t,Hu=uf?uf.toString:t;function Z(h){if(mi(h)&&!Hn(h)&&!(h instanceof wn)){if(h instanceof es)return h;if(pr.call(h,"__wrapped__"))return xT(h)}return new es(h)}var Pa=function(){function h(){}return function(y){if(!ei(y))return{};if(Bp)return Bp(y);h.prototype=y;var b=new h;return h.prototype=t,b}}();function cf(){}function es(h,y){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=t}Z.templateSettings={escape:St,evaluate:Gt,interpolate:Qt,variable:"",imports:{_:Z}},Z.prototype=cf.prototype,Z.prototype.constructor=Z,es.prototype=Pa(cf.prototype),es.prototype.constructor=es;function wn(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Vx(){var h=new wn(this.__wrapped__);return h.__actions__=ss(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=ss(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=ss(this.__views__),h}function Wx(){if(this.__filtered__){var h=new wn(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function ks(){var h=this.__wrapped__.value(),y=this.__dir__,b=Hn(h),D=y<0,q=b?h.length:0,fe=gD(0,q,this.__views__),we=fe.start,Oe=fe.end,Xe=Oe-we,yt=D?Oe:we-1,_t=this.__iteratees__,Mt=_t.length,qt=0,dn=Zi(Xe,this.__takeCount__);if(!b||!D&&q==Xe&&dn==Xe)return dl(h,this.__actions__);var Pn=[];e:for(;Xe--&&qt<dn;){yt+=y;for(var Kn=-1,Ln=h[yt];++Kn<Mt;){var er=_t[Kn],or=er.iteratee,Io=er.type,Xs=or(Ln);if(Io==le)Ln=Xs;else if(!Xs){if(Io==j)continue e;break e}}Pn[qt++]=Ln}return Pn}wn.prototype=Pa(cf.prototype),wn.prototype.constructor=wn;function Qr(h){var y=-1,b=h==null?0:h.length;for(this.clear();++y<b;){var D=h[y];this.set(D[0],D[1])}}function Ov(){this.__data__=jl?jl(null):{},this.size=0}function Iv(h){var y=this.has(h)&&delete this.__data__[h];return this.size-=y?1:0,y}function Nv(h){var y=this.__data__;if(jl){var b=y[h];return b===o?t:b}return pr.call(y,h)?y[h]:t}function Dv(h){var y=this.__data__;return jl?y[h]!==t:pr.call(y,h)}function Uv(h,y){var b=this.__data__;return this.size+=this.has(h)?0:1,b[h]=jl&&y===t?o:y,this}Qr.prototype.clear=Ov,Qr.prototype.delete=Iv,Qr.prototype.get=Nv,Qr.prototype.has=Dv,Qr.prototype.set=Uv;function Ao(h){var y=-1,b=h==null?0:h.length;for(this.clear();++y<b;){var D=h[y];this.set(D[0],D[1])}}function Fv(){this.__data__=[],this.size=0}function Vp(h){var y=this.__data__,b=ul(y,h);if(b<0)return!1;var D=y.length-1;return b==D?y.pop():ol.call(y,b,1),--this.size,!0}function Bv(h){var y=this.__data__,b=ul(y,h);return b<0?t:y[b][1]}function kv(h){return ul(this.__data__,h)>-1}function Uh(h,y){var b=this.__data__,D=ul(b,h);return D<0?(++this.size,b.push([h,y])):b[D][1]=y,this}Ao.prototype.clear=Fv,Ao.prototype.delete=Vp,Ao.prototype.get=Bv,Ao.prototype.has=kv,Ao.prototype.set=Uh;function ao(h){var y=-1,b=h==null?0:h.length;for(this.clear();++y<b;){var D=h[y];this.set(D[0],D[1])}}function zv(){this.size=0,this.__data__={hash:new Qr,map:new(lf||Ao),string:new Qr}}function Wp(h){var y=ry(this,h).delete(h);return this.size-=y?1:0,y}function Hv(h){return ry(this,h).get(h)}function Gv(h){return ry(this,h).has(h)}function Fh(h,y){var b=ry(this,h),D=b.size;return b.set(h,y),this.size+=b.size==D?0:1,this}ao.prototype.clear=zv,ao.prototype.delete=Wp,ao.prototype.get=Hv,ao.prototype.has=Gv,ao.prototype.set=Fh;function ll(h){var y=-1,b=h==null?0:h.length;for(this.__data__=new ao;++y<b;)this.add(h[y])}function jp(h){return this.__data__.set(h,o),this}function Vv(h){return this.__data__.has(h)}ll.prototype.add=ll.prototype.push=jp,ll.prototype.has=Vv;function Ri(h){var y=this.__data__=new Ao(h);this.size=y.size}function jx(){this.__data__=new Ao,this.size=0}function Xx(h){var y=this.__data__,b=y.delete(h);return this.size=y.size,b}function Bh(h){return this.__data__.get(h)}function ql(h){return this.__data__.has(h)}function qx(h,y){var b=this.__data__;if(b instanceof Ao){var D=b.__data__;if(!lf||D.length<i-1)return D.push([h,y]),this.size=++b.size,this;b=this.__data__=new ao(D)}return b.set(h,y),this.size=b.size,this}Ri.prototype.clear=jx,Ri.prototype.delete=Xx,Ri.prototype.get=Bh,Ri.prototype.has=ql,Ri.prototype.set=qx;function jt(h,y){var b=Hn(h),D=!b&&Mf(h),q=!b&&!D&&Qu(h),fe=!b&&!D&&!q&&td(h),we=b||D||q||fe,Oe=we?de(h.length,Bi):[],Xe=Oe.length;for(var yt in h)(y||pr.call(h,yt))&&!(we&&(yt=="length"||q&&(yt=="offset"||yt=="parent")||fe&&(yt=="buffer"||yt=="byteLength"||yt=="byteOffset")||Zl(yt,Xe)))&&Oe.push(yt);return Oe}function ff(h){var y=h.length;return y?h[ea(0,y-1)]:t}function Xp(h,y){return iy(ss(h),cl(y,0,h.length))}function Wv(h){return iy(ss(h))}function qp(h,y,b){(b!==t&&!Ia(h[y],b)||b===t&&!(y in h))&&Zo(h,y,b)}function Co(h,y,b){var D=h[y];(!(pr.call(h,y)&&Ia(D,b))||b===t&&!(y in h))&&Zo(h,y,b)}function ul(h,y){for(var b=h.length;b--;)if(Ia(h[b][0],y))return b;return-1}function Yp(h,y,b,D){return Ro(h,function(q,fe,we){y(D,q,b(q),we)}),D}function Kp(h,y){return h&&co(y,as(y),h)}function jv(h,y){return h&&co(y,ho(y),h)}function Zo(h,y,b){y=="__proto__"&&Bu?Bu(h,y,{configurable:!0,enumerable:!0,value:b,writable:!0}):h[y]=b}function kh(h,y){for(var b=-1,D=y.length,q=et(D),fe=h==null;++b<D;)q[b]=fe?t:f1(h,y[b]);return q}function cl(h,y,b){return h===h&&(b!==t&&(h=h<=b?h:b),y!==t&&(h=h>=y?h:y)),h}function zs(h,y,b,D,q,fe){var we,Oe=y&f,Xe=y&p,yt=y&g;if(b&&(we=q?b(h,D,q,fe):b(h)),we!==t)return we;if(!ei(h))return h;var _t=Hn(h);if(_t){if(we=yD(h),!Oe)return ss(h,we)}else{var Mt=ws(h),qt=Mt==Q||Mt==He;if(Qu(h))return um(h,Oe);if(Mt==mt||Mt==ve||qt&&!q){if(we=Xe||qt?{}:fT(h),!Oe)return Xe?ty(h,jv(we,h)):Qx(h,Kp(we,h))}else{if(!Sr[Mt])return q?h:{};we=_D(h,Mt,Oe)}}fe||(fe=new Ri);var dn=fe.get(h);if(dn)return dn;fe.set(h,we),zT(h)?h.forEach(function(Ln){we.add(zs(Ln,y,b,Ln,h,fe))}):BT(h)&&h.forEach(function(Ln,er){we.set(er,zs(Ln,y,b,er,h,fe))});var Pn=yt?Xe?sr:pi:Xe?ho:as,Kn=_t?t:Pn(h);return Yr(Kn||h,function(Ln,er){Kn&&(er=Ln,Ln=h[er]),Co(we,er,zs(Ln,y,b,er,h,fe))}),we}function $p(h){var y=as(h);return function(b){return zh(b,h,y)}}function zh(h,y,b){var D=b.length;if(h==null)return!D;for(h=Rn(h);D--;){var q=b[D],fe=y[q],we=h[q];if(we===t&&!(q in h)||!fe(we))return!1}return!0}function Qp(h,y,b){if(typeof h!="function")throw new ps(a);return dm(function(){h.apply(t,b)},y)}function Yl(h,y,b,D){var q=-1,fe=Ds,we=!0,Oe=h.length,Xe=[],yt=y.length;if(!Oe)return Xe;b&&(y=Er(y,Se(b))),D?(fe=Ta,we=!1):y.length>=i&&(fe=ze,we=!1,y=new ll(y));e:for(;++q<Oe;){var _t=h[q],Mt=b==null?_t:b(_t);if(_t=D||_t!==0?_t:0,we&&Mt===Mt){for(var qt=yt;qt--;)if(y[qt]===Mt)continue e;Xe.push(_t)}else fe(y,Mt,D)||Xe.push(_t)}return Xe}var Ro=fm(Hs),Xv=fm(Vu,!0);function Yx(h,y){var b=!0;return Ro(h,function(D,q,fe){return b=!!y(D,q,fe),b}),b}function hf(h,y,b){for(var D=-1,q=h.length;++D<q;){var fe=h[D],we=y(fe);if(we!=null&&(Oe===t?we===we&&!Oo(we):b(we,Oe)))var Oe=we,Xe=fe}return Xe}function qv(h,y,b,D){var q=h.length;for(b=qn(b),b<0&&(b=-b>q?0:q+b),D=D===t||D>q?q:qn(D),D<0&&(D+=q),D=b>D?0:GT(D);b<D;)h[b++]=y;return h}function Jp(h,y){var b=[];return Ro(h,function(D,q,fe){y(D,q,fe)&&b.push(D)}),b}function ki(h,y,b,D,q){var fe=-1,we=h.length;for(b||(b=SD),q||(q=[]);++fe<we;){var Oe=h[fe];y>0&&b(Oe)?y>1?ki(Oe,y-1,b,D,q):ds(q,Oe):D||(q[q.length]=Oe)}return q}var Gu=Jh(),df=Jh(!0);function Hs(h,y){return h&&Gu(h,y,as)}function Vu(h,y){return h&&df(h,y,as)}function Kl(h,y){return Mi(y,function(b){return eu(h[b])})}function Po(h,y){y=ml(y,h);for(var b=0,D=y.length;h!=null&&b<D;)h=h[yl(y[b++])];return b&&b==D?h:t}function Hh(h,y,b){var D=y(h);return Hn(h)?D:ds(D,b(h))}function Vi(h){return h==null?h===t?be:Ye:Qo&&Qo in Rn(h)?mD(h):CD(h)}function pf(h,y){return h>y}function Yv(h,y){return h!=null&&pr.call(h,y)}function Zp(h,y){return h!=null&&y in Rn(h)}function Kx(h,y,b){return h>=Zi(y,b)&&h<Ci(y,b)}function Wu(h,y,b){for(var D=b?Ta:Ds,q=h[0].length,fe=h.length,we=fe,Oe=et(fe),Xe=1/0,yt=[];we--;){var _t=h[we];we&&y&&(_t=Er(_t,Se(y))),Xe=Zi(_t.length,Xe),Oe[we]=!b&&(y||q>=120&&_t.length>=120)?new ll(we&&_t):t}_t=h[0];var Mt=-1,qt=Oe[0];e:for(;++Mt<q&&yt.length<Xe;){var dn=_t[Mt],Pn=y?y(dn):dn;if(dn=b||dn!==0?dn:0,!(qt?ze(qt,Pn):D(yt,Pn,b))){for(we=fe;--we;){var Kn=Oe[we];if(!(Kn?ze(Kn,Pn):D(h[we],Pn,b)))continue e}qt&&qt.push(Pn),yt.push(dn)}}return yt}function em(h,y,b,D){return Hs(h,function(q,fe,we){y(D,b(q),fe,we)}),D}function Br(h,y,b){y=ml(y,h),h=mT(h,y);var D=h==null?h:h[yl(ra(y))];return D==null?t:Nr(D,h,b)}function Gn(h){return mi(h)&&Vi(h)==ve}function hi(h){return mi(h)&&Vi(h)==Fe}function di(h){return mi(h)&&Vi(h)==ke}function Jr(h,y,b,D,q){return h===y?!0:h==null||y==null||!mi(h)&&!mi(y)?h!==h&&y!==y:Gs(h,y,b,D,Jr,q)}function Gs(h,y,b,D,q,fe){var we=Hn(h),Oe=Hn(y),Xe=we?xe:ws(h),yt=Oe?xe:ws(y);Xe=Xe==ve?mt:Xe,yt=yt==ve?mt:yt;var _t=Xe==mt,Mt=yt==mt,qt=Xe==yt;if(qt&&Qu(h)){if(!Qu(y))return!1;we=!0,_t=!1}if(qt&&!_t)return fe||(fe=new Ri),we||td(h)?fn(h,y,b,D,q,fe):Vn(h,y,Xe,b,D,q,fe);if(!(b&v)){var dn=_t&&pr.call(h,"__wrapped__"),Pn=Mt&&pr.call(y,"__wrapped__");if(dn||Pn){var Kn=dn?h.value():h,Ln=Pn?y.value():y;return fe||(fe=new Ri),q(Kn,Ln,b,D,fe)}}return qt?(fe||(fe=new Ri),Bn(h,y,b,D,q,fe)):!1}function ju(h){return mi(h)&&ws(h)==Pe}function Zr(h,y,b,D){var q=b.length,fe=q,we=!D;if(h==null)return!fe;for(h=Rn(h);q--;){var Oe=b[q];if(we&&Oe[2]?Oe[1]!==h[Oe[0]]:!(Oe[0]in h))return!1}for(;++q<fe;){Oe=b[q];var Xe=Oe[0],yt=h[Xe],_t=Oe[1];if(we&&Oe[2]){if(yt===t&&!(Xe in h))return!1}else{var Mt=new Ri;if(D)var qt=D(yt,_t,Xe,h,y,Mt);if(!(qt===t?Jr(_t,yt,v|x,D,Mt):qt))return!1}}return!0}function Xu(h){if(!ei(h)||ED(h))return!1;var y=eu(h)?Ih:qe;return y.test(Ef(h))}function qu(h){return mi(h)&&Vi(h)==Y}function Gh(h){return mi(h)&&ws(h)==Ie}function tm(h){return mi(h)&&cy(h.length)&&!!Ar[Vi(h)]}function Yu(h){return typeof h=="function"?h:h==null?po:typeof h=="object"?Hn(h)?Vh(h[0],h[1]):gf(h):ZT(h)}function ts(h){if(!hm(h))return Mv(h);var y=[];for(var b in Rn(h))pr.call(h,b)&&b!="constructor"&&y.push(b);return y}function nm(h){if(!ei(h))return AD(h);var y=hm(h),b=[];for(var D in h)D=="constructor"&&(y||!pr.call(h,D))||b.push(D);return b}function mf(h,y){return h<y}function $l(h,y){var b=-1,D=fo(h)?et(h.length):[];return Ro(h,function(q,fe,we){D[++b]=y(q,fe,we)}),D}function gf(h){var y=Zx(h);return y.length==1&&y[0][2]?dT(y[0][0],y[0][1]):function(b){return b===h||Zr(b,h,y)}}function Vh(h,y){return t1(h)&&hT(y)?dT(yl(h),y):function(b){var D=f1(b,h);return D===t&&D===y?h1(b,h):Jr(y,D,v|x)}}function Lo(h,y,b,D,q){h!==y&&Gu(y,function(fe,we){if(q||(q=new Ri),ei(fe))Wh(h,y,we,b,Lo,D,q);else{var Oe=D?D(r1(h,we),fe,we+"",h,y,q):t;Oe===t&&(Oe=fe),qp(h,we,Oe)}},ho)}function Wh(h,y,b,D,q,fe,we){var Oe=r1(h,b),Xe=r1(y,b),yt=we.get(Xe);if(yt){qp(h,b,yt);return}var _t=fe?fe(Oe,Xe,b+"",h,y,we):t,Mt=_t===t;if(Mt){var qt=Hn(Xe),dn=!qt&&Qu(Xe),Pn=!qt&&!dn&&td(Xe);_t=Xe,qt||dn||Pn?Hn(Oe)?_t=Oe:Pi(Oe)?_t=ss(Oe):dn?(Mt=!1,_t=um(Xe,!0)):Pn?(Mt=!1,_t=ey(Xe,!0)):_t=[]:pm(Xe)||Mf(Xe)?(_t=Oe,Mf(Oe)?_t=VT(Oe):(!ei(Oe)||eu(Oe))&&(_t=fT(Xe))):Mt=!1}Mt&&(we.set(Xe,_t),q(_t,Xe,D,fe,we),we.delete(Xe)),qp(h,b,_t)}function La(h,y){var b=h.length;if(b)return y+=y<0?b:0,Zl(y,b)?h[y]:t}function vf(h,y,b){y.length?y=Er(y,function(fe){return Hn(fe)?function(we){return Po(we,fe.length===1?fe[0]:fe)}:fe}):y=[po];var D=-1;y=Er(y,Se(bn()));var q=$l(h,function(fe,we,Oe){var Xe=Er(y,function(yt){return yt(fe)});return{criteria:Xe,index:++D,value:fe}});return X(q,function(fe,we){return Qh(fe,we,b)})}function yf(h,y){return jh(h,y,function(b,D){return h1(h,D)})}function jh(h,y,b){for(var D=-1,q=y.length,fe={};++D<q;){var we=y[D],Oe=Po(h,we);b(Oe,we)&&Ql(fe,ml(we,h),Oe)}return fe}function Xh(h){return function(y){return Po(y,h)}}function Ku(h,y,b,D){var q=D?Aa:Fs,fe=-1,we=y.length,Oe=h;for(h===y&&(y=ss(y)),b&&(Oe=Er(h,Se(b)));++fe<we;)for(var Xe=0,yt=y[fe],_t=b?b(yt):yt;(Xe=q(Oe,_t,Xe,D))>-1;)Oe!==h&&ol.call(Oe,Xe,1),ol.call(h,Xe,1);return h}function ns(h,y){for(var b=h?y.length:0,D=b-1;b--;){var q=y[b];if(b==D||q!==fe){var fe=q;Zl(q)?ol.call(h,q,1):om(h,q)}}return h}function ea(h,y){return h+of(Hp()*(y-h+1))}function lo(h,y,b,D){for(var q=-1,fe=Ci(sf((y-h)/(b||1)),0),we=et(fe);fe--;)we[D?fe:++q]=h,h+=b;return we}function $u(h,y){var b="";if(!h||y<1||y>G)return b;do y%2&&(b+=h),y=of(y/2),y&&(h+=h);while(y);return b}function Sn(h,y){return i1(pT(h,y,po),h+"")}function Kv(h){return ff(nd(h))}function rm(h,y){var b=nd(h);return iy(b,cl(y,0,b.length))}function Ql(h,y,b,D){if(!ei(h))return h;y=ml(y,h);for(var q=-1,fe=y.length,we=fe-1,Oe=h;Oe!=null&&++q<fe;){var Xe=yl(y[q]),yt=b;if(Xe==="__proto__"||Xe==="constructor"||Xe==="prototype")return h;if(q!=we){var _t=Oe[Xe];yt=D?D(_t,Xe,Oe):t,yt===t&&(yt=ei(_t)?_t:Zl(y[q+1])?[]:{})}Co(Oe,Xe,yt),Oe=Oe[Xe]}return h}var $v=Dh?function(h,y){return Dh.set(h,y),h}:po,fl=Bu?function(h,y){return Bu(h,"toString",{configurable:!0,enumerable:!1,value:p1(y),writable:!0})}:po;function Qv(h){return iy(nd(h))}function Vs(h,y,b){var D=-1,q=h.length;y<0&&(y=-y>q?0:q+y),b=b>q?q:b,b<0&&(b+=q),q=y>b?0:b-y>>>0,y>>>=0;for(var fe=et(q);++D<q;)fe[D]=h[D+y];return fe}function im(h,y){var b;return Ro(h,function(D,q,fe){return b=y(D,q,fe),!b}),!!b}function ta(h,y,b){var D=0,q=h==null?D:h.length;if(typeof y=="number"&&y===y&&q<=se){for(;D<q;){var fe=D+q>>>1,we=h[fe];we!==null&&!Oo(we)&&(b?we<=y:we<y)?D=fe+1:q=fe}return q}return qh(h,y,po,b)}function qh(h,y,b,D){var q=0,fe=h==null?0:h.length;if(fe===0)return 0;y=b(y);for(var we=y!==y,Oe=y===null,Xe=Oo(y),yt=y===t;q<fe;){var _t=of((q+fe)/2),Mt=b(h[_t]),qt=Mt!==t,dn=Mt===null,Pn=Mt===Mt,Kn=Oo(Mt);if(we)var Ln=D||Pn;else yt?Ln=Pn&&(D||qt):Oe?Ln=Pn&&qt&&(D||!dn):Xe?Ln=Pn&&qt&&!dn&&(D||!Kn):dn||Kn?Ln=!1:Ln=D?Mt<=y:Mt<y;Ln?q=_t+1:fe=_t}return Zi(fe,te)}function sm(h,y){for(var b=-1,D=h.length,q=0,fe=[];++b<D;){var we=h[b],Oe=y?y(we):we;if(!b||!Ia(Oe,Xe)){var Xe=Oe;fe[q++]=we===0?0:we}}return fe}function Yh(h){return typeof h=="number"?h:Oo(h)?k:+h}function rs(h){if(typeof h=="string")return h;if(Hn(h))return Er(h,rs)+"";if(Oo(h))return Hu?Hu.call(h):"";var y=h+"";return y=="0"&&1/h==-W?"-0":y}function hl(h,y,b){var D=-1,q=Ds,fe=h.length,we=!0,Oe=[],Xe=Oe;if(b)we=!1,q=Ta;else if(fe>=i){var yt=y?null:os(h);if(yt)return $r(yt);we=!1,q=ze,Xe=new ll}else Xe=y?[]:Oe;e:for(;++D<fe;){var _t=h[D],Mt=y?y(_t):_t;if(_t=b||_t!==0?_t:0,we&&Mt===Mt){for(var qt=Xe.length;qt--;)if(Xe[qt]===Mt)continue e;y&&Xe.push(Mt),Oe.push(_t)}else q(Xe,Mt,b)||(Xe!==Oe&&Xe.push(Mt),Oe.push(_t))}return Oe}function om(h,y){return y=ml(y,h),h=mT(h,y),h==null||delete h[yl(ra(y))]}function am(h,y,b,D){return Ql(h,y,b(Po(h,y)),D)}function _f(h,y,b,D){for(var q=h.length,fe=D?q:-1;(D?fe--:++fe<q)&&y(h[fe],fe,h););return b?Vs(h,D?0:fe,D?fe+1:q):Vs(h,D?fe+1:0,D?q:fe)}function dl(h,y){var b=h;return b instanceof wn&&(b=b.value()),Bl(y,function(D,q){return q.func.apply(q.thisArg,ds([D],q.args))},b)}function lm(h,y,b){var D=h.length;if(D<2)return D?hl(h[0]):[];for(var q=-1,fe=et(D);++q<D;)for(var we=h[q],Oe=-1;++Oe<D;)Oe!=q&&(fe[q]=Yl(fe[q]||we,h[Oe],y,b));return hl(ki(fe,1),y,b)}function pl(h,y,b){for(var D=-1,q=h.length,fe=y.length,we={};++D<q;){var Oe=D<fe?y[D]:t;b(we,h[D],Oe)}return we}function Kh(h){return Pi(h)?h:[]}function is(h){return typeof h=="function"?h:po}function ml(h,y){return Hn(h)?h:t1(h,y)?[h]:_T(Rr(h))}var Jv=Sn;function gl(h,y,b){var D=h.length;return b=b===t?D:b,!y&&b>=D?h:Vs(h,y,b)}var Zv=rf||function(h){return jr.clearTimeout(h)};function um(h,y){if(y)return h.slice();var b=h.length,D=Fp?Fp(b):new h.constructor(b);return h.copy(D),D}function $h(h){var y=new h.constructor(h.byteLength);return new tf(y).set(new tf(h)),y}function $x(h,y){var b=y?$h(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.byteLength)}function uo(h){var y=new h.constructor(h.source,ln.exec(h));return y.lastIndex=h.lastIndex,y}function cm(h){return Ra?Rn(Ra.call(h)):{}}function ey(h,y){var b=y?$h(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.length)}function Oa(h,y){if(h!==y){var b=h!==t,D=h===null,q=h===h,fe=Oo(h),we=y!==t,Oe=y===null,Xe=y===y,yt=Oo(y);if(!Oe&&!yt&&!fe&&h>y||fe&&we&&Xe&&!Oe&&!yt||D&&we&&Xe||!b&&Xe||!q)return 1;if(!D&&!fe&&!yt&&h<y||yt&&b&&q&&!D&&!fe||Oe&&b&&q||!we&&q||!Xe)return-1}return 0}function Qh(h,y,b){for(var D=-1,q=h.criteria,fe=y.criteria,we=q.length,Oe=b.length;++D<we;){var Xe=Oa(q[D],fe[D]);if(Xe){if(D>=Oe)return Xe;var yt=b[D];return Xe*(yt=="desc"?-1:1)}}return h.index-y.index}function vl(h,y,b,D){for(var q=-1,fe=h.length,we=b.length,Oe=-1,Xe=y.length,yt=Ci(fe-we,0),_t=et(Xe+yt),Mt=!D;++Oe<Xe;)_t[Oe]=y[Oe];for(;++q<we;)(Mt||q<fe)&&(_t[b[q]]=h[q]);for(;yt--;)_t[Oe++]=h[q++];return _t}function xf(h,y,b,D){for(var q=-1,fe=h.length,we=-1,Oe=b.length,Xe=-1,yt=y.length,_t=Ci(fe-Oe,0),Mt=et(_t+yt),qt=!D;++q<_t;)Mt[q]=h[q];for(var dn=q;++Xe<yt;)Mt[dn+Xe]=y[Xe];for(;++we<Oe;)(qt||q<fe)&&(Mt[dn+b[we]]=h[q++]);return Mt}function ss(h,y){var b=-1,D=h.length;for(y||(y=et(D));++b<D;)y[b]=h[b];return y}function co(h,y,b,D){var q=!b;b||(b={});for(var fe=-1,we=y.length;++fe<we;){var Oe=y[fe],Xe=D?D(b[Oe],h[Oe],Oe,b,h):t;Xe===t&&(Xe=h[Oe]),q?Zo(b,Oe,Xe):Co(b,Oe,Xe)}return b}function Qx(h,y){return co(h,e1(h),y)}function ty(h,y){return co(h,uT(h),y)}function Sf(h,y){return function(b,D){var q=Hn(b)?oo:Yp,fe=y?y():{};return q(b,h,bn(D,2),fe)}}function Jl(h){return Sn(function(y,b){var D=-1,q=b.length,fe=q>1?b[q-1]:t,we=q>2?b[2]:t;for(fe=h.length>3&&typeof fe=="function"?(q--,fe):t,we&&js(b[0],b[1],we)&&(fe=q<3?t:fe,q=1),y=Rn(y);++D<q;){var Oe=b[D];Oe&&h(y,Oe,D,fe)}return y})}function fm(h,y){return function(b,D){if(b==null)return b;if(!fo(b))return h(b,D);for(var q=b.length,fe=y?q:-1,we=Rn(b);(y?fe--:++fe<q)&&D(we[fe],fe,we)!==!1;);return b}}function Jh(h){return function(y,b,D){for(var q=-1,fe=Rn(y),we=D(y),Oe=we.length;Oe--;){var Xe=we[h?Oe:++q];if(b(fe[Xe],Xe,fe)===!1)break}return y}}function Jx(h,y,b){var D=y&S,q=m(h);function fe(){var we=this&&this!==jr&&this instanceof fe?q:h;return we.apply(D?b:this,arguments)}return fe}function ny(h){return function(y){y=Rr(y);var b=On(y)?Qn(y):t,D=b?b[0]:y.charAt(0),q=b?gl(b,1).join(""):y.slice(1);return D[h]()+q}}function d(h){return function(y){return Bl(QT($T(y).replace(Np,"")),h,"")}}function m(h){return function(){var y=arguments;switch(y.length){case 0:return new h;case 1:return new h(y[0]);case 2:return new h(y[0],y[1]);case 3:return new h(y[0],y[1],y[2]);case 4:return new h(y[0],y[1],y[2],y[3]);case 5:return new h(y[0],y[1],y[2],y[3],y[4]);case 6:return new h(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new h(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var b=Pa(h.prototype),D=h.apply(b,y);return ei(D)?D:b}}function M(h,y,b){var D=m(h);function q(){for(var fe=arguments.length,we=et(fe),Oe=fe,Xe=ed(q);Oe--;)we[Oe]=arguments[Oe];var yt=fe<3&&we[0]!==Xe&&we[fe-1]!==Xe?[]:Fn(we,Xe);if(fe-=yt.length,fe<b)return Cr(h,y,z,q.placeholder,t,we,yt,t,t,b-fe);var _t=this&&this!==jr&&this instanceof q?D:h;return Nr(_t,this,we)}return q}function C(h){return function(y,b,D){var q=Rn(y);if(!fo(y)){var fe=bn(b,3);y=as(y),b=function(Oe){return fe(q[Oe],Oe,q)}}var we=h(y,b,D);return we>-1?q[fe?y[we]:we]:t}}function I(h){return Wn(function(y){var b=y.length,D=b,q=es.prototype.thru;for(h&&y.reverse();D--;){var fe=y[D];if(typeof fe!="function")throw new ps(a);if(q&&!we&&Zh(fe)=="wrapper")var we=new es([],!0)}for(D=we?D:b;++D<b;){fe=y[D];var Oe=Zh(fe),Xe=Oe=="wrapper"?na(fe):t;Xe&&n1(Xe[0])&&Xe[1]==(O|E|L|U)&&!Xe[4].length&&Xe[9]==1?we=we[Zh(Xe[0])].apply(we,Xe[3]):we=fe.length==1&&n1(fe)?we[Oe]():we.thru(fe)}return function(){var yt=arguments,_t=yt[0];if(we&&yt.length==1&&Hn(_t))return we.plant(_t).value();for(var Mt=0,qt=b?y[Mt].apply(this,yt):_t;++Mt<b;)qt=y[Mt].call(this,qt);return qt}})}function z(h,y,b,D,q,fe,we,Oe,Xe,yt){var _t=y&O,Mt=y&S,qt=y&_,dn=y&(E|T),Pn=y&F,Kn=qt?t:m(h);function Ln(){for(var er=arguments.length,or=et(er),Io=er;Io--;)or[Io]=arguments[Io];if(dn)var Xs=ed(Ln),No=vt(or,Xs);if(D&&(or=vl(or,D,q,dn)),fe&&(or=xf(or,fe,we,dn)),er-=No,dn&&er<yt){var Li=Fn(or,Xs);return Cr(h,y,z,Ln.placeholder,b,or,Li,Oe,Xe,yt-er)}var Na=Mt?b:this,nu=qt?Na[h]:h;return er=or.length,Oe?or=RD(or,Oe):Pn&&er>1&&or.reverse(),_t&&Xe<er&&(or.length=Xe),this&&this!==jr&&this instanceof Ln&&(nu=Kn||m(nu)),nu.apply(Na,or)}return Ln}function ye(h,y){return function(b,D){return em(b,h,y(D),{})}}function Be(h,y){return function(b,D){var q;if(b===t&&D===t)return y;if(b!==t&&(q=b),D!==t){if(q===t)return D;typeof b=="string"||typeof D=="string"?(b=rs(b),D=rs(D)):(b=Yh(b),D=Yh(D)),q=h(b,D)}return q}}function ct(h){return Wn(function(y){return y=Er(y,Se(bn())),Sn(function(b){var D=this;return h(y,function(q){return Nr(q,D,b)})})})}function Lt(h,y){y=y===t?" ":rs(y);var b=y.length;if(b<2)return b?$u(y,h):y;var D=$u(y,sf(h/Ti(y)));return On(y)?gl(Qn(D),0,h).join(""):D.slice(0,h)}function en(h,y,b,D){var q=y&S,fe=m(h);function we(){for(var Oe=-1,Xe=arguments.length,yt=-1,_t=D.length,Mt=et(_t+Xe),qt=this&&this!==jr&&this instanceof we?fe:h;++yt<_t;)Mt[yt]=D[yt];for(;Xe--;)Mt[yt++]=arguments[++Oe];return Nr(qt,q?b:this,Mt)}return we}function Dn(h){return function(y,b,D){return D&&typeof D!="number"&&js(y,b,D)&&(b=D=t),y=tu(y),b===t?(b=y,y=0):b=tu(b),D=D===t?y<b?1:-1:tu(D),lo(y,b,D,h)}}function vn(h){return function(y,b){return typeof y=="string"&&typeof b=="string"||(y=ia(y),b=ia(b)),h(y,b)}}function Cr(h,y,b,D,q,fe,we,Oe,Xe,yt){var _t=y&E,Mt=_t?we:t,qt=_t?t:we,dn=_t?fe:t,Pn=_t?t:fe;y|=_t?L:A,y&=~(_t?A:L),y&w||(y&=~(S|_));var Kn=[h,y,q,dn,Mt,Pn,qt,Oe,Xe,yt],Ln=b.apply(t,Kn);return n1(h)&&gT(Ln,Kn),Ln.placeholder=D,vT(Ln,h,y)}function cn(h){var y=fr[h];return function(b,D){if(b=ia(b),D=D==null?0:Zi(qn(D),292),D&&zp(b)){var q=(Rr(b)+"e").split("e"),fe=y(q[0]+"e"+(+q[1]+D));return q=(Rr(fe)+"e").split("e"),+(q[0]+"e"+(+q[1]-D))}return y(b)}}var os=zu&&1/$r(new zu([,-0]))[1]==W?function(h){return new zu(h)}:v1;function Ws(h){return function(y){var b=ws(y);return b==Pe?Un(y):b==Ie?ir(y):ue(y,h(y))}}function Ze(h,y,b,D,q,fe,we,Oe){var Xe=y&_;if(!Xe&&typeof h!="function")throw new ps(a);var yt=D?D.length:0;if(yt||(y&=~(L|A),D=q=t),we=we===t?we:Ci(qn(we),0),Oe=Oe===t?Oe:qn(Oe),yt-=q?q.length:0,y&A){var _t=D,Mt=q;D=q=t}var qt=Xe?t:na(h),dn=[h,y,b,D,q,_t,Mt,fe,we,Oe];if(qt&&TD(dn,qt),h=dn[0],y=dn[1],b=dn[2],D=dn[3],q=dn[4],Oe=dn[9]=dn[9]===t?Xe?0:h.length:Ci(dn[9]-yt,0),!Oe&&y&(E|T)&&(y&=~(E|T)),!y||y==S)var Pn=Jx(h,y,b);else y==E||y==T?Pn=M(h,y,Oe):(y==L||y==(S|L))&&!q.length?Pn=en(h,y,b,D):Pn=z.apply(t,dn);var Kn=qt?$v:gT;return vT(Kn(Pn,dn),h,y)}function Ve(h,y,b,D){return h===t||Ia(h,Uu[b])&&!pr.call(D,b)?y:h}function at(h,y,b,D,q,fe){return ei(h)&&ei(y)&&(fe.set(y,h),Lo(h,y,t,at,fe),fe.delete(y)),h}function Yt(h){return pm(h)?t:h}function fn(h,y,b,D,q,fe){var we=b&v,Oe=h.length,Xe=y.length;if(Oe!=Xe&&!(we&&Xe>Oe))return!1;var yt=fe.get(h),_t=fe.get(y);if(yt&&_t)return yt==y&&_t==h;var Mt=-1,qt=!0,dn=b&x?new ll:t;for(fe.set(h,y),fe.set(y,h);++Mt<Oe;){var Pn=h[Mt],Kn=y[Mt];if(D)var Ln=we?D(Kn,Pn,Mt,y,h,fe):D(Pn,Kn,Mt,h,y,fe);if(Ln!==t){if(Ln)continue;qt=!1;break}if(dn){if(!rl(y,function(er,or){if(!ze(dn,or)&&(Pn===er||q(Pn,er,b,D,fe)))return dn.push(or)})){qt=!1;break}}else if(!(Pn===Kn||q(Pn,Kn,b,D,fe))){qt=!1;break}}return fe.delete(h),fe.delete(y),qt}function Vn(h,y,b,D,q,fe,we){switch(b){case nt:if(h.byteLength!=y.byteLength||h.byteOffset!=y.byteOffset)return!1;h=h.buffer,y=y.buffer;case Fe:return!(h.byteLength!=y.byteLength||!fe(new tf(h),new tf(y)));case Ue:case ke:case Je:return Ia(+h,+y);case Le:return h.name==y.name&&h.message==y.message;case Y:case st:return h==y+"";case Pe:var Oe=Un;case Ie:var Xe=D&v;if(Oe||(Oe=$r),h.size!=y.size&&!Xe)return!1;var yt=we.get(h);if(yt)return yt==y;D|=x,we.set(h,y);var _t=fn(Oe(h),Oe(y),D,q,fe,we);return we.delete(h),_t;case ot:if(Ra)return Ra.call(h)==Ra.call(y)}return!1}function Bn(h,y,b,D,q,fe){var we=b&v,Oe=pi(h),Xe=Oe.length,yt=pi(y),_t=yt.length;if(Xe!=_t&&!we)return!1;for(var Mt=Xe;Mt--;){var qt=Oe[Mt];if(!(we?qt in y:pr.call(y,qt)))return!1}var dn=fe.get(h),Pn=fe.get(y);if(dn&&Pn)return dn==y&&Pn==h;var Kn=!0;fe.set(h,y),fe.set(y,h);for(var Ln=we;++Mt<Xe;){qt=Oe[Mt];var er=h[qt],or=y[qt];if(D)var Io=we?D(or,er,qt,y,h,fe):D(er,or,qt,h,y,fe);if(!(Io===t?er===or||q(er,or,b,D,fe):Io)){Kn=!1;break}Ln||(Ln=qt=="constructor")}if(Kn&&!Ln){var Xs=h.constructor,No=y.constructor;Xs!=No&&"constructor"in h&&"constructor"in y&&!(typeof Xs=="function"&&Xs instanceof Xs&&typeof No=="function"&&No instanceof No)&&(Kn=!1)}return fe.delete(h),fe.delete(y),Kn}function Wn(h){return i1(pT(h,t,ET),h+"")}function pi(h){return Hh(h,as,e1)}function sr(h){return Hh(h,ho,uT)}var na=Dh?function(h){return Dh.get(h)}:v1;function Zh(h){for(var y=h.name+"",b=Xl[y],D=pr.call(Xl,y)?b.length:0;D--;){var q=b[D],fe=q.func;if(fe==null||fe==h)return q.name}return y}function ed(h){var y=pr.call(Z,"placeholder")?Z:h;return y.placeholder}function bn(){var h=Z.iteratee||m1;return h=h===m1?Yu:h,arguments.length?h(arguments[0],arguments[1]):h}function ry(h,y){var b=h.__data__;return wD(y)?b[typeof y=="string"?"string":"hash"]:b.map}function Zx(h){for(var y=as(h),b=y.length;b--;){var D=y[b],q=h[D];y[b]=[D,q,hT(q)]}return y}function wf(h,y){var b=Zt(h,y);return Xu(b)?b:t}function mD(h){var y=pr.call(h,Qo),b=h[Qo];try{h[Qo]=t;var D=!0}catch{}var q=Bs.call(h);return D&&(y?h[Qo]=b:delete h[Qo]),q}var e1=af?function(h){return h==null?[]:(h=Rn(h),Mi(af(h),function(y){return Nh.call(h,y)}))}:y1,uT=af?function(h){for(var y=[];h;)ds(y,e1(h)),h=nf(h);return y}:y1,ws=Vi;(ku&&ws(new ku(new ArrayBuffer(1)))!=nt||lf&&ws(new lf)!=Pe||Gp&&ws(Gp.resolve())!=gt||zu&&ws(new zu)!=Ie||Wl&&ws(new Wl)!=pe)&&(ws=function(h){var y=Vi(h),b=y==mt?h.constructor:t,D=b?Ef(b):"";if(D)switch(D){case Cv:return nt;case Rv:return Pe;case Pv:return gt;case Lv:return Ie;case Jo:return pe}return y});function gD(h,y,b){for(var D=-1,q=b.length;++D<q;){var fe=b[D],we=fe.size;switch(fe.type){case"drop":h+=we;break;case"dropRight":y-=we;break;case"take":y=Zi(y,h+we);break;case"takeRight":h=Ci(h,y-we);break}}return{start:h,end:y}}function vD(h){var y=h.match(Nt);return y?y[1].split(Jt):[]}function cT(h,y,b){y=ml(y,h);for(var D=-1,q=y.length,fe=!1;++D<q;){var we=yl(y[D]);if(!(fe=h!=null&&b(h,we)))break;h=h[we]}return fe||++D!=q?fe:(q=h==null?0:h.length,!!q&&cy(q)&&Zl(we,q)&&(Hn(h)||Mf(h)))}function yD(h){var y=h.length,b=new h.constructor(y);return y&&typeof h[0]=="string"&&pr.call(h,"index")&&(b.index=h.index,b.input=h.input),b}function fT(h){return typeof h.constructor=="function"&&!hm(h)?Pa(nf(h)):{}}function _D(h,y,b){var D=h.constructor;switch(y){case Fe:return $h(h);case Ue:case ke:return new D(+h);case nt:return $x(h,b);case Ce:case De:case Ut:case Bt:case Ct:case wt:case ut:case It:case Kt:return ey(h,b);case Pe:return new D;case Je:case st:return new D(h);case Y:return uo(h);case Ie:return new D;case ot:return cm(h)}}function xD(h,y){var b=y.length;if(!b)return h;var D=b-1;return y[D]=(b>1?"& ":"")+y[D],y=y.join(b>2?", ":" "),h.replace(lt,`{
/* [wrapped with `+y+`] */
`)}function SD(h){return Hn(h)||Mf(h)||!!(kp&&h&&h[kp])}function Zl(h,y){var b=typeof h;return y=y??G,!!y&&(b=="number"||b!="symbol"&&$e.test(h))&&h>-1&&h%1==0&&h<y}function js(h,y,b){if(!ei(b))return!1;var D=typeof y;return(D=="number"?fo(b)&&Zl(y,b.length):D=="string"&&y in b)?Ia(b[y],h):!1}function t1(h,y){if(Hn(h))return!1;var b=typeof h;return b=="number"||b=="symbol"||b=="boolean"||h==null||Oo(h)?!0:Nn.test(h)||!En.test(h)||y!=null&&h in Rn(y)}function wD(h){var y=typeof h;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?h!=="__proto__":h===null}function n1(h){var y=Zh(h),b=Z[y];if(typeof b!="function"||!(y in wn.prototype))return!1;if(h===b)return!0;var D=na(b);return!!D&&h===D[0]}function ED(h){return!!$o&&$o in h}var MD=Ai?eu:_1;function hm(h){var y=h&&h.constructor,b=typeof y=="function"&&y.prototype||Uu;return h===b}function hT(h){return h===h&&!ei(h)}function dT(h,y){return function(b){return b==null?!1:b[h]===y&&(y!==t||h in Rn(b))}}function bD(h){var y=ly(h,function(D){return b.size===u&&b.clear(),D}),b=y.cache;return y}function TD(h,y){var b=h[1],D=y[1],q=b|D,fe=q<(S|_|O),we=D==O&&b==E||D==O&&b==U&&h[7].length<=y[8]||D==(O|U)&&y[7].length<=y[8]&&b==E;if(!(fe||we))return h;D&S&&(h[2]=y[2],q|=b&S?0:w);var Oe=y[3];if(Oe){var Xe=h[3];h[3]=Xe?vl(Xe,Oe,y[4]):Oe,h[4]=Xe?Fn(h[3],c):y[4]}return Oe=y[5],Oe&&(Xe=h[5],h[5]=Xe?xf(Xe,Oe,y[6]):Oe,h[6]=Xe?Fn(h[5],c):y[6]),Oe=y[7],Oe&&(h[7]=Oe),D&O&&(h[8]=h[8]==null?y[8]:Zi(h[8],y[8])),h[9]==null&&(h[9]=y[9]),h[0]=y[0],h[1]=q,h}function AD(h){var y=[];if(h!=null)for(var b in Rn(h))y.push(b);return y}function CD(h){return Bs.call(h)}function pT(h,y,b){return y=Ci(y===t?h.length-1:y,0),function(){for(var D=arguments,q=-1,fe=Ci(D.length-y,0),we=et(fe);++q<fe;)we[q]=D[y+q];q=-1;for(var Oe=et(y+1);++q<y;)Oe[q]=D[q];return Oe[y]=b(we),Nr(h,this,Oe)}}function mT(h,y){return y.length<2?h:Po(h,Vs(y,0,-1))}function RD(h,y){for(var b=h.length,D=Zi(y.length,b),q=ss(h);D--;){var fe=y[D];h[D]=Zl(fe,b)?q[fe]:t}return h}function r1(h,y){if(!(y==="constructor"&&typeof h[y]=="function")&&y!="__proto__")return h[y]}var gT=yT($v),dm=wv||function(h,y){return jr.setTimeout(h,y)},i1=yT(fl);function vT(h,y,b){var D=y+"";return i1(h,xD(D,PD(vD(D),b)))}function yT(h){var y=0,b=0;return function(){var D=bv(),q=$-(D-b);if(b=D,q>0){if(++y>=K)return arguments[0]}else y=0;return h.apply(t,arguments)}}function iy(h,y){var b=-1,D=h.length,q=D-1;for(y=y===t?D:y;++b<y;){var fe=ea(b,q),we=h[fe];h[fe]=h[b],h[b]=we}return h.length=y,h}var _T=bD(function(h){var y=[];return h.charCodeAt(0)===46&&y.push(""),h.replace(Tn,function(b,D,q,fe){y.push(q?fe.replace(An,"$1"):D||b)}),y});function yl(h){if(typeof h=="string"||Oo(h))return h;var y=h+"";return y=="0"&&1/h==-W?"-0":y}function Ef(h){if(h!=null){try{return Fu.call(h)}catch{}try{return h+""}catch{}}return""}function PD(h,y){return Yr(oe,function(b){var D="_."+b[0];y&b[1]&&!Ds(h,D)&&h.push(D)}),h.sort()}function xT(h){if(h instanceof wn)return h.clone();var y=new es(h.__wrapped__,h.__chain__);return y.__actions__=ss(h.__actions__),y.__index__=h.__index__,y.__values__=h.__values__,y}function LD(h,y,b){(b?js(h,y,b):y===t)?y=1:y=Ci(qn(y),0);var D=h==null?0:h.length;if(!D||y<1)return[];for(var q=0,fe=0,we=et(sf(D/y));q<D;)we[fe++]=Vs(h,q,q+=y);return we}function OD(h){for(var y=-1,b=h==null?0:h.length,D=0,q=[];++y<b;){var fe=h[y];fe&&(q[D++]=fe)}return q}function ID(){var h=arguments.length;if(!h)return[];for(var y=et(h-1),b=arguments[0],D=h;D--;)y[D-1]=arguments[D];return ds(Hn(b)?ss(b):[b],ki(y,1))}var ND=Sn(function(h,y){return Pi(h)?Yl(h,ki(y,1,Pi,!0)):[]}),DD=Sn(function(h,y){var b=ra(y);return Pi(b)&&(b=t),Pi(h)?Yl(h,ki(y,1,Pi,!0),bn(b,2)):[]}),UD=Sn(function(h,y){var b=ra(y);return Pi(b)&&(b=t),Pi(h)?Yl(h,ki(y,1,Pi,!0),t,b):[]});function FD(h,y,b){var D=h==null?0:h.length;return D?(y=b||y===t?1:qn(y),Vs(h,y<0?0:y,D)):[]}function BD(h,y,b){var D=h==null?0:h.length;return D?(y=b||y===t?1:qn(y),y=D-y,Vs(h,0,y<0?0:y)):[]}function kD(h,y){return h&&h.length?_f(h,bn(y,3),!0,!0):[]}function zD(h,y){return h&&h.length?_f(h,bn(y,3),!0):[]}function HD(h,y,b,D){var q=h==null?0:h.length;return q?(b&&typeof b!="number"&&js(h,y,b)&&(b=0,D=q),qv(h,y,b,D)):[]}function ST(h,y,b){var D=h==null?0:h.length;if(!D)return-1;var q=b==null?0:qn(b);return q<0&&(q=Ci(D+q,0)),Us(h,bn(y,3),q)}function wT(h,y,b){var D=h==null?0:h.length;if(!D)return-1;var q=D-1;return b!==t&&(q=qn(b),q=b<0?Ci(D+q,0):Zi(q,D-1)),Us(h,bn(y,3),q,!0)}function ET(h){var y=h==null?0:h.length;return y?ki(h,1):[]}function GD(h){var y=h==null?0:h.length;return y?ki(h,W):[]}function VD(h,y){var b=h==null?0:h.length;return b?(y=y===t?1:qn(y),ki(h,y)):[]}function WD(h){for(var y=-1,b=h==null?0:h.length,D={};++y<b;){var q=h[y];D[q[0]]=q[1]}return D}function MT(h){return h&&h.length?h[0]:t}function jD(h,y,b){var D=h==null?0:h.length;if(!D)return-1;var q=b==null?0:qn(b);return q<0&&(q=Ci(D+q,0)),Fs(h,y,q)}function XD(h){var y=h==null?0:h.length;return y?Vs(h,0,-1):[]}var qD=Sn(function(h){var y=Er(h,Kh);return y.length&&y[0]===h[0]?Wu(y):[]}),YD=Sn(function(h){var y=ra(h),b=Er(h,Kh);return y===ra(b)?y=t:b.pop(),b.length&&b[0]===h[0]?Wu(b,bn(y,2)):[]}),KD=Sn(function(h){var y=ra(h),b=Er(h,Kh);return y=typeof y=="function"?y:t,y&&b.pop(),b.length&&b[0]===h[0]?Wu(b,t,y):[]});function $D(h,y){return h==null?"":Gx.call(h,y)}function ra(h){var y=h==null?0:h.length;return y?h[y-1]:t}function QD(h,y,b){var D=h==null?0:h.length;if(!D)return-1;var q=D;return b!==t&&(q=qn(b),q=q<0?Ci(D+q,0):Zi(q,D-1)),y===y?bi(h,y,q):Us(h,Hl,q,!0)}function JD(h,y){return h&&h.length?La(h,qn(y)):t}var ZD=Sn(bT);function bT(h,y){return h&&h.length&&y&&y.length?Ku(h,y):h}function e4(h,y,b){return h&&h.length&&y&&y.length?Ku(h,y,bn(b,2)):h}function t4(h,y,b){return h&&h.length&&y&&y.length?Ku(h,y,t,b):h}var n4=Wn(function(h,y){var b=h==null?0:h.length,D=kh(h,y);return ns(h,Er(y,function(q){return Zl(q,b)?+q:q}).sort(Oa)),D});function r4(h,y){var b=[];if(!(h&&h.length))return b;var D=-1,q=[],fe=h.length;for(y=bn(y,3);++D<fe;){var we=h[D];y(we,D,h)&&(b.push(we),q.push(D))}return ns(h,q),b}function s1(h){return h==null?h:Av.call(h)}function i4(h,y,b){var D=h==null?0:h.length;return D?(b&&typeof b!="number"&&js(h,y,b)?(y=0,b=D):(y=y==null?0:qn(y),b=b===t?D:qn(b)),Vs(h,y,b)):[]}function s4(h,y){return ta(h,y)}function o4(h,y,b){return qh(h,y,bn(b,2))}function a4(h,y){var b=h==null?0:h.length;if(b){var D=ta(h,y);if(D<b&&Ia(h[D],y))return D}return-1}function l4(h,y){return ta(h,y,!0)}function u4(h,y,b){return qh(h,y,bn(b,2),!0)}function c4(h,y){var b=h==null?0:h.length;if(b){var D=ta(h,y,!0)-1;if(Ia(h[D],y))return D}return-1}function f4(h){return h&&h.length?sm(h):[]}function h4(h,y){return h&&h.length?sm(h,bn(y,2)):[]}function d4(h){var y=h==null?0:h.length;return y?Vs(h,1,y):[]}function p4(h,y,b){return h&&h.length?(y=b||y===t?1:qn(y),Vs(h,0,y<0?0:y)):[]}function m4(h,y,b){var D=h==null?0:h.length;return D?(y=b||y===t?1:qn(y),y=D-y,Vs(h,y<0?0:y,D)):[]}function g4(h,y){return h&&h.length?_f(h,bn(y,3),!1,!0):[]}function v4(h,y){return h&&h.length?_f(h,bn(y,3)):[]}var y4=Sn(function(h){return hl(ki(h,1,Pi,!0))}),_4=Sn(function(h){var y=ra(h);return Pi(y)&&(y=t),hl(ki(h,1,Pi,!0),bn(y,2))}),x4=Sn(function(h){var y=ra(h);return y=typeof y=="function"?y:t,hl(ki(h,1,Pi,!0),t,y)});function S4(h){return h&&h.length?hl(h):[]}function w4(h,y){return h&&h.length?hl(h,bn(y,2)):[]}function E4(h,y){return y=typeof y=="function"?y:t,h&&h.length?hl(h,t,y):[]}function o1(h){if(!(h&&h.length))return[];var y=0;return h=Mi(h,function(b){if(Pi(b))return y=Ci(b.length,y),!0}),de(y,function(b){return Er(h,R(b))})}function TT(h,y){if(!(h&&h.length))return[];var b=o1(h);return y==null?b:Er(b,function(D){return Nr(y,t,D)})}var M4=Sn(function(h,y){return Pi(h)?Yl(h,y):[]}),b4=Sn(function(h){return lm(Mi(h,Pi))}),T4=Sn(function(h){var y=ra(h);return Pi(y)&&(y=t),lm(Mi(h,Pi),bn(y,2))}),A4=Sn(function(h){var y=ra(h);return y=typeof y=="function"?y:t,lm(Mi(h,Pi),t,y)}),C4=Sn(o1);function R4(h,y){return pl(h||[],y||[],Co)}function P4(h,y){return pl(h||[],y||[],Ql)}var L4=Sn(function(h){var y=h.length,b=y>1?h[y-1]:t;return b=typeof b=="function"?(h.pop(),b):t,TT(h,b)});function AT(h){var y=Z(h);return y.__chain__=!0,y}function O4(h,y){return y(h),h}function sy(h,y){return y(h)}var I4=Wn(function(h){var y=h.length,b=y?h[0]:0,D=this.__wrapped__,q=function(fe){return kh(fe,h)};return y>1||this.__actions__.length||!(D instanceof wn)||!Zl(b)?this.thru(q):(D=D.slice(b,+b+(y?1:0)),D.__actions__.push({func:sy,args:[q],thisArg:t}),new es(D,this.__chain__).thru(function(fe){return y&&!fe.length&&fe.push(t),fe}))});function N4(){return AT(this)}function D4(){return new es(this.value(),this.__chain__)}function U4(){this.__values__===t&&(this.__values__=HT(this.value()));var h=this.__index__>=this.__values__.length,y=h?t:this.__values__[this.__index__++];return{done:h,value:y}}function F4(){return this}function B4(h){for(var y,b=this;b instanceof cf;){var D=xT(b);D.__index__=0,D.__values__=t,y?q.__wrapped__=D:y=D;var q=D;b=b.__wrapped__}return q.__wrapped__=h,y}function k4(){var h=this.__wrapped__;if(h instanceof wn){var y=h;return this.__actions__.length&&(y=new wn(this)),y=y.reverse(),y.__actions__.push({func:sy,args:[s1],thisArg:t}),new es(y,this.__chain__)}return this.thru(s1)}function z4(){return dl(this.__wrapped__,this.__actions__)}var H4=Sf(function(h,y,b){pr.call(h,b)?++h[b]:Zo(h,b,1)});function G4(h,y,b){var D=Hn(h)?Jc:Yx;return b&&js(h,y,b)&&(y=t),D(h,bn(y,3))}function V4(h,y){var b=Hn(h)?Mi:Jp;return b(h,bn(y,3))}var W4=C(ST),j4=C(wT);function X4(h,y){return ki(oy(h,y),1)}function q4(h,y){return ki(oy(h,y),W)}function Y4(h,y,b){return b=b===t?1:qn(b),ki(oy(h,y),b)}function CT(h,y){var b=Hn(h)?Yr:Ro;return b(h,bn(y,3))}function RT(h,y){var b=Hn(h)?Qc:Xv;return b(h,bn(y,3))}var K4=Sf(function(h,y,b){pr.call(h,b)?h[b].push(y):Zo(h,b,[y])});function $4(h,y,b,D){h=fo(h)?h:nd(h),b=b&&!D?qn(b):0;var q=h.length;return b<0&&(b=Ci(q+b,0)),fy(h)?b<=q&&h.indexOf(y,b)>-1:!!q&&Fs(h,y,b)>-1}var Q4=Sn(function(h,y,b){var D=-1,q=typeof y=="function",fe=fo(h)?et(h.length):[];return Ro(h,function(we){fe[++D]=q?Nr(y,we,b):Br(we,y,b)}),fe}),J4=Sf(function(h,y,b){Zo(h,b,y)});function oy(h,y){var b=Hn(h)?Er:$l;return b(h,bn(y,3))}function Z4(h,y,b,D){return h==null?[]:(Hn(y)||(y=y==null?[]:[y]),b=D?t:b,Hn(b)||(b=b==null?[]:[b]),vf(h,y,b))}var eU=Sf(function(h,y,b){h[b?0:1].push(y)},function(){return[[],[]]});function tU(h,y,b){var D=Hn(h)?Bl:H,q=arguments.length<3;return D(h,bn(y,4),b,q,Ro)}function nU(h,y,b){var D=Hn(h)?nl:H,q=arguments.length<3;return D(h,bn(y,4),b,q,Xv)}function rU(h,y){var b=Hn(h)?Mi:Jp;return b(h,uy(bn(y,3)))}function iU(h){var y=Hn(h)?ff:Kv;return y(h)}function sU(h,y,b){(b?js(h,y,b):y===t)?y=1:y=qn(y);var D=Hn(h)?Xp:rm;return D(h,y)}function oU(h){var y=Hn(h)?Wv:Qv;return y(h)}function aU(h){if(h==null)return 0;if(fo(h))return fy(h)?Ti(h):h.length;var y=ws(h);return y==Pe||y==Ie?h.size:ts(h).length}function lU(h,y,b){var D=Hn(h)?rl:im;return b&&js(h,y,b)&&(y=t),D(h,bn(y,3))}var uU=Sn(function(h,y){if(h==null)return[];var b=y.length;return b>1&&js(h,y[0],y[1])?y=[]:b>2&&js(y[0],y[1],y[2])&&(y=[y[0]]),vf(h,ki(y,1),[])}),ay=Sv||function(){return jr.Date.now()};function cU(h,y){if(typeof y!="function")throw new ps(a);return h=qn(h),function(){if(--h<1)return y.apply(this,arguments)}}function PT(h,y,b){return y=b?t:y,y=h&&y==null?h.length:y,Ze(h,O,t,t,t,t,y)}function LT(h,y){var b;if(typeof y!="function")throw new ps(a);return h=qn(h),function(){return--h>0&&(b=y.apply(this,arguments)),h<=1&&(y=t),b}}var a1=Sn(function(h,y,b){var D=S;if(b.length){var q=Fn(b,ed(a1));D|=L}return Ze(h,D,y,b,q)}),OT=Sn(function(h,y,b){var D=S|_;if(b.length){var q=Fn(b,ed(OT));D|=L}return Ze(y,D,h,b,q)});function IT(h,y,b){y=b?t:y;var D=Ze(h,E,t,t,t,t,t,y);return D.placeholder=IT.placeholder,D}function NT(h,y,b){y=b?t:y;var D=Ze(h,T,t,t,t,t,t,y);return D.placeholder=NT.placeholder,D}function DT(h,y,b){var D,q,fe,we,Oe,Xe,yt=0,_t=!1,Mt=!1,qt=!0;if(typeof h!="function")throw new ps(a);y=ia(y)||0,ei(b)&&(_t=!!b.leading,Mt="maxWait"in b,fe=Mt?Ci(ia(b.maxWait)||0,y):fe,qt="trailing"in b?!!b.trailing:qt);function dn(Li){var Na=D,nu=q;return D=q=t,yt=Li,we=h.apply(nu,Na),we}function Pn(Li){return yt=Li,Oe=dm(er,y),_t?dn(Li):we}function Kn(Li){var Na=Li-Xe,nu=Li-yt,eA=y-Na;return Mt?Zi(eA,fe-nu):eA}function Ln(Li){var Na=Li-Xe,nu=Li-yt;return Xe===t||Na>=y||Na<0||Mt&&nu>=fe}function er(){var Li=ay();if(Ln(Li))return or(Li);Oe=dm(er,Kn(Li))}function or(Li){return Oe=t,qt&&D?dn(Li):(D=q=t,we)}function Io(){Oe!==t&&Zv(Oe),yt=0,D=Xe=q=Oe=t}function Xs(){return Oe===t?we:or(ay())}function No(){var Li=ay(),Na=Ln(Li);if(D=arguments,q=this,Xe=Li,Na){if(Oe===t)return Pn(Xe);if(Mt)return Zv(Oe),Oe=dm(er,y),dn(Xe)}return Oe===t&&(Oe=dm(er,y)),we}return No.cancel=Io,No.flush=Xs,No}var fU=Sn(function(h,y){return Qp(h,1,y)}),hU=Sn(function(h,y,b){return Qp(h,ia(y)||0,b)});function dU(h){return Ze(h,F)}function ly(h,y){if(typeof h!="function"||y!=null&&typeof y!="function")throw new ps(a);var b=function(){var D=arguments,q=y?y.apply(this,D):D[0],fe=b.cache;if(fe.has(q))return fe.get(q);var we=h.apply(this,D);return b.cache=fe.set(q,we)||fe,we};return b.cache=new(ly.Cache||ao),b}ly.Cache=ao;function uy(h){if(typeof h!="function")throw new ps(a);return function(){var y=arguments;switch(y.length){case 0:return!h.call(this);case 1:return!h.call(this,y[0]);case 2:return!h.call(this,y[0],y[1]);case 3:return!h.call(this,y[0],y[1],y[2])}return!h.apply(this,y)}}function pU(h){return LT(2,h)}var mU=Jv(function(h,y){y=y.length==1&&Hn(y[0])?Er(y[0],Se(bn())):Er(ki(y,1),Se(bn()));var b=y.length;return Sn(function(D){for(var q=-1,fe=Zi(D.length,b);++q<fe;)D[q]=y[q].call(this,D[q]);return Nr(h,this,D)})}),l1=Sn(function(h,y){var b=Fn(y,ed(l1));return Ze(h,L,t,y,b)}),UT=Sn(function(h,y){var b=Fn(y,ed(UT));return Ze(h,A,t,y,b)}),gU=Wn(function(h,y){return Ze(h,U,t,t,t,y)});function vU(h,y){if(typeof h!="function")throw new ps(a);return y=y===t?y:qn(y),Sn(h,y)}function yU(h,y){if(typeof h!="function")throw new ps(a);return y=y==null?0:Ci(qn(y),0),Sn(function(b){var D=b[y],q=gl(b,0,y);return D&&ds(q,D),Nr(h,this,q)})}function _U(h,y,b){var D=!0,q=!0;if(typeof h!="function")throw new ps(a);return ei(b)&&(D="leading"in b?!!b.leading:D,q="trailing"in b?!!b.trailing:q),DT(h,y,{leading:D,maxWait:y,trailing:q})}function xU(h){return PT(h,1)}function SU(h,y){return l1(is(y),h)}function wU(){if(!arguments.length)return[];var h=arguments[0];return Hn(h)?h:[h]}function EU(h){return zs(h,g)}function MU(h,y){return y=typeof y=="function"?y:t,zs(h,g,y)}function bU(h){return zs(h,f|g)}function TU(h,y){return y=typeof y=="function"?y:t,zs(h,f|g,y)}function AU(h,y){return y==null||zh(h,y,as(y))}function Ia(h,y){return h===y||h!==h&&y!==y}var CU=vn(pf),RU=vn(function(h,y){return h>=y}),Mf=Gn(function(){return arguments}())?Gn:function(h){return mi(h)&&pr.call(h,"callee")&&!Nh.call(h,"callee")},Hn=et.isArray,PU=ba?Se(ba):hi;function fo(h){return h!=null&&cy(h.length)&&!eu(h)}function Pi(h){return mi(h)&&fo(h)}function LU(h){return h===!0||h===!1||mi(h)&&Vi(h)==Ue}var Qu=Ev||_1,OU=Du?Se(Du):di;function IU(h){return mi(h)&&h.nodeType===1&&!pm(h)}function NU(h){if(h==null)return!0;if(fo(h)&&(Hn(h)||typeof h=="string"||typeof h.splice=="function"||Qu(h)||td(h)||Mf(h)))return!h.length;var y=ws(h);if(y==Pe||y==Ie)return!h.size;if(hm(h))return!ts(h).length;for(var b in h)if(pr.call(h,b))return!1;return!0}function DU(h,y){return Jr(h,y)}function UU(h,y,b){b=typeof b=="function"?b:t;var D=b?b(h,y):t;return D===t?Jr(h,y,t,b):!!D}function u1(h){if(!mi(h))return!1;var y=Vi(h);return y==Le||y==Qe||typeof h.message=="string"&&typeof h.name=="string"&&!pm(h)}function FU(h){return typeof h=="number"&&zp(h)}function eu(h){if(!ei(h))return!1;var y=Vi(h);return y==Q||y==He||y==he||y==ne}function FT(h){return typeof h=="number"&&h==qn(h)}function cy(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=G}function ei(h){var y=typeof h;return h!=null&&(y=="object"||y=="function")}function mi(h){return h!=null&&typeof h=="object"}var BT=$c?Se($c):ju;function BU(h,y){return h===y||Zr(h,y,Zx(y))}function kU(h,y,b){return b=typeof b=="function"?b:t,Zr(h,y,Zx(y),b)}function zU(h){return kT(h)&&h!=+h}function HU(h){if(MD(h))throw new _n(s);return Xu(h)}function GU(h){return h===null}function VU(h){return h==null}function kT(h){return typeof h=="number"||mi(h)&&Vi(h)==Je}function pm(h){if(!mi(h)||Vi(h)!=mt)return!1;var y=nf(h);if(y===null)return!0;var b=pr.call(y,"constructor")&&y.constructor;return typeof b=="function"&&b instanceof b&&Fu.call(b)==Vl}var c1=Yo?Se(Yo):qu;function WU(h){return FT(h)&&h>=-G&&h<=G}var zT=To?Se(To):Gh;function fy(h){return typeof h=="string"||!Hn(h)&&mi(h)&&Vi(h)==st}function Oo(h){return typeof h=="symbol"||mi(h)&&Vi(h)==ot}var td=Ko?Se(Ko):tm;function jU(h){return h===t}function XU(h){return mi(h)&&ws(h)==pe}function qU(h){return mi(h)&&Vi(h)==Ge}var YU=vn(mf),KU=vn(function(h,y){return h<=y});function HT(h){if(!h)return[];if(fo(h))return fy(h)?Qn(h):ss(h);if(al&&h[al])return Mr(h[al]());var y=ws(h),b=y==Pe?Un:y==Ie?$r:nd;return b(h)}function tu(h){if(!h)return h===0?h:0;if(h=ia(h),h===W||h===-W){var y=h<0?-1:1;return y*V}return h===h?h:0}function qn(h){var y=tu(h),b=y%1;return y===y?b?y-b:y:0}function GT(h){return h?cl(qn(h),0,ie):0}function ia(h){if(typeof h=="number")return h;if(Oo(h))return k;if(ei(h)){var y=typeof h.valueOf=="function"?h.valueOf():h;h=ei(y)?y+"":y}if(typeof h!="string")return h===0?h:+h;h=Me(h);var b=Ne.test(h);return b||Ke.test(h)?Dp(h.slice(2),b?2:8):ae.test(h)?k:+h}function VT(h){return co(h,ho(h))}function $U(h){return h?cl(qn(h),-G,G):h===0?h:0}function Rr(h){return h==null?"":rs(h)}var QU=Jl(function(h,y){if(hm(y)||fo(y)){co(y,as(y),h);return}for(var b in y)pr.call(y,b)&&Co(h,b,y[b])}),WT=Jl(function(h,y){co(y,ho(y),h)}),hy=Jl(function(h,y,b,D){co(y,ho(y),h,D)}),JU=Jl(function(h,y,b,D){co(y,as(y),h,D)}),ZU=Wn(kh);function eF(h,y){var b=Pa(h);return y==null?b:Kp(b,y)}var tF=Sn(function(h,y){h=Rn(h);var b=-1,D=y.length,q=D>2?y[2]:t;for(q&&js(y[0],y[1],q)&&(D=1);++b<D;)for(var fe=y[b],we=ho(fe),Oe=-1,Xe=we.length;++Oe<Xe;){var yt=we[Oe],_t=h[yt];(_t===t||Ia(_t,Uu[yt])&&!pr.call(h,yt))&&(h[yt]=fe[yt])}return h}),nF=Sn(function(h){return h.push(t,at),Nr(jT,t,h)});function rF(h,y){return il(h,bn(y,3),Hs)}function iF(h,y){return il(h,bn(y,3),Vu)}function sF(h,y){return h==null?h:Gu(h,bn(y,3),ho)}function oF(h,y){return h==null?h:df(h,bn(y,3),ho)}function aF(h,y){return h&&Hs(h,bn(y,3))}function lF(h,y){return h&&Vu(h,bn(y,3))}function uF(h){return h==null?[]:Kl(h,as(h))}function cF(h){return h==null?[]:Kl(h,ho(h))}function f1(h,y,b){var D=h==null?t:Po(h,y);return D===t?b:D}function fF(h,y){return h!=null&&cT(h,y,Yv)}function h1(h,y){return h!=null&&cT(h,y,Zp)}var hF=ye(function(h,y,b){y!=null&&typeof y.toString!="function"&&(y=Bs.call(y)),h[y]=b},p1(po)),dF=ye(function(h,y,b){y!=null&&typeof y.toString!="function"&&(y=Bs.call(y)),pr.call(h,y)?h[y].push(b):h[y]=[b]},bn),pF=Sn(Br);function as(h){return fo(h)?jt(h):ts(h)}function ho(h){return fo(h)?jt(h,!0):nm(h)}function mF(h,y){var b={};return y=bn(y,3),Hs(h,function(D,q,fe){Zo(b,y(D,q,fe),D)}),b}function gF(h,y){var b={};return y=bn(y,3),Hs(h,function(D,q,fe){Zo(b,q,y(D,q,fe))}),b}var vF=Jl(function(h,y,b){Lo(h,y,b)}),jT=Jl(function(h,y,b,D){Lo(h,y,b,D)}),yF=Wn(function(h,y){var b={};if(h==null)return b;var D=!1;y=Er(y,function(fe){return fe=ml(fe,h),D||(D=fe.length>1),fe}),co(h,sr(h),b),D&&(b=zs(b,f|p|g,Yt));for(var q=y.length;q--;)om(b,y[q]);return b});function _F(h,y){return XT(h,uy(bn(y)))}var xF=Wn(function(h,y){return h==null?{}:yf(h,y)});function XT(h,y){if(h==null)return{};var b=Er(sr(h),function(D){return[D]});return y=bn(y),jh(h,b,function(D,q){return y(D,q[0])})}function SF(h,y,b){y=ml(y,h);var D=-1,q=y.length;for(q||(q=1,h=t);++D<q;){var fe=h==null?t:h[yl(y[D])];fe===t&&(D=q,fe=b),h=eu(fe)?fe.call(h):fe}return h}function wF(h,y,b){return h==null?h:Ql(h,y,b)}function EF(h,y,b,D){return D=typeof D=="function"?D:t,h==null?h:Ql(h,y,b,D)}var qT=Ws(as),YT=Ws(ho);function MF(h,y,b){var D=Hn(h),q=D||Qu(h)||td(h);if(y=bn(y,4),b==null){var fe=h&&h.constructor;q?b=D?new fe:[]:ei(h)?b=eu(fe)?Pa(nf(h)):{}:b={}}return(q?Yr:Hs)(h,function(we,Oe,Xe){return y(b,we,Oe,Xe)}),b}function bF(h,y){return h==null?!0:om(h,y)}function TF(h,y,b){return h==null?h:am(h,y,is(b))}function AF(h,y,b,D){return D=typeof D=="function"?D:t,h==null?h:am(h,y,is(b),D)}function nd(h){return h==null?[]:me(h,as(h))}function CF(h){return h==null?[]:me(h,ho(h))}function RF(h,y,b){return b===t&&(b=y,y=t),b!==t&&(b=ia(b),b=b===b?b:0),y!==t&&(y=ia(y),y=y===y?y:0),cl(ia(h),y,b)}function PF(h,y,b){return y=tu(y),b===t?(b=y,y=0):b=tu(b),h=ia(h),Kx(h,y,b)}function LF(h,y,b){if(b&&typeof b!="boolean"&&js(h,y,b)&&(y=b=t),b===t&&(typeof y=="boolean"?(b=y,y=t):typeof h=="boolean"&&(b=h,h=t)),h===t&&y===t?(h=0,y=1):(h=tu(h),y===t?(y=h,h=0):y=tu(y)),h>y){var D=h;h=y,y=D}if(b||h%1||y%1){var q=Hp();return Zi(h+q*(y-h+Lh("1e-"+((q+"").length-1))),y)}return ea(h,y)}var OF=d(function(h,y,b){return y=y.toLowerCase(),h+(b?KT(y):y)});function KT(h){return d1(Rr(h).toLowerCase())}function $T(h){return h=Rr(h),h&&h.replace(Pt,ht).replace(ui,"")}function IF(h,y,b){h=Rr(h),y=rs(y);var D=h.length;b=b===t?D:cl(qn(b),0,D);var q=b;return b-=y.length,b>=0&&h.slice(b,q)==y}function NF(h){return h=Rr(h),h&&dt.test(h)?h.replace(Re,Et):h}function DF(h){return h=Rr(h),h&&Te.test(h)?h.replace(lr,"\\$&"):h}var UF=d(function(h,y,b){return h+(b?"-":"")+y.toLowerCase()}),FF=d(function(h,y,b){return h+(b?" ":"")+y.toLowerCase()}),BF=ny("toLowerCase");function kF(h,y,b){h=Rr(h),y=qn(y);var D=y?Ti(h):0;if(!y||D>=y)return h;var q=(y-D)/2;return Lt(of(q),b)+h+Lt(sf(q),b)}function zF(h,y,b){h=Rr(h),y=qn(y);var D=y?Ti(h):0;return y&&D<y?h+Lt(y-D,b):h}function HF(h,y,b){h=Rr(h),y=qn(y);var D=y?Ti(h):0;return y&&D<y?Lt(y-D,b)+h:h}function GF(h,y,b){return b||y==null?y=0:y&&(y=+y),Tv(Rr(h).replace(_e,""),y||0)}function VF(h,y,b){return(b?js(h,y,b):y===t)?y=1:y=qn(y),$u(Rr(h),y)}function WF(){var h=arguments,y=Rr(h[0]);return h.length<3?y:y.replace(h[1],h[2])}var jF=d(function(h,y,b){return h+(b?"_":"")+y.toLowerCase()});function XF(h,y,b){return b&&typeof b!="number"&&js(h,y,b)&&(y=b=t),b=b===t?ie:b>>>0,b?(h=Rr(h),h&&(typeof y=="string"||y!=null&&!c1(y))&&(y=rs(y),!y&&On(h))?gl(Qn(h),0,b):h.split(y,b)):[]}var qF=d(function(h,y,b){return h+(b?" ":"")+d1(y)});function YF(h,y,b){return h=Rr(h),b=b==null?0:cl(qn(b),0,h.length),y=rs(y),h.slice(b,b+y.length)==y}function KF(h,y,b){var D=Z.templateSettings;b&&js(h,y,b)&&(y=t),h=Rr(h),y=hy({},y,D,Ve);var q=hy({},y.imports,D.imports,Ve),fe=as(q),we=me(q,fe),Oe,Xe,yt=0,_t=y.interpolate||Xt,Mt="__p += '",qt=Fi((y.escape||Xt).source+"|"+_t.source+"|"+(_t===Qt?an:Xt).source+"|"+(y.evaluate||Xt).source+"|$","g"),dn="//# sourceURL="+(pr.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ui+"]")+`
`;h.replace(qt,function(Ln,er,or,Io,Xs,No){return or||(or=Io),Mt+=h.slice(yt,No).replace(tn,zt),er&&(Oe=!0,Mt+=`' +
__e(`+er+`) +
'`),Xs&&(Xe=!0,Mt+=`';
`+Xs+`;
__p += '`),or&&(Mt+=`' +
((__t = (`+or+`)) == null ? '' : __t) +
'`),yt=No+Ln.length,Ln}),Mt+=`';
`;var Pn=pr.call(y,"variable")&&y.variable;if(!Pn)Mt=`with (obj) {
`+Mt+`
}
`;else if(Dt.test(Pn))throw new _n(l);Mt=(Xe?Mt.replace(Mn,""):Mt).replace(Tt,"$1").replace(Rt,"$1;"),Mt="function("+(Pn||"obj")+`) {
`+(Pn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Oe?", __e = _.escape":"")+(Xe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Mt+`return __p
}`;var Kn=JT(function(){return Cn(fe,dn+"return "+Mt).apply(t,we)});if(Kn.source=Mt,u1(Kn))throw Kn;return Kn}function $F(h){return Rr(h).toLowerCase()}function QF(h){return Rr(h).toUpperCase()}function JF(h,y,b){if(h=Rr(h),h&&(b||y===t))return Me(h);if(!h||!(y=rs(y)))return h;var D=Qn(h),q=Qn(y),fe=tt(D,q),we=it(D,q)+1;return gl(D,fe,we).join("")}function ZF(h,y,b){if(h=Rr(h),h&&(b||y===t))return h.slice(0,fi(h)+1);if(!h||!(y=rs(y)))return h;var D=Qn(h),q=it(D,Qn(y))+1;return gl(D,0,q).join("")}function eB(h,y,b){if(h=Rr(h),h&&(b||y===t))return h.replace(_e,"");if(!h||!(y=rs(y)))return h;var D=Qn(h),q=tt(D,Qn(y));return gl(D,q).join("")}function tB(h,y){var b=P,D=N;if(ei(y)){var q="separator"in y?y.separator:q;b="length"in y?qn(y.length):b,D="omission"in y?rs(y.omission):D}h=Rr(h);var fe=h.length;if(On(h)){var we=Qn(h);fe=we.length}if(b>=fe)return h;var Oe=b-Ti(D);if(Oe<1)return D;var Xe=we?gl(we,0,Oe).join(""):h.slice(0,Oe);if(q===t)return Xe+D;if(we&&(Oe+=Xe.length-Oe),c1(q)){if(h.slice(Oe).search(q)){var yt,_t=Xe;for(q.global||(q=Fi(q.source,Rr(ln.exec(q))+"g")),q.lastIndex=0;yt=q.exec(_t);)var Mt=yt.index;Xe=Xe.slice(0,Mt===t?Oe:Mt)}}else if(h.indexOf(rs(q),Oe)!=Oe){var qt=Xe.lastIndexOf(q);qt>-1&&(Xe=Xe.slice(0,qt))}return Xe+D}function nB(h){return h=Rr(h),h&&We.test(h)?h.replace(ce,Fr):h}var rB=d(function(h,y,b){return h+(b?" ":"")+y.toUpperCase()}),d1=ny("toUpperCase");function QT(h,y,b){return h=Rr(h),y=b?t:y,y===t?cr(h)?Ht(h):zl(h):h.match(y)||[]}var JT=Sn(function(h,y){try{return Nr(h,t,y)}catch(b){return u1(b)?b:new _n(b)}}),iB=Wn(function(h,y){return Yr(y,function(b){b=yl(b),Zo(h,b,a1(h[b],h))}),h});function sB(h){var y=h==null?0:h.length,b=bn();return h=y?Er(h,function(D){if(typeof D[1]!="function")throw new ps(a);return[b(D[0]),D[1]]}):[],Sn(function(D){for(var q=-1;++q<y;){var fe=h[q];if(Nr(fe[0],this,D))return Nr(fe[1],this,D)}})}function oB(h){return $p(zs(h,f))}function p1(h){return function(){return h}}function aB(h,y){return h==null||h!==h?y:h}var lB=I(),uB=I(!0);function po(h){return h}function m1(h){return Yu(typeof h=="function"?h:zs(h,f))}function cB(h){return gf(zs(h,f))}function fB(h,y){return Vh(h,zs(y,f))}var hB=Sn(function(h,y){return function(b){return Br(b,h,y)}}),dB=Sn(function(h,y){return function(b){return Br(h,b,y)}});function g1(h,y,b){var D=as(y),q=Kl(y,D);b==null&&!(ei(y)&&(q.length||!D.length))&&(b=y,y=h,h=this,q=Kl(y,as(y)));var fe=!(ei(b)&&"chain"in b)||!!b.chain,we=eu(h);return Yr(q,function(Oe){var Xe=y[Oe];h[Oe]=Xe,we&&(h.prototype[Oe]=function(){var yt=this.__chain__;if(fe||yt){var _t=h(this.__wrapped__),Mt=_t.__actions__=ss(this.__actions__);return Mt.push({func:Xe,args:arguments,thisArg:h}),_t.__chain__=yt,_t}return Xe.apply(h,ds([this.value()],arguments))})}),h}function pB(){return jr._===this&&(jr._=Oh),this}function v1(){}function mB(h){return h=qn(h),Sn(function(y){return La(y,h)})}var gB=ct(Er),vB=ct(Jc),yB=ct(rl);function ZT(h){return t1(h)?R(yl(h)):Xh(h)}function _B(h){return function(y){return h==null?t:Po(h,y)}}var xB=Dn(),SB=Dn(!0);function y1(){return[]}function _1(){return!1}function wB(){return{}}function EB(){return""}function MB(){return!0}function bB(h,y){if(h=qn(h),h<1||h>G)return[];var b=ie,D=Zi(h,ie);y=bn(y),h-=ie;for(var q=de(D,y);++b<h;)y(b);return q}function TB(h){return Hn(h)?Er(h,yl):Oo(h)?[h]:ss(_T(Rr(h)))}function AB(h){var y=++Up;return Rr(h)+y}var CB=Be(function(h,y){return h+y},0),RB=cn("ceil"),PB=Be(function(h,y){return h/y},1),LB=cn("floor");function OB(h){return h&&h.length?hf(h,po,pf):t}function IB(h,y){return h&&h.length?hf(h,bn(y,2),pf):t}function NB(h){return Gl(h,po)}function DB(h,y){return Gl(h,bn(y,2))}function UB(h){return h&&h.length?hf(h,po,mf):t}function FB(h,y){return h&&h.length?hf(h,bn(y,2),mf):t}var BB=Be(function(h,y){return h*y},1),kB=cn("round"),zB=Be(function(h,y){return h-y},0);function HB(h){return h&&h.length?J(h,po):0}function GB(h,y){return h&&h.length?J(h,bn(y,2)):0}return Z.after=cU,Z.ary=PT,Z.assign=QU,Z.assignIn=WT,Z.assignInWith=hy,Z.assignWith=JU,Z.at=ZU,Z.before=LT,Z.bind=a1,Z.bindAll=iB,Z.bindKey=OT,Z.castArray=wU,Z.chain=AT,Z.chunk=LD,Z.compact=OD,Z.concat=ID,Z.cond=sB,Z.conforms=oB,Z.constant=p1,Z.countBy=H4,Z.create=eF,Z.curry=IT,Z.curryRight=NT,Z.debounce=DT,Z.defaults=tF,Z.defaultsDeep=nF,Z.defer=fU,Z.delay=hU,Z.difference=ND,Z.differenceBy=DD,Z.differenceWith=UD,Z.drop=FD,Z.dropRight=BD,Z.dropRightWhile=kD,Z.dropWhile=zD,Z.fill=HD,Z.filter=V4,Z.flatMap=X4,Z.flatMapDeep=q4,Z.flatMapDepth=Y4,Z.flatten=ET,Z.flattenDeep=GD,Z.flattenDepth=VD,Z.flip=dU,Z.flow=lB,Z.flowRight=uB,Z.fromPairs=WD,Z.functions=uF,Z.functionsIn=cF,Z.groupBy=K4,Z.initial=XD,Z.intersection=qD,Z.intersectionBy=YD,Z.intersectionWith=KD,Z.invert=hF,Z.invertBy=dF,Z.invokeMap=Q4,Z.iteratee=m1,Z.keyBy=J4,Z.keys=as,Z.keysIn=ho,Z.map=oy,Z.mapKeys=mF,Z.mapValues=gF,Z.matches=cB,Z.matchesProperty=fB,Z.memoize=ly,Z.merge=vF,Z.mergeWith=jT,Z.method=hB,Z.methodOf=dB,Z.mixin=g1,Z.negate=uy,Z.nthArg=mB,Z.omit=yF,Z.omitBy=_F,Z.once=pU,Z.orderBy=Z4,Z.over=gB,Z.overArgs=mU,Z.overEvery=vB,Z.overSome=yB,Z.partial=l1,Z.partialRight=UT,Z.partition=eU,Z.pick=xF,Z.pickBy=XT,Z.property=ZT,Z.propertyOf=_B,Z.pull=ZD,Z.pullAll=bT,Z.pullAllBy=e4,Z.pullAllWith=t4,Z.pullAt=n4,Z.range=xB,Z.rangeRight=SB,Z.rearg=gU,Z.reject=rU,Z.remove=r4,Z.rest=vU,Z.reverse=s1,Z.sampleSize=sU,Z.set=wF,Z.setWith=EF,Z.shuffle=oU,Z.slice=i4,Z.sortBy=uU,Z.sortedUniq=f4,Z.sortedUniqBy=h4,Z.split=XF,Z.spread=yU,Z.tail=d4,Z.take=p4,Z.takeRight=m4,Z.takeRightWhile=g4,Z.takeWhile=v4,Z.tap=O4,Z.throttle=_U,Z.thru=sy,Z.toArray=HT,Z.toPairs=qT,Z.toPairsIn=YT,Z.toPath=TB,Z.toPlainObject=VT,Z.transform=MF,Z.unary=xU,Z.union=y4,Z.unionBy=_4,Z.unionWith=x4,Z.uniq=S4,Z.uniqBy=w4,Z.uniqWith=E4,Z.unset=bF,Z.unzip=o1,Z.unzipWith=TT,Z.update=TF,Z.updateWith=AF,Z.values=nd,Z.valuesIn=CF,Z.without=M4,Z.words=QT,Z.wrap=SU,Z.xor=b4,Z.xorBy=T4,Z.xorWith=A4,Z.zip=C4,Z.zipObject=R4,Z.zipObjectDeep=P4,Z.zipWith=L4,Z.entries=qT,Z.entriesIn=YT,Z.extend=WT,Z.extendWith=hy,g1(Z,Z),Z.add=CB,Z.attempt=JT,Z.camelCase=OF,Z.capitalize=KT,Z.ceil=RB,Z.clamp=RF,Z.clone=EU,Z.cloneDeep=bU,Z.cloneDeepWith=TU,Z.cloneWith=MU,Z.conformsTo=AU,Z.deburr=$T,Z.defaultTo=aB,Z.divide=PB,Z.endsWith=IF,Z.eq=Ia,Z.escape=NF,Z.escapeRegExp=DF,Z.every=G4,Z.find=W4,Z.findIndex=ST,Z.findKey=rF,Z.findLast=j4,Z.findLastIndex=wT,Z.findLastKey=iF,Z.floor=LB,Z.forEach=CT,Z.forEachRight=RT,Z.forIn=sF,Z.forInRight=oF,Z.forOwn=aF,Z.forOwnRight=lF,Z.get=f1,Z.gt=CU,Z.gte=RU,Z.has=fF,Z.hasIn=h1,Z.head=MT,Z.identity=po,Z.includes=$4,Z.indexOf=jD,Z.inRange=PF,Z.invoke=pF,Z.isArguments=Mf,Z.isArray=Hn,Z.isArrayBuffer=PU,Z.isArrayLike=fo,Z.isArrayLikeObject=Pi,Z.isBoolean=LU,Z.isBuffer=Qu,Z.isDate=OU,Z.isElement=IU,Z.isEmpty=NU,Z.isEqual=DU,Z.isEqualWith=UU,Z.isError=u1,Z.isFinite=FU,Z.isFunction=eu,Z.isInteger=FT,Z.isLength=cy,Z.isMap=BT,Z.isMatch=BU,Z.isMatchWith=kU,Z.isNaN=zU,Z.isNative=HU,Z.isNil=VU,Z.isNull=GU,Z.isNumber=kT,Z.isObject=ei,Z.isObjectLike=mi,Z.isPlainObject=pm,Z.isRegExp=c1,Z.isSafeInteger=WU,Z.isSet=zT,Z.isString=fy,Z.isSymbol=Oo,Z.isTypedArray=td,Z.isUndefined=jU,Z.isWeakMap=XU,Z.isWeakSet=qU,Z.join=$D,Z.kebabCase=UF,Z.last=ra,Z.lastIndexOf=QD,Z.lowerCase=FF,Z.lowerFirst=BF,Z.lt=YU,Z.lte=KU,Z.max=OB,Z.maxBy=IB,Z.mean=NB,Z.meanBy=DB,Z.min=UB,Z.minBy=FB,Z.stubArray=y1,Z.stubFalse=_1,Z.stubObject=wB,Z.stubString=EB,Z.stubTrue=MB,Z.multiply=BB,Z.nth=JD,Z.noConflict=pB,Z.noop=v1,Z.now=ay,Z.pad=kF,Z.padEnd=zF,Z.padStart=HF,Z.parseInt=GF,Z.random=LF,Z.reduce=tU,Z.reduceRight=nU,Z.repeat=VF,Z.replace=WF,Z.result=SF,Z.round=kB,Z.runInContext=Ee,Z.sample=iU,Z.size=aU,Z.snakeCase=jF,Z.some=lU,Z.sortedIndex=s4,Z.sortedIndexBy=o4,Z.sortedIndexOf=a4,Z.sortedLastIndex=l4,Z.sortedLastIndexBy=u4,Z.sortedLastIndexOf=c4,Z.startCase=qF,Z.startsWith=YF,Z.subtract=zB,Z.sum=HB,Z.sumBy=GB,Z.template=KF,Z.times=bB,Z.toFinite=tu,Z.toInteger=qn,Z.toLength=GT,Z.toLower=$F,Z.toNumber=ia,Z.toSafeInteger=$U,Z.toString=Rr,Z.toUpper=QF,Z.trim=JF,Z.trimEnd=ZF,Z.trimStart=eB,Z.truncate=tB,Z.unescape=nB,Z.uniqueId=AB,Z.upperCase=rB,Z.upperFirst=d1,Z.each=CT,Z.eachRight=RT,Z.first=MT,g1(Z,function(){var h={};return Hs(Z,function(y,b){pr.call(Z.prototype,b)||(h[b]=y)}),h}(),{chain:!1}),Z.VERSION=r,Yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){Z[h].placeholder=Z}),Yr(["drop","take"],function(h,y){wn.prototype[h]=function(b){b=b===t?1:Ci(qn(b),0);var D=this.__filtered__&&!y?new wn(this):this.clone();return D.__filtered__?D.__takeCount__=Zi(b,D.__takeCount__):D.__views__.push({size:Zi(b,ie),type:h+(D.__dir__<0?"Right":"")}),D},wn.prototype[h+"Right"]=function(b){return this.reverse()[h](b).reverse()}}),Yr(["filter","map","takeWhile"],function(h,y){var b=y+1,D=b==j||b==re;wn.prototype[h]=function(q){var fe=this.clone();return fe.__iteratees__.push({iteratee:bn(q,3),type:b}),fe.__filtered__=fe.__filtered__||D,fe}}),Yr(["head","last"],function(h,y){var b="take"+(y?"Right":"");wn.prototype[h]=function(){return this[b](1).value()[0]}}),Yr(["initial","tail"],function(h,y){var b="drop"+(y?"":"Right");wn.prototype[h]=function(){return this.__filtered__?new wn(this):this[b](1)}}),wn.prototype.compact=function(){return this.filter(po)},wn.prototype.find=function(h){return this.filter(h).head()},wn.prototype.findLast=function(h){return this.reverse().find(h)},wn.prototype.invokeMap=Sn(function(h,y){return typeof h=="function"?new wn(this):this.map(function(b){return Br(b,h,y)})}),wn.prototype.reject=function(h){return this.filter(uy(bn(h)))},wn.prototype.slice=function(h,y){h=qn(h);var b=this;return b.__filtered__&&(h>0||y<0)?new wn(b):(h<0?b=b.takeRight(-h):h&&(b=b.drop(h)),y!==t&&(y=qn(y),b=y<0?b.dropRight(-y):b.take(y-h)),b)},wn.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},wn.prototype.toArray=function(){return this.take(ie)},Hs(wn.prototype,function(h,y){var b=/^(?:filter|find|map|reject)|While$/.test(y),D=/^(?:head|last)$/.test(y),q=Z[D?"take"+(y=="last"?"Right":""):y],fe=D||/^find/.test(y);q&&(Z.prototype[y]=function(){var we=this.__wrapped__,Oe=D?[1]:arguments,Xe=we instanceof wn,yt=Oe[0],_t=Xe||Hn(we),Mt=function(er){var or=q.apply(Z,ds([er],Oe));return D&&qt?or[0]:or};_t&&b&&typeof yt=="function"&&yt.length!=1&&(Xe=_t=!1);var qt=this.__chain__,dn=!!this.__actions__.length,Pn=fe&&!qt,Kn=Xe&&!dn;if(!fe&&_t){we=Kn?we:new wn(this);var Ln=h.apply(we,Oe);return Ln.__actions__.push({func:sy,args:[Mt],thisArg:t}),new es(Ln,qt)}return Pn&&Kn?h.apply(this,Oe):(Ln=this.thru(Mt),Pn?D?Ln.value()[0]:Ln.value():Ln)})}),Yr(["pop","push","shift","sort","splice","unshift"],function(h){var y=sl[h],b=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",D=/^(?:pop|shift)$/.test(h);Z.prototype[h]=function(){var q=arguments;if(D&&!this.__chain__){var fe=this.value();return y.apply(Hn(fe)?fe:[],q)}return this[b](function(we){return y.apply(Hn(we)?we:[],q)})}}),Hs(wn.prototype,function(h,y){var b=Z[y];if(b){var D=b.name+"";pr.call(Xl,D)||(Xl[D]=[]),Xl[D].push({name:y,func:b})}}),Xl[z(t,_).name]=[{name:"wrapper",func:t}],wn.prototype.clone=Vx,wn.prototype.reverse=Wx,wn.prototype.value=ks,Z.prototype.at=I4,Z.prototype.chain=N4,Z.prototype.commit=D4,Z.prototype.next=U4,Z.prototype.plant=B4,Z.prototype.reverse=k4,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=z4,Z.prototype.first=Z.prototype.head,al&&(Z.prototype[al]=F4),Z},on=zn();Ei?((Ei.exports=on)._=on,Nu._=on):jr._=on}).call(mc)})(O_,O_.exports);var JL=O_.exports,ZL={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(self,function(){return function(){var t={9343:function(a,l,o){var u=o(8897),c=o(8179),f=c(u("String.prototype.indexOf"));a.exports=function(p,g){var v=u(p,!!g);return typeof v=="function"&&f(p,".prototype.")>-1?c(v):v}},8179:function(a,l,o){var u=o(4499),c=o(8897),f=o(8973),p=c("%TypeError%"),g=c("%Function.prototype.apply%"),v=c("%Function.prototype.call%"),x=c("%Reflect.apply%",!0)||u.call(v,g),S=c("%Object.defineProperty%",!0),_=c("%Math.max%");if(S)try{S({},"a",{value:1})}catch{S=null}a.exports=function(E){if(typeof E!="function")throw new p("a function is required");var T=x(u,v,arguments);return f(T,1+_(0,E.length-(arguments.length-1)),!0)};var w=function(){return x(u,g,arguments)};S?S(a.exports,"apply",{value:w}):a.exports.apply=w},1020:function(a){var l=String.prototype.replace,o=/%20/g,u="RFC3986";a.exports={default:u,formatters:{RFC1738:function(c){return l.call(c,o,"+")},RFC3986:function(c){return String(c)}},RFC1738:"RFC1738",RFC3986:u}},9780:function(a,l,o){var u=o(8889),c=o(7735),f=o(1020);a.exports={formats:f,parse:c,stringify:u}},7735:function(a,l,o){var u=o(4285),c=Object.prototype.hasOwnProperty,f=Array.isArray,p={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:u.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g=function(S){return S.replace(/&#(\d+);/g,function(_,w){return String.fromCharCode(parseInt(w,10))})},v=function(S,_){return S&&typeof S=="string"&&_.comma&&S.indexOf(",")>-1?S.split(","):S},x=function(S,_,w,E){if(S){var T=w.allowDots?S.replace(/\.([^.[]+)/g,"[$1]"):S,L=/(\[[^[\]]*])/g,A=w.depth>0&&/(\[[^[\]]*])/.exec(T),O=A?T.slice(0,A.index):T,U=[];if(O){if(!w.plainObjects&&c.call(Object.prototype,O)&&!w.allowPrototypes)return;U.push(O)}for(var F=0;w.depth>0&&(A=L.exec(T))!==null&&F<w.depth;){if(F+=1,!w.plainObjects&&c.call(Object.prototype,A[1].slice(1,-1))&&!w.allowPrototypes)return;U.push(A[1])}return A&&U.push("["+T.slice(A.index)+"]"),function(P,N,K,$){for(var j=$?N:v(N,K),le=P.length-1;le>=0;--le){var re,W=P[le];if(W==="[]"&&K.parseArrays)re=[].concat(j);else{re=K.plainObjects?Object.create(null):{};var G=W.charAt(0)==="["&&W.charAt(W.length-1)==="]"?W.slice(1,-1):W,V=parseInt(G,10);K.parseArrays||G!==""?!isNaN(V)&&W!==G&&String(V)===G&&V>=0&&K.parseArrays&&V<=K.arrayLimit?(re=[])[V]=j:G!=="__proto__"&&(re[G]=j):re={0:j}}j=re}return j}(U,_,w,E)}};a.exports=function(S,_){var w=function(F){if(!F)return p;if(F.decoder!==null&&F.decoder!==void 0&&typeof F.decoder!="function")throw new TypeError("Decoder has to be a function.");if(F.charset!==void 0&&F.charset!=="utf-8"&&F.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var P=F.charset===void 0?p.charset:F.charset;return{allowDots:F.allowDots===void 0?p.allowDots:!!F.allowDots,allowPrototypes:typeof F.allowPrototypes=="boolean"?F.allowPrototypes:p.allowPrototypes,allowSparse:typeof F.allowSparse=="boolean"?F.allowSparse:p.allowSparse,arrayLimit:typeof F.arrayLimit=="number"?F.arrayLimit:p.arrayLimit,charset:P,charsetSentinel:typeof F.charsetSentinel=="boolean"?F.charsetSentinel:p.charsetSentinel,comma:typeof F.comma=="boolean"?F.comma:p.comma,decoder:typeof F.decoder=="function"?F.decoder:p.decoder,delimiter:typeof F.delimiter=="string"||u.isRegExp(F.delimiter)?F.delimiter:p.delimiter,depth:typeof F.depth=="number"||F.depth===!1?+F.depth:p.depth,ignoreQueryPrefix:F.ignoreQueryPrefix===!0,interpretNumericEntities:typeof F.interpretNumericEntities=="boolean"?F.interpretNumericEntities:p.interpretNumericEntities,parameterLimit:typeof F.parameterLimit=="number"?F.parameterLimit:p.parameterLimit,parseArrays:F.parseArrays!==!1,plainObjects:typeof F.plainObjects=="boolean"?F.plainObjects:p.plainObjects,strictNullHandling:typeof F.strictNullHandling=="boolean"?F.strictNullHandling:p.strictNullHandling}}(_);if(S===""||S==null)return w.plainObjects?Object.create(null):{};for(var E=typeof S=="string"?function(F,P){var N,K={__proto__:null},$=P.ignoreQueryPrefix?F.replace(/^\?/,""):F,j=P.parameterLimit===1/0?void 0:P.parameterLimit,le=$.split(P.delimiter,j),re=-1,W=P.charset;if(P.charsetSentinel)for(N=0;N<le.length;++N)le[N].indexOf("utf8=")===0&&(le[N]==="utf8=%E2%9C%93"?W="utf-8":le[N]==="utf8=%26%2310003%3B"&&(W="iso-8859-1"),re=N,N=le.length);for(N=0;N<le.length;++N)if(N!==re){var G,V,k=le[N],ie=k.indexOf("]="),te=ie===-1?k.indexOf("="):ie+1;te===-1?(G=P.decoder(k,p.decoder,W,"key"),V=P.strictNullHandling?null:""):(G=P.decoder(k.slice(0,te),p.decoder,W,"key"),V=u.maybeMap(v(k.slice(te+1),P),function(se){return P.decoder(se,p.decoder,W,"value")})),V&&P.interpretNumericEntities&&W==="iso-8859-1"&&(V=g(V)),k.indexOf("[]=")>-1&&(V=f(V)?[V]:V),c.call(K,G)?K[G]=u.combine(K[G],V):K[G]=V}return K}(S,w):S,T=w.plainObjects?Object.create(null):{},L=Object.keys(E),A=0;A<L.length;++A){var O=L[A],U=x(O,E[O],w,typeof S=="string");T=u.merge(T,U,w)}return w.allowSparse===!0?T:u.compact(T)}},8889:function(a,l,o){var u=o(588),c=o(4285),f=o(1020),p=Object.prototype.hasOwnProperty,g={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,O){return A+"["+O+"]"},repeat:function(A){return A}},v=Array.isArray,x=Array.prototype.push,S=function(A,O){x.apply(A,v(O)?O:[O])},_=Date.prototype.toISOString,w=f.default,E={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:c.encode,encodeValuesOnly:!1,format:w,formatter:f.formatters[w],indices:!1,serializeDate:function(A){return _.call(A)},skipNulls:!1,strictNullHandling:!1},T={},L=function A(O,U,F,P,N,K,$,j,le,re,W,G,V,k,ie,te){for(var se,oe=O,ve=te,xe=0,he=!1;(ve=ve.get(T))!==void 0&&!he;){var Ue=ve.get(O);if(xe+=1,Ue!==void 0){if(Ue===xe)throw new RangeError("Cyclic object value");he=!0}ve.get(T)===void 0&&(xe=0)}if(typeof j=="function"?oe=j(U,oe):oe instanceof Date?oe=W(oe):F==="comma"&&v(oe)&&(oe=c.maybeMap(oe,function(gt){return gt instanceof Date?W(gt):gt})),oe===null){if(N)return $&&!k?$(U,E.encoder,ie,"key",G):U;oe=""}if(typeof(se=oe)=="string"||typeof se=="number"||typeof se=="boolean"||typeof se=="symbol"||typeof se=="bigint"||c.isBuffer(oe))return $?[V(k?U:$(U,E.encoder,ie,"key",G))+"="+V($(oe,E.encoder,ie,"value",G))]:[V(U)+"="+V(String(oe))];var ke,Qe=[];if(oe===void 0)return Qe;if(F==="comma"&&v(oe))k&&$&&(oe=c.maybeMap(oe,$)),ke=[{value:oe.length>0?oe.join(",")||null:void 0}];else if(v(j))ke=j;else{var Le=Object.keys(oe);ke=le?Le.sort(le):Le}for(var Q=P&&v(oe)&&oe.length===1?U+"[]":U,He=0;He<ke.length;++He){var Pe=ke[He],Je=typeof Pe=="object"&&Pe.value!==void 0?Pe.value:oe[Pe];if(!K||Je!==null){var Ye=v(oe)?typeof F=="function"?F(Q,Pe):Q:Q+(re?"."+Pe:"["+Pe+"]");te.set(O,xe);var mt=u();mt.set(T,te),S(Qe,A(Je,Ye,F,P,N,K,F==="comma"&&k&&v(oe)?null:$,j,le,re,W,G,V,k,ie,mt))}}return Qe};a.exports=function(A,O){var U,F=A,P=function(k){if(!k)return E;if(k.encoder!==null&&k.encoder!==void 0&&typeof k.encoder!="function")throw new TypeError("Encoder has to be a function.");var ie=k.charset||E.charset;if(k.charset!==void 0&&k.charset!=="utf-8"&&k.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var te=f.default;if(k.format!==void 0){if(!p.call(f.formatters,k.format))throw new TypeError("Unknown format option provided.");te=k.format}var se=f.formatters[te],oe=E.filter;return(typeof k.filter=="function"||v(k.filter))&&(oe=k.filter),{addQueryPrefix:typeof k.addQueryPrefix=="boolean"?k.addQueryPrefix:E.addQueryPrefix,allowDots:k.allowDots===void 0?E.allowDots:!!k.allowDots,charset:ie,charsetSentinel:typeof k.charsetSentinel=="boolean"?k.charsetSentinel:E.charsetSentinel,delimiter:k.delimiter===void 0?E.delimiter:k.delimiter,encode:typeof k.encode=="boolean"?k.encode:E.encode,encoder:typeof k.encoder=="function"?k.encoder:E.encoder,encodeValuesOnly:typeof k.encodeValuesOnly=="boolean"?k.encodeValuesOnly:E.encodeValuesOnly,filter:oe,format:te,formatter:se,serializeDate:typeof k.serializeDate=="function"?k.serializeDate:E.serializeDate,skipNulls:typeof k.skipNulls=="boolean"?k.skipNulls:E.skipNulls,sort:typeof k.sort=="function"?k.sort:null,strictNullHandling:typeof k.strictNullHandling=="boolean"?k.strictNullHandling:E.strictNullHandling}}(O);typeof P.filter=="function"?F=(0,P.filter)("",F):v(P.filter)&&(U=P.filter);var N,K=[];if(typeof F!="object"||F===null)return"";N=O&&O.arrayFormat in g?O.arrayFormat:O&&"indices"in O?O.indices?"indices":"repeat":"indices";var $=g[N];if(O&&"commaRoundTrip"in O&&typeof O.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var j=$==="comma"&&O&&O.commaRoundTrip;U||(U=Object.keys(F)),P.sort&&U.sort(P.sort);for(var le=u(),re=0;re<U.length;++re){var W=U[re];P.skipNulls&&F[W]===null||S(K,L(F[W],W,$,j,P.strictNullHandling,P.skipNulls,P.encode?P.encoder:null,P.filter,P.sort,P.allowDots,P.serializeDate,P.format,P.formatter,P.encodeValuesOnly,P.charset,le))}var G=K.join(P.delimiter),V=P.addQueryPrefix===!0?"?":"";return P.charsetSentinel&&(P.charset==="iso-8859-1"?V+="utf8=%26%2310003%3B&":V+="utf8=%E2%9C%93&"),G.length>0?V+G:""}},4285:function(a,l,o){var u=o(1020),c=Object.prototype.hasOwnProperty,f=Array.isArray,p=function(){for(var v=[],x=0;x<256;++x)v.push("%"+((x<16?"0":"")+x.toString(16)).toUpperCase());return v}(),g=function(v,x){for(var S=x&&x.plainObjects?Object.create(null):{},_=0;_<v.length;++_)v[_]!==void 0&&(S[_]=v[_]);return S};a.exports={arrayToObject:g,assign:function(v,x){return Object.keys(x).reduce(function(S,_){return S[_]=x[_],S},v)},combine:function(v,x){return[].concat(v,x)},compact:function(v){for(var x=[{obj:{o:v},prop:"o"}],S=[],_=0;_<x.length;++_)for(var w=x[_],E=w.obj[w.prop],T=Object.keys(E),L=0;L<T.length;++L){var A=T[L],O=E[A];typeof O=="object"&&O!==null&&S.indexOf(O)===-1&&(x.push({obj:E,prop:A}),S.push(O))}return function(U){for(;U.length>1;){var F=U.pop(),P=F.obj[F.prop];if(f(P)){for(var N=[],K=0;K<P.length;++K)P[K]!==void 0&&N.push(P[K]);F.obj[F.prop]=N}}}(x),v},decode:function(v,x,S){var _=v.replace(/\+/g," ");if(S==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},encode:function(v,x,S,_,w){if(v.length===0)return v;var E=v;if(typeof v=="symbol"?E=Symbol.prototype.toString.call(v):typeof v!="string"&&(E=String(v)),S==="iso-8859-1")return escape(E).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var T="",L=0;L<E.length;++L){var A=E.charCodeAt(L);A===45||A===46||A===95||A===126||A>=48&&A<=57||A>=65&&A<=90||A>=97&&A<=122||w===u.RFC1738&&(A===40||A===41)?T+=E.charAt(L):A<128?T+=p[A]:A<2048?T+=p[192|A>>6]+p[128|63&A]:A<55296||A>=57344?T+=p[224|A>>12]+p[128|A>>6&63]+p[128|63&A]:(L+=1,A=65536+((1023&A)<<10|1023&E.charCodeAt(L)),T+=p[240|A>>18]+p[128|A>>12&63]+p[128|A>>6&63]+p[128|63&A])}return T},isBuffer:function(v){return!(!v||typeof v!="object"||!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v)))},isRegExp:function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},maybeMap:function(v,x){if(f(v)){for(var S=[],_=0;_<v.length;_+=1)S.push(x(v[_]));return S}return x(v)},merge:function v(x,S,_){if(!S)return x;if(typeof S!="object"){if(f(x))x.push(S);else{if(!x||typeof x!="object")return[x,S];(_&&(_.plainObjects||_.allowPrototypes)||!c.call(Object.prototype,S))&&(x[S]=!0)}return x}if(!x||typeof x!="object")return[x].concat(S);var w=x;return f(x)&&!f(S)&&(w=g(x,_)),f(x)&&f(S)?(S.forEach(function(E,T){if(c.call(x,T)){var L=x[T];L&&typeof L=="object"&&E&&typeof E=="object"?x[T]=v(L,E,_):x.push(E)}else x[T]=E}),x):Object.keys(S).reduce(function(E,T){var L=S[T];return c.call(E,T)?E[T]=v(E[T],L,_):E[T]=L,E},w)}}},9381:function(a,l,o){var u=o(6900)(),c=o(8897),f=u&&c("%Object.defineProperty%",!0);if(f)try{f({},"a",{value:1})}catch{f=!1}var p=c("%SyntaxError%"),g=c("%TypeError%"),v=o(1399);a.exports=function(x,S,_){if(!x||typeof x!="object"&&typeof x!="function")throw new g("`obj` must be an object or a function`");if(typeof S!="string"&&typeof S!="symbol")throw new g("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new g("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new g("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new g("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new g("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,E=arguments.length>4?arguments[4]:null,T=arguments.length>5?arguments[5]:null,L=arguments.length>6&&arguments[6],A=!!v&&v(x,S);if(f)f(x,S,{configurable:T===null&&A?A.configurable:!T,enumerable:w===null&&A?A.enumerable:!w,value:_,writable:E===null&&A?A.writable:!E});else{if(!L&&(w||E||T))throw new p("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");x[S]=_}}},792:function(a,l,o){a.exports=function(){var u=Function.prototype.toString,c=Object.create,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,S=Object.prototype,_=S.hasOwnProperty,w=S.propertyIsEnumerable,E=typeof v=="function",T=typeof WeakMap=="function",L=function(){if(T)return function(){return new WeakMap};var $=function(){function j(){this._keys=[],this._values=[]}return j.prototype.has=function(le){return!!~this._keys.indexOf(le)},j.prototype.get=function(le){return this._values[this._keys.indexOf(le)]},j.prototype.set=function(le,re){this._keys.push(le),this._values.push(re)},j}();return function(){return new $}}(),A=function($,j){var le=$.__proto__||x($);if(!le)return c(null);var re=le.constructor;if(re===j.Object)return le===j.Object.prototype?{}:c(le);if(~u.call(re).indexOf("[native code]"))try{return new re}catch{}return c(le)},O=function($,j,le,re){var W=A($,j);for(var G in re.set($,W),$)_.call($,G)&&(W[G]=le($[G],re));if(E)for(var V=v($),k=0,ie=V.length,te=void 0;k<ie;++k)te=V[k],w.call($,te)&&(W[te]=le($[te],re));return W},U=function($,j,le,re){var W=A($,j);re.set($,W);for(var G=E?g($).concat(v($)):g($),V=0,k=G.length,ie=void 0,te=void 0;V<k;++V)if((ie=G[V])!=="callee"&&ie!=="caller")if(te=p($,ie)){te.get||te.set||(te.value=le($[ie],re));try{f(W,ie,te)}catch{W[ie]=te.value}}else W[ie]=le($[ie],re);return W},F=Array.isArray,P=Object.getPrototypeOf,N=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:o.g!==void 0?o.g:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function K($,j){var le=!(!j||!j.isStrict),re=j&&j.realm||N,W=le?U:O,G=function(V,k){if(!V||typeof V!="object")return V;if(k.has(V))return k.get(V);var ie,te,se,oe=V.__proto__||P(V),ve=oe&&oe.constructor;if(!ve||ve===re.Object)return W(V,re,G,k);if(F(V)){if(le)return U(V,re,G,k);ie=new ve,k.set(V,ie);for(var xe=0,he=V.length;xe<he;++xe)ie[xe]=G(V[xe],k);return ie}if(V instanceof re.Date)return new ve(V.getTime());if(V instanceof re.RegExp)return(ie=new ve(V.source,V.flags||(te=V,se="",te.global&&(se+="g"),te.ignoreCase&&(se+="i"),te.multiline&&(se+="m"),te.unicode&&(se+="u"),te.sticky&&(se+="y"),se))).lastIndex=V.lastIndex,ie;if(re.Map&&V instanceof re.Map)return ie=new ve,k.set(V,ie),V.forEach(function(Ue,ke){ie.set(ke,G(Ue,k))}),ie;if(re.Set&&V instanceof re.Set)return ie=new ve,k.set(V,ie),V.forEach(function(Ue){ie.add(G(Ue,k))}),ie;if(re.Blob&&V instanceof re.Blob)return V.slice(0,V.size,V.type);if(re.Buffer&&re.Buffer.isBuffer(V))return ie=re.Buffer.allocUnsafe?re.Buffer.allocUnsafe(V.length):new ve(V.length),k.set(V,ie),V.copy(ie),ie;if(re.ArrayBuffer){if(re.ArrayBuffer.isView(V))return ie=new ve(V.buffer.slice(0)),k.set(V,ie),ie;if(V instanceof re.ArrayBuffer)return ie=V.slice(0),k.set(V,ie),ie}return typeof V.then=="function"||V instanceof Error||re.WeakMap&&V instanceof re.WeakMap||re.WeakSet&&V instanceof re.WeakSet?V:W(V,re,G,k)};return G($,L())}return K.default=K,K.strict=function($,j){return K($,{isStrict:!0,realm:j?j.realm:void 0})},K}()},5845:function(a){var l=Object.prototype.toString,o=Math.max,u=function(c,f){for(var p=[],g=0;g<c.length;g+=1)p[g]=c[g];for(var v=0;v<f.length;v+=1)p[v+c.length]=f[v];return p};a.exports=function(c){var f=this;if(typeof f!="function"||l.apply(f)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var p,g=function(w,E){for(var T=[],L=1,A=0;L<w.length;L+=1,A+=1)T[A]=w[L];return T}(arguments),v=o(0,f.length-g.length),x=[],S=0;S<v;S++)x[S]="$"+S;if(p=Function("binder","return function ("+function(w,E){for(var T="",L=0;L<w.length;L+=1)T+=w[L],L+1<w.length&&(T+=",");return T}(x)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof p){var w=f.apply(this,u(g,arguments));return Object(w)===w?w:this}return f.apply(c,u(g,arguments))}),f.prototype){var _=function(){};_.prototype=f.prototype,p.prototype=new _,_.prototype=null}return p}},4499:function(a,l,o){var u=o(5845);a.exports=Function.prototype.bind||u},8897:function(a,l,o){var u,c=SyntaxError,f=Function,p=TypeError,g=function(k){try{return f('"use strict"; return ('+k+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var x=function(){throw new p},S=v?function(){try{return x}catch{try{return v(arguments,"callee").get}catch{return x}}}():x,_=o(4923)(),w=o(9372)(),E=Object.getPrototypeOf||(w?function(k){return k.__proto__}:null),T={},L=typeof Uint8Array<"u"&&E?E(Uint8Array):u,A={"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":_&&E?E([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?u:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?u:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&E?E(E([][Symbol.iterator]())):u,"%JSON%":typeof JSON=="object"?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map<"u"&&_&&E?E(new Map()[Symbol.iterator]()):u,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set<"u"&&_&&E?E(new Set()[Symbol.iterator]()):u,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&E?E(""[Symbol.iterator]()):u,"%Symbol%":_?Symbol:u,"%SyntaxError%":c,"%ThrowTypeError%":S,"%TypedArray%":L,"%TypeError%":p,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet};if(E)try{null.error}catch(k){var O=E(E(k));A["%Error.prototype%"]=O}var U=function k(ie){var te;if(ie==="%AsyncFunction%")te=g("async function () {}");else if(ie==="%GeneratorFunction%")te=g("function* () {}");else if(ie==="%AsyncGeneratorFunction%")te=g("async function* () {}");else if(ie==="%AsyncGenerator%"){var se=k("%AsyncGeneratorFunction%");se&&(te=se.prototype)}else if(ie==="%AsyncIteratorPrototype%"){var oe=k("%AsyncGenerator%");oe&&E&&(te=E(oe.prototype))}return A[ie]=te,te},F={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=o(4499),N=o(4313),K=P.call(Function.call,Array.prototype.concat),$=P.call(Function.apply,Array.prototype.splice),j=P.call(Function.call,String.prototype.replace),le=P.call(Function.call,String.prototype.slice),re=P.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,V=function(k,ie){var te,se=k;if(N(F,se)&&(se="%"+(te=F[se])[0]+"%"),N(A,se)){var oe=A[se];if(oe===T&&(oe=U(se)),oe===void 0&&!ie)throw new p("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:te,name:se,value:oe}}throw new c("intrinsic "+k+" does not exist!")};a.exports=function(k,ie){if(typeof k!="string"||k.length===0)throw new p("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ie!="boolean")throw new p('"allowMissing" argument must be a boolean');if(re(/^%?[^%]*%?$/,k)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var te=function(Je){var Ye=le(Je,0,1),mt=le(Je,-1);if(Ye==="%"&&mt!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(mt==="%"&&Ye!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var gt=[];return j(Je,W,function(ne,Y,Ie,st){gt[gt.length]=Ie?j(st,G,"$1"):Y||ne}),gt}(k),se=te.length>0?te[0]:"",oe=V("%"+se+"%",ie),ve=oe.name,xe=oe.value,he=!1,Ue=oe.alias;Ue&&(se=Ue[0],$(te,K([0,1],Ue)));for(var ke=1,Qe=!0;ke<te.length;ke+=1){var Le=te[ke],Q=le(Le,0,1),He=le(Le,-1);if((Q==='"'||Q==="'"||Q==="`"||He==='"'||He==="'"||He==="`")&&Q!==He)throw new c("property names with quotes must have matching quotes");if(Le!=="constructor"&&Qe||(he=!0),N(A,ve="%"+(se+="."+Le)+"%"))xe=A[ve];else if(xe!=null){if(!(Le in xe)){if(!ie)throw new p("base intrinsic for "+k+" exists, but the property is not available.");return}if(v&&ke+1>=te.length){var Pe=v(xe,Le);xe=(Qe=!!Pe)&&"get"in Pe&&!("originalValue"in Pe.get)?Pe.get:xe[Le]}else Qe=N(xe,Le),xe=xe[Le];Qe&&!he&&(A[ve]=xe)}}return xe}},1399:function(a,l,o){var u=o(8897)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}a.exports=u},6900:function(a,l,o){var u=o(8897)("%Object.defineProperty%",!0),c=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};c.hasArrayLengthDefineBug=function(){if(!c())return null;try{return u([],"length",{value:1}).length!==1}catch{return!0}},a.exports=c},9372:function(a){var l={foo:{}},o=Object;a.exports=function(){return{__proto__:l}.foo===l.foo&&!({__proto__:null}instanceof o)}},4923:function(a,l,o){var u=typeof Symbol<"u"&&Symbol,c=o(4361);a.exports=function(){return typeof u=="function"&&typeof Symbol=="function"&&typeof u("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&c()}},4361:function(a){a.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var l={},o=Symbol("test"),u=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;for(o in l[o]=42,l)return!1;if(typeof Object.keys=="function"&&Object.keys(l).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(l).length!==0)return!1;var c=Object.getOwnPropertySymbols(l);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(l,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(l,o);if(f.value!==42||f.enumerable!==!0)return!1}return!0}},4313:function(a,l,o){var u=Function.prototype.call,c=Object.prototype.hasOwnProperty,f=o(4499);a.exports=f.call(u,c)},9078:function(a,l){function o(u,c){var f=[],p=[];return c==null&&(c=function(g,v){return f[0]===v?"[Circular ~]":"[Circular ~."+p.slice(0,f.indexOf(v)).join(".")+"]"}),function(g,v){if(f.length>0){var x=f.indexOf(this);~x?f.splice(x+1):f.push(this),~x?p.splice(x,1/0,g):p.push(g),~f.indexOf(v)&&(v=c.call(this,g,v))}else f.push(v);return u==null?v:u.call(this,g,v)}}(a.exports=function(u,c,f,p){return JSON.stringify(u,o(c,p),f)}).getSerialize=o},7501:function(a){var l,o,u=Function.prototype,c=Object.prototype,f=u.toString,p=c.hasOwnProperty,g=f.call(Object),v=c.toString,x=(l=Object.getPrototypeOf,o=Object,function(S){return l(o(S))});a.exports=function(S){if(!function(E){return!!E&&typeof E=="object"}(S)||v.call(S)!="[object Object]"||function(E){var T=!1;if(E!=null&&typeof E.toString!="function")try{T=!!(E+"")}catch{}return T}(S))return!1;var _=x(S);if(_===null)return!0;var w=p.call(_,"constructor")&&_.constructor;return typeof w=="function"&&w instanceof w&&f.call(w)==g}},567:function(a){var l=Object.prototype.toString,o=Array.isArray;a.exports=function(u){return typeof u=="string"||!o(u)&&function(c){return!!c&&typeof c=="object"}(u)&&l.call(u)=="[object String]"}},8527:function(a,l,o){var u=typeof Map=="function"&&Map.prototype,c=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f=u&&c&&typeof c.get=="function"?c.get:null,p=u&&Map.prototype.forEach,g=typeof Set=="function"&&Set.prototype,v=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=g&&v&&typeof v.get=="function"?v.get:null,S=g&&Set.prototype.forEach,_=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,w=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,E=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,L=Object.prototype.toString,A=Function.prototype.toString,O=String.prototype.match,U=String.prototype.slice,F=String.prototype.replace,P=String.prototype.toUpperCase,N=String.prototype.toLowerCase,K=RegExp.prototype.test,$=Array.prototype.concat,j=Array.prototype.join,le=Array.prototype.slice,re=Math.floor,W=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,k=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ie=typeof Symbol=="function"&&Symbol.toStringTag?Symbol.toStringTag:null,te=Object.prototype.propertyIsEnumerable,se=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(be){return be.__proto__}:null);function oe(be,pe){if(be===1/0||be===-1/0||be!=be||be&&be>-1e3&&be<1e3||K.call(/e/,pe))return pe;var Ge=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof be=="number"){var Fe=be<0?-re(-be):re(be);if(Fe!==be){var nt=String(Fe),Ce=U.call(pe,nt.length+1);return F.call(nt,Ge,"$&_")+"."+F.call(F.call(Ce,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(pe,Ge,"$&_")}var ve=o(3966),xe=ve.custom,he=Q(xe)?xe:null;function Ue(be,pe,Ge){var Fe=(Ge.quoteStyle||pe)==="double"?'"':"'";return Fe+be+Fe}function ke(be){return F.call(String(be),/"/g,"&quot;")}function Qe(be){return!(Je(be)!=="[object Array]"||ie&&typeof be=="object"&&ie in be)}function Le(be){return!(Je(be)!=="[object RegExp]"||ie&&typeof be=="object"&&ie in be)}function Q(be){if(k)return be&&typeof be=="object"&&be instanceof Symbol;if(typeof be=="symbol")return!0;if(!be||typeof be!="object"||!V)return!1;try{return V.call(be),!0}catch{}return!1}a.exports=function be(pe,Ge,Fe,nt){var Ce=Ge||{};if(Pe(Ce,"quoteStyle")&&Ce.quoteStyle!=="single"&&Ce.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Pe(Ce,"maxStringLength")&&(typeof Ce.maxStringLength=="number"?Ce.maxStringLength<0&&Ce.maxStringLength!==1/0:Ce.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var De=!Pe(Ce,"customInspect")||Ce.customInspect;if(typeof De!="boolean"&&De!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Pe(Ce,"indent")&&Ce.indent!==null&&Ce.indent!=="	"&&!(parseInt(Ce.indent,10)===Ce.indent&&Ce.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Pe(Ce,"numericSeparator")&&typeof Ce.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ut=Ce.numericSeparator;if(pe===void 0)return"undefined";if(pe===null)return"null";if(typeof pe=="boolean")return pe?"true":"false";if(typeof pe=="string")return mt(pe,Ce);if(typeof pe=="number"){if(pe===0)return 1/0/pe>0?"0":"-0";var Bt=String(pe);return Ut?oe(pe,Bt):Bt}if(typeof pe=="bigint"){var Ct=String(pe)+"n";return Ut?oe(pe,Ct):Ct}var wt=Ce.depth===void 0?5:Ce.depth;if(Fe===void 0&&(Fe=0),Fe>=wt&&wt>0&&typeof pe=="object")return Qe(pe)?"[Array]":"[Object]";var ut,It=function(_e,je){var lt;if(_e.indent==="	")lt="	";else{if(!(typeof _e.indent=="number"&&_e.indent>0))return null;lt=j.call(Array(_e.indent+1)," ")}return{base:lt,prev:j.call(Array(je+1),lt)}}(Ce,Fe);if(nt===void 0)nt=[];else if(Ye(nt,pe)>=0)return"[Circular]";function Kt(_e,je,lt){if(je&&(nt=le.call(nt)).push(je),lt){var Nt={depth:Ce.depth};return Pe(Ce,"quoteStyle")&&(Nt.quoteStyle=Ce.quoteStyle),be(_e,Nt,Fe+1,nt)}return be(_e,Ce,Fe+1,nt)}if(typeof pe=="function"&&!Le(pe)){var Mn=function(_e){if(_e.name)return _e.name;var je=O.call(A.call(_e),/^function\s*([\w$]+)/);return je?je[1]:null}(pe),Tt=ot(pe,Kt);return"[Function"+(Mn?": "+Mn:" (anonymous)")+"]"+(Tt.length>0?" { "+j.call(Tt,", ")+" }":"")}if(Q(pe)){var Rt=k?F.call(String(pe),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(pe);return typeof pe!="object"||k?Rt:ne(Rt)}if((ut=pe)&&typeof ut=="object"&&(typeof HTMLElement<"u"&&ut instanceof HTMLElement||typeof ut.nodeName=="string"&&typeof ut.getAttribute=="function")){for(var ce="<"+N.call(String(pe.nodeName)),Re=pe.attributes||[],We=0;We<Re.length;We++)ce+=" "+Re[We].name+"="+Ue(ke(Re[We].value),"double",Ce);return ce+=">",pe.childNodes&&pe.childNodes.length&&(ce+="..."),ce+"</"+N.call(String(pe.nodeName))+">"}if(Qe(pe)){if(pe.length===0)return"[]";var dt=ot(pe,Kt);return It&&!function(_e){for(var je=0;je<_e.length;je++)if(Ye(_e[je],`
`)>=0)return!1;return!0}(dt)?"["+st(dt,It)+"]":"[ "+j.call(dt,", ")+" ]"}if(function(_e){return!(Je(_e)!=="[object Error]"||ie&&typeof _e=="object"&&ie in _e)}(pe)){var St=ot(pe,Kt);return"cause"in Error.prototype||!("cause"in pe)||te.call(pe,"cause")?St.length===0?"["+String(pe)+"]":"{ ["+String(pe)+"] "+j.call(St,", ")+" }":"{ ["+String(pe)+"] "+j.call($.call("[cause]: "+Kt(pe.cause),St),", ")+" }"}if(typeof pe=="object"&&De){if(he&&typeof pe[he]=="function"&&ve)return ve(pe,{depth:wt-Fe});if(De!=="symbol"&&typeof pe.inspect=="function")return pe.inspect()}if(function(_e){if(!f||!_e||typeof _e!="object")return!1;try{f.call(_e);try{x.call(_e)}catch{return!0}return _e instanceof Map}catch{}return!1}(pe)){var Gt=[];return p&&p.call(pe,function(_e,je){Gt.push(Kt(je,pe,!0)+" => "+Kt(_e,pe))}),Ie("Map",f.call(pe),Gt,It)}if(function(_e){if(!x||!_e||typeof _e!="object")return!1;try{x.call(_e);try{f.call(_e)}catch{return!0}return _e instanceof Set}catch{}return!1}(pe)){var Qt=[];return S&&S.call(pe,function(_e){Qt.push(Kt(_e,pe))}),Ie("Set",x.call(pe),Qt,It)}if(function(_e){if(!_||!_e||typeof _e!="object")return!1;try{_.call(_e,_);try{w.call(_e,w)}catch{return!0}return _e instanceof WeakMap}catch{}return!1}(pe))return Y("WeakMap");if(function(_e){if(!w||!_e||typeof _e!="object")return!1;try{w.call(_e,w);try{_.call(_e,_)}catch{return!0}return _e instanceof WeakSet}catch{}return!1}(pe))return Y("WeakSet");if(function(_e){if(!E||!_e||typeof _e!="object")return!1;try{return E.call(_e),!0}catch{}return!1}(pe))return Y("WeakRef");if(function(_e){return!(Je(_e)!=="[object Number]"||ie&&typeof _e=="object"&&ie in _e)}(pe))return ne(Kt(Number(pe)));if(function(_e){if(!_e||typeof _e!="object"||!W)return!1;try{return W.call(_e),!0}catch{}return!1}(pe))return ne(Kt(W.call(pe)));if(function(_e){return!(Je(_e)!=="[object Boolean]"||ie&&typeof _e=="object"&&ie in _e)}(pe))return ne(T.call(pe));if(function(_e){return!(Je(_e)!=="[object String]"||ie&&typeof _e=="object"&&ie in _e)}(pe))return ne(Kt(String(pe)));if(typeof window<"u"&&pe===window)return"{ [object Window] }";if(pe===o.g)return"{ [object globalThis] }";if(!function(_e){return!(Je(_e)!=="[object Date]"||ie&&typeof _e=="object"&&ie in _e)}(pe)&&!Le(pe)){var En=ot(pe,Kt),Nn=se?se(pe)===Object.prototype:pe instanceof Object||pe.constructor===Object,Tn=pe instanceof Object?"":"null prototype",lr=!Nn&&ie&&Object(pe)===pe&&ie in pe?U.call(Je(pe),8,-1):Tn?"Object":"",Te=(Nn||typeof pe.constructor!="function"?"":pe.constructor.name?pe.constructor.name+" ":"")+(lr||Tn?"["+j.call($.call([],lr||[],Tn||[]),": ")+"] ":"");return En.length===0?Te+"{}":It?Te+"{"+st(En,It)+"}":Te+"{ "+j.call(En,", ")+" }"}return String(pe)};var He=Object.prototype.hasOwnProperty||function(be){return be in this};function Pe(be,pe){return He.call(be,pe)}function Je(be){return L.call(be)}function Ye(be,pe){if(be.indexOf)return be.indexOf(pe);for(var Ge=0,Fe=be.length;Ge<Fe;Ge++)if(be[Ge]===pe)return Ge;return-1}function mt(be,pe){if(be.length>pe.maxStringLength){var Ge=be.length-pe.maxStringLength,Fe="... "+Ge+" more character"+(Ge>1?"s":"");return mt(U.call(be,0,pe.maxStringLength),pe)+Fe}return Ue(F.call(F.call(be,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,gt),"single",pe)}function gt(be){var pe=be.charCodeAt(0),Ge={8:"b",9:"t",10:"n",12:"f",13:"r"}[pe];return Ge?"\\"+Ge:"\\x"+(pe<16?"0":"")+P.call(pe.toString(16))}function ne(be){return"Object("+be+")"}function Y(be){return be+" { ? }"}function Ie(be,pe,Ge,Fe){return be+" ("+pe+") {"+(Fe?st(Ge,Fe):j.call(Ge,", "))+"}"}function st(be,pe){if(be.length===0)return"";var Ge=`
`+pe.prev+pe.base;return Ge+j.call(be,","+Ge)+`
`+pe.prev}function ot(be,pe){var Ge=Qe(be),Fe=[];if(Ge){Fe.length=be.length;for(var nt=0;nt<be.length;nt++)Fe[nt]=Pe(be,nt)?pe(be[nt],be):""}var Ce,De=typeof G=="function"?G(be):[];if(k){Ce={};for(var Ut=0;Ut<De.length;Ut++)Ce["$"+De[Ut]]=De[Ut]}for(var Bt in be)Pe(be,Bt)&&(Ge&&String(Number(Bt))===Bt&&Bt<be.length||k&&Ce["$"+Bt]instanceof Symbol||(K.call(/[^\w$]/,Bt)?Fe.push(pe(Bt,be)+": "+pe(be[Bt],be)):Fe.push(Bt+": "+pe(be[Bt],be))));if(typeof G=="function")for(var Ct=0;Ct<De.length;Ct++)te.call(be,De[Ct])&&Fe.push("["+pe(De[Ct])+"]: "+pe(be[De[Ct]],be));return Fe}},1370:function(a){class l extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}a.exports=({limit:o,interval:u,strict:c})=>{if(!Number.isFinite(o))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(u))throw new TypeError("Expected `interval` to be a finite number");const f=new Map;let p=0,g=0;const v=[],x=c?function(){const S=Date.now();if(v.length<o)return v.push(S),0;const _=v.shift()+u;return S>=_?(v.push(S),0):(v.push(_),_-S)}:function(){const S=Date.now();return S-p>u?(g=1,p=S,0):(g<o?g++:(p+=u,g=1),p-S)};return S=>{const _=function(...w){if(!_.isEnabled)return(async()=>S.apply(this,w))();let E;return new Promise((T,L)=>{E=setTimeout(()=>{T(S.apply(this,w)),f.delete(E)},x()),f.set(E,L)})};return _.abort=()=>{for(const w of f.keys())clearTimeout(w),f.get(w)(new l);f.clear(),v.splice(0,v.length)},_.isEnabled=!0,_}},a.exports.AbortError=l},3960:function(a){(function(l){var o,u=Object.prototype,c=u.hasOwnProperty,f=typeof Symbol=="function"?Symbol:{},p=f.iterator||"@@iterator",g=f.asyncIterator||"@@asyncIterator",v=f.toStringTag||"@@toStringTag",x=l.regeneratorRuntime;if(x)a.exports=x;else{(x=l.regeneratorRuntime=a.exports).wrap=F;var S="suspendedStart",_="suspendedYield",w="executing",E="completed",T={},L={};L[p]=function(){return this};var A=Object.getPrototypeOf,O=A&&A(A(k([])));O&&O!==u&&c.call(O,p)&&(L=O);var U=$.prototype=N.prototype=Object.create(L);K.prototype=U.constructor=$,$.constructor=K,$[v]=K.displayName="GeneratorFunction",x.isGeneratorFunction=function(te){var se=typeof te=="function"&&te.constructor;return!!se&&(se===K||(se.displayName||se.name)==="GeneratorFunction")},x.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,$):(te.__proto__=$,v in te||(te[v]="GeneratorFunction")),te.prototype=Object.create(U),te},x.awrap=function(te){return{__await:te}},j(le.prototype),le.prototype[g]=function(){return this},x.AsyncIterator=le,x.async=function(te,se,oe,ve){var xe=new le(F(te,se,oe,ve));return x.isGeneratorFunction(se)?xe:xe.next().then(function(he){return he.done?he.value:xe.next()})},j(U),U[v]="Generator",U[p]=function(){return this},U.toString=function(){return"[object Generator]"},x.keys=function(te){var se=[];for(var oe in te)se.push(oe);return se.reverse(),function ve(){for(;se.length;){var xe=se.pop();if(xe in te)return ve.value=xe,ve.done=!1,ve}return ve.done=!0,ve}},x.values=k,V.prototype={constructor:V,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(G),!te)for(var se in this)se.charAt(0)==="t"&&c.call(this,se)&&!isNaN(+se.slice(1))&&(this[se]=o)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var se=this;function oe(Qe,Le){return he.type="throw",he.arg=te,se.next=Qe,Le&&(se.method="next",se.arg=o),!!Le}for(var ve=this.tryEntries.length-1;ve>=0;--ve){var xe=this.tryEntries[ve],he=xe.completion;if(xe.tryLoc==="root")return oe("end");if(xe.tryLoc<=this.prev){var Ue=c.call(xe,"catchLoc"),ke=c.call(xe,"finallyLoc");if(Ue&&ke){if(this.prev<xe.catchLoc)return oe(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return oe(xe.finallyLoc)}else if(Ue){if(this.prev<xe.catchLoc)return oe(xe.catchLoc,!0)}else{if(!ke)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return oe(xe.finallyLoc)}}}},abrupt:function(te,se){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ve=this.tryEntries[oe];if(ve.tryLoc<=this.prev&&c.call(ve,"finallyLoc")&&this.prev<ve.finallyLoc){var xe=ve;break}}xe&&(te==="break"||te==="continue")&&xe.tryLoc<=se&&se<=xe.finallyLoc&&(xe=null);var he=xe?xe.completion:{};return he.type=te,he.arg=se,xe?(this.method="next",this.next=xe.finallyLoc,T):this.complete(he)},complete:function(te,se){if(te.type==="throw")throw te.arg;return te.type==="break"||te.type==="continue"?this.next=te.arg:te.type==="return"?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):te.type==="normal"&&se&&(this.next=se),T},finish:function(te){for(var se=this.tryEntries.length-1;se>=0;--se){var oe=this.tryEntries[se];if(oe.finallyLoc===te)return this.complete(oe.completion,oe.afterLoc),G(oe),T}},catch:function(te){for(var se=this.tryEntries.length-1;se>=0;--se){var oe=this.tryEntries[se];if(oe.tryLoc===te){var ve=oe.completion;if(ve.type==="throw"){var xe=ve.arg;G(oe)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(te,se,oe){return this.delegate={iterator:k(te),resultName:se,nextLoc:oe},this.method==="next"&&(this.arg=o),T}}}function F(te,se,oe,ve){var xe=se&&se.prototype instanceof N?se:N,he=Object.create(xe.prototype),Ue=new V(ve||[]);return he._invoke=function(ke,Qe,Le){var Q=S;return function(He,Pe){if(Q===w)throw new Error("Generator is already running");if(Q===E){if(He==="throw")throw Pe;return ie()}for(Le.method=He,Le.arg=Pe;;){var Je=Le.delegate;if(Je){var Ye=re(Je,Le);if(Ye){if(Ye===T)continue;return Ye}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(Q===S)throw Q=E,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);Q=w;var mt=P(ke,Qe,Le);if(mt.type==="normal"){if(Q=Le.done?E:_,mt.arg===T)continue;return{value:mt.arg,done:Le.done}}mt.type==="throw"&&(Q=E,Le.method="throw",Le.arg=mt.arg)}}}(te,oe,Ue),he}function P(te,se,oe){try{return{type:"normal",arg:te.call(se,oe)}}catch(ve){return{type:"throw",arg:ve}}}function N(){}function K(){}function $(){}function j(te){["next","throw","return"].forEach(function(se){te[se]=function(oe){return this._invoke(se,oe)}})}function le(te){function se(ve,xe,he,Ue){var ke=P(te[ve],te,xe);if(ke.type!=="throw"){var Qe=ke.arg,Le=Qe.value;return Le&&typeof Le=="object"&&c.call(Le,"__await")?Promise.resolve(Le.__await).then(function(Q){se("next",Q,he,Ue)},function(Q){se("throw",Q,he,Ue)}):Promise.resolve(Le).then(function(Q){Qe.value=Q,he(Qe)},Ue)}Ue(ke.arg)}var oe;this._invoke=function(ve,xe){function he(){return new Promise(function(Ue,ke){se(ve,xe,Ue,ke)})}return oe=oe?oe.then(he,he):he()}}function re(te,se){var oe=te.iterator[se.method];if(oe===o){if(se.delegate=null,se.method==="throw"){if(te.iterator.return&&(se.method="return",se.arg=o,re(te,se),se.method==="throw"))return T;se.method="throw",se.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var ve=P(oe,te.iterator,se.arg);if(ve.type==="throw")return se.method="throw",se.arg=ve.arg,se.delegate=null,T;var xe=ve.arg;return xe?xe.done?(se[te.resultName]=xe.value,se.next=te.nextLoc,se.method!=="return"&&(se.method="next",se.arg=o),se.delegate=null,T):xe:(se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,T)}function W(te){var se={tryLoc:te[0]};1 in te&&(se.catchLoc=te[1]),2 in te&&(se.finallyLoc=te[2],se.afterLoc=te[3]),this.tryEntries.push(se)}function G(te){var se=te.completion||{};se.type="normal",delete se.arg,te.completion=se}function V(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(W,this),this.reset(!0)}function k(te){if(te){var se=te[p];if(se)return se.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var oe=-1,ve=function xe(){for(;++oe<te.length;)if(c.call(te,oe))return xe.value=te[oe],xe.done=!1,xe;return xe.value=o,xe.done=!0,xe};return ve.next=ve}}return{next:ie}}function ie(){return{value:o,done:!0}}})(function(){return this}()||Function("return this")())},8973:function(a,l,o){var u=o(8897),c=o(9381),f=o(6900)(),p=o(1399),g=u("%TypeError%"),v=u("%Math.floor%");a.exports=function(x,S){if(typeof x!="function")throw new g("`fn` is not a function");if(typeof S!="number"||S<0||S>4294967295||v(S)!==S)throw new g("`length` must be a positive 32-bit integer");var _=arguments.length>2&&!!arguments[2],w=!0,E=!0;if("length"in x&&p){var T=p(x,"length");T&&!T.configurable&&(w=!1),T&&!T.writable&&(E=!1)}return(w||E||!_)&&(f?c(x,"length",S,!0,!0):c(x,"length",S)),x}},588:function(a,l,o){var u=o(8897),c=o(9343),f=o(8527),p=u("%TypeError%"),g=u("%WeakMap%",!0),v=u("%Map%",!0),x=c("WeakMap.prototype.get",!0),S=c("WeakMap.prototype.set",!0),_=c("WeakMap.prototype.has",!0),w=c("Map.prototype.get",!0),E=c("Map.prototype.set",!0),T=c("Map.prototype.has",!0),L=function(A,O){for(var U,F=A;(U=F.next)!==null;F=U)if(U.key===O)return F.next=U.next,U.next=A.next,A.next=U,U};a.exports=function(){var A,O,U,F={assert:function(P){if(!F.has(P))throw new p("Side channel does not contain "+f(P))},get:function(P){if(g&&P&&(typeof P=="object"||typeof P=="function")){if(A)return x(A,P)}else if(v){if(O)return w(O,P)}else if(U)return function(N,K){var $=L(N,K);return $&&$.value}(U,P)},has:function(P){if(g&&P&&(typeof P=="object"||typeof P=="function")){if(A)return _(A,P)}else if(v){if(O)return T(O,P)}else if(U)return function(N,K){return!!L(N,K)}(U,P);return!1},set:function(P,N){g&&P&&(typeof P=="object"||typeof P=="function")?(A||(A=new g),S(A,P,N)):v?(O||(O=new v),E(O,P,N)):(U||(U={key:{},next:null}),function(K,$,j){var le=L(K,$);le?le.value=j:K.next={key:$,next:K.next,value:j}}(U,P,N))}};return F}},3966:function(){},8120:function(a,l,o){var u=o(1483),c=o(8761),f=TypeError;a.exports=function(p){if(u(p))return p;throw new f(c(p)+" is not a function")}},2374:function(a,l,o){var u=o(943),c=o(8761),f=TypeError;a.exports=function(p){if(u(p))return p;throw new f(c(p)+" is not a constructor")}},3852:function(a,l,o){var u=o(735),c=String,f=TypeError;a.exports=function(p){if(u(p))return p;throw new f("Can't set "+c(p)+" as a prototype")}},7095:function(a,l,o){var u=o(1),c=o(5290),f=o(5835).f,p=u("unscopables"),g=Array.prototype;g[p]===void 0&&f(g,p,{configurable:!0,value:c(null)}),a.exports=function(v){g[p][v]=!0}},4419:function(a,l,o){var u=o(9105).charAt;a.exports=function(c,f,p){return f+(p?u(c,f).length:1)}},6021:function(a,l,o){var u=o(4815),c=TypeError;a.exports=function(f,p){if(u(p,f))return f;throw new c("Incorrect invocation")}},2293:function(a,l,o){var u=o(1704),c=String,f=TypeError;a.exports=function(p){if(u(p))return p;throw new f(c(p)+" is not an object")}},1345:function(a){a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7534:function(a,l,o){var u,c,f,p=o(1345),g=o(382),v=o(8389),x=o(1483),S=o(1704),_=o(5755),w=o(6145),E=o(8761),T=o(9037),L=o(7914),A=o(3864),O=o(4815),U=o(3181),F=o(1953),P=o(1),N=o(1866),K=o(4483),$=K.enforce,j=K.get,le=v.Int8Array,re=le&&le.prototype,W=v.Uint8ClampedArray,G=W&&W.prototype,V=le&&U(le),k=re&&U(re),ie=Object.prototype,te=v.TypeError,se=P("toStringTag"),oe=N("TYPED_ARRAY_TAG"),ve="TypedArrayConstructor",xe=p&&!!F&&w(v.opera)!=="Opera",he=!1,Ue={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ke={BigInt64Array:8,BigUint64Array:8},Qe=function(Q){var He=U(Q);if(S(He)){var Pe=j(He);return Pe&&_(Pe,ve)?Pe[ve]:Qe(He)}},Le=function(Q){if(!S(Q))return!1;var He=w(Q);return _(Ue,He)||_(ke,He)};for(u in Ue)(f=(c=v[u])&&c.prototype)?$(f)[ve]=c:xe=!1;for(u in ke)(f=(c=v[u])&&c.prototype)&&($(f)[ve]=c);if((!xe||!x(V)||V===Function.prototype)&&(V=function(){throw new te("Incorrect invocation")},xe))for(u in Ue)v[u]&&F(v[u],V);if((!xe||!k||k===ie)&&(k=V.prototype,xe))for(u in Ue)v[u]&&F(v[u].prototype,k);if(xe&&U(G)!==k&&F(G,k),g&&!_(k,se))for(u in he=!0,A(k,se,{configurable:!0,get:function(){return S(this)?this[oe]:void 0}}),Ue)v[u]&&T(v[u],oe,u);a.exports={NATIVE_ARRAY_BUFFER_VIEWS:xe,TYPED_ARRAY_TAG:he&&oe,aTypedArray:function(Q){if(Le(Q))return Q;throw new te("Target is not a typed array")},aTypedArrayConstructor:function(Q){if(x(Q)&&(!F||O(V,Q)))return Q;throw new te(E(Q)+" is not a typed array constructor")},exportTypedArrayMethod:function(Q,He,Pe,Je){if(g){if(Pe)for(var Ye in Ue){var mt=v[Ye];if(mt&&_(mt.prototype,Q))try{delete mt.prototype[Q]}catch{try{mt.prototype[Q]=He}catch{}}}k[Q]&&!Pe||L(k,Q,Pe?He:xe&&re[Q]||He,Je)}},exportTypedArrayStaticMethod:function(Q,He,Pe){var Je,Ye;if(g){if(F){if(Pe){for(Je in Ue)if((Ye=v[Je])&&_(Ye,Q))try{delete Ye[Q]}catch{}}if(V[Q]&&!Pe)return;try{return L(V,Q,Pe?He:xe&&V[Q]||He)}catch{}}for(Je in Ue)!(Ye=v[Je])||Ye[Q]&&!Pe||L(Ye,Q,He)}},getTypedArrayConstructor:Qe,isView:function(Q){if(!S(Q))return!1;var He=w(Q);return He==="DataView"||_(Ue,He)||_(ke,He)},isTypedArray:Le,TypedArray:V,TypedArrayPrototype:k}},9776:function(a,l,o){var u=o(8389),c=o(4762),f=o(382),p=o(1345),g=o(2048),v=o(9037),x=o(3864),S=o(2313),_=o(8473),w=o(6021),E=o(3005),T=o(8324),L=o(5238),A=o(7795),O=o(8752),U=o(3181),F=o(1953),P=o(8287),N=o(1698),K=o(2429),$=o(6726),j=o(2277),le=o(4483),re=g.PROPER,W=g.CONFIGURABLE,G="ArrayBuffer",V="DataView",k="prototype",ie="Wrong index",te=le.getterFor(G),se=le.getterFor(V),oe=le.set,ve=u[G],xe=ve,he=xe&&xe[k],Ue=u[V],ke=Ue&&Ue[k],Qe=Object.prototype,Le=u.Array,Q=u.RangeError,He=c(P),Pe=c([].reverse),Je=O.pack,Ye=O.unpack,mt=function(Ce){return[255&Ce]},gt=function(Ce){return[255&Ce,Ce>>8&255]},ne=function(Ce){return[255&Ce,Ce>>8&255,Ce>>16&255,Ce>>24&255]},Y=function(Ce){return Ce[3]<<24|Ce[2]<<16|Ce[1]<<8|Ce[0]},Ie=function(Ce){return Je(A(Ce),23,4)},st=function(Ce){return Je(Ce,52,8)},ot=function(Ce,De,Ut){x(Ce[k],De,{configurable:!0,get:function(){return Ut(this)[De]}})},be=function(Ce,De,Ut,Bt){var Ct=se(Ce),wt=L(Ut),ut=!!Bt;if(wt+De>Ct.byteLength)throw new Q(ie);var It=Ct.bytes,Kt=wt+Ct.byteOffset,Mn=N(It,Kt,Kt+De);return ut?Mn:Pe(Mn)},pe=function(Ce,De,Ut,Bt,Ct,wt){var ut=se(Ce),It=L(Ut),Kt=Bt(+Ct),Mn=!!wt;if(It+De>ut.byteLength)throw new Q(ie);for(var Tt=ut.bytes,Rt=It+ut.byteOffset,ce=0;ce<De;ce++)Tt[Rt+ce]=Kt[Mn?ce:De-ce-1]};if(p){var Ge=re&&ve.name!==G;_(function(){ve(1)})&&_(function(){new ve(-1)})&&!_(function(){return new ve,new ve(1.5),new ve(NaN),ve.length!==1||Ge&&!W})?Ge&&W&&v(ve,"name",G):((xe=function(Ce){return w(this,he),K(new ve(L(Ce)),this,xe)})[k]=he,he.constructor=xe,$(xe,ve)),F&&U(ke)!==Qe&&F(ke,Qe);var Fe=new Ue(new xe(2)),nt=c(ke.setInt8);Fe.setInt8(0,2147483648),Fe.setInt8(1,2147483649),!Fe.getInt8(0)&&Fe.getInt8(1)||S(ke,{setInt8:function(Ce,De){nt(this,Ce,De<<24>>24)},setUint8:function(Ce,De){nt(this,Ce,De<<24>>24)}},{unsafe:!0})}else he=(xe=function(Ce){w(this,he);var De=L(Ce);oe(this,{type:G,bytes:He(Le(De),0),byteLength:De}),f||(this.byteLength=De,this.detached=!1)})[k],ke=(Ue=function(Ce,De,Ut){w(this,ke),w(Ce,he);var Bt=te(Ce),Ct=Bt.byteLength,wt=E(De);if(wt<0||wt>Ct)throw new Q("Wrong offset");if(wt+(Ut=Ut===void 0?Ct-wt:T(Ut))>Ct)throw new Q("Wrong length");oe(this,{type:V,buffer:Ce,byteLength:Ut,byteOffset:wt,bytes:Bt.bytes}),f||(this.buffer=Ce,this.byteLength=Ut,this.byteOffset=wt)})[k],f&&(ot(xe,"byteLength",te),ot(Ue,"buffer",se),ot(Ue,"byteLength",se),ot(Ue,"byteOffset",se)),S(ke,{getInt8:function(Ce){return be(this,1,Ce)[0]<<24>>24},getUint8:function(Ce){return be(this,1,Ce)[0]},getInt16:function(Ce){var De=be(this,2,Ce,arguments.length>1&&arguments[1]);return(De[1]<<8|De[0])<<16>>16},getUint16:function(Ce){var De=be(this,2,Ce,arguments.length>1&&arguments[1]);return De[1]<<8|De[0]},getInt32:function(Ce){return Y(be(this,4,Ce,arguments.length>1&&arguments[1]))},getUint32:function(Ce){return Y(be(this,4,Ce,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(Ce){return Ye(be(this,4,Ce,arguments.length>1&&arguments[1]),23)},getFloat64:function(Ce){return Ye(be(this,8,Ce,arguments.length>1&&arguments[1]),52)},setInt8:function(Ce,De){pe(this,1,Ce,mt,De)},setUint8:function(Ce,De){pe(this,1,Ce,mt,De)},setInt16:function(Ce,De){pe(this,2,Ce,gt,De,arguments.length>2&&arguments[2])},setUint16:function(Ce,De){pe(this,2,Ce,gt,De,arguments.length>2&&arguments[2])},setInt32:function(Ce,De){pe(this,4,Ce,ne,De,arguments.length>2&&arguments[2])},setUint32:function(Ce,De){pe(this,4,Ce,ne,De,arguments.length>2&&arguments[2])},setFloat32:function(Ce,De){pe(this,4,Ce,Ie,De,arguments.length>2&&arguments[2])},setFloat64:function(Ce,De){pe(this,8,Ce,st,De,arguments.length>2&&arguments[2])}});j(xe,G),j(Ue,V),a.exports={ArrayBuffer:xe,DataView:Ue}},3695:function(a,l,o){var u=o(2347),c=o(3392),f=o(6960),p=o(6060),g=Math.min;a.exports=[].copyWithin||function(v,x){var S=u(this),_=f(S),w=c(v,_),E=c(x,_),T=arguments.length>2?arguments[2]:void 0,L=g((T===void 0?_:c(T,_))-E,_-w),A=1;for(E<w&&w<E+L&&(A=-1,E+=L-1,w+=L-1);L-- >0;)E in S?S[w]=S[E]:p(S,w),w+=A,E+=A;return S}},8287:function(a,l,o){var u=o(2347),c=o(3392),f=o(6960);a.exports=function(p){for(var g=u(this),v=f(g),x=arguments.length,S=c(x>1?arguments[1]:void 0,v),_=x>2?arguments[2]:void 0,w=_===void 0?v:c(_,v);w>S;)g[S++]=p;return g}},4793:function(a,l,o){var u=o(2867).forEach,c=o(3152)("forEach");a.exports=c?[].forEach:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}},8592:function(a,l,o){var u=o(6960);a.exports=function(c,f,p){for(var g=0,v=arguments.length>2?p:u(f),x=new c(v);v>g;)x[g]=f[g++];return x}},6142:function(a,l,o){var u=o(2914),c=o(1807),f=o(2347),p=o(1282),g=o(5299),v=o(943),x=o(6960),S=o(670),_=o(4887),w=o(6665),E=Array;a.exports=function(T){var L=f(T),A=v(this),O=arguments.length,U=O>1?arguments[1]:void 0,F=U!==void 0;F&&(U=u(U,O>2?arguments[2]:void 0));var P,N,K,$,j,le,re=w(L),W=0;if(!re||this===E&&g(re))for(P=x(L),N=A?new this(P):E(P);P>W;W++)le=F?U(L[W],W):L[W],S(N,W,le);else for(N=A?new this:[],j=($=_(L,re)).next;!(K=c(j,$)).done;W++)le=F?p($,U,[K.value,W],!0):K.value,S(N,W,le);return N.length=W,N}},6651:function(a,l,o){var u=o(5599),c=o(3392),f=o(6960),p=function(g){return function(v,x,S){var _=u(v),w=f(_);if(w===0)return!g&&-1;var E,T=c(S,w);if(g&&x!=x){for(;w>T;)if((E=_[T++])!=E)return!0}else for(;w>T;T++)if((g||T in _)&&_[T]===x)return g||T||0;return!g&&-1}};a.exports={includes:p(!0),indexOf:p(!1)}},2867:function(a,l,o){var u=o(2914),c=o(4762),f=o(2121),p=o(2347),g=o(6960),v=o(4551),x=c([].push),S=function(_){var w=_===1,E=_===2,T=_===3,L=_===4,A=_===6,O=_===7,U=_===5||A;return function(F,P,N,K){for(var $,j,le=p(F),re=f(le),W=g(re),G=u(P,N),V=0,k=K||v,ie=w?k(F,W):E||O?k(F,0):void 0;W>V;V++)if((U||V in re)&&(j=G($=re[V],V,le),_))if(w)ie[V]=j;else if(j)switch(_){case 3:return!0;case 5:return $;case 6:return V;case 2:x(ie,$)}else switch(_){case 4:return!1;case 7:x(ie,$)}return A?-1:T||L?L:ie}};a.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},8901:function(a,l,o){var u=o(3067),c=o(5599),f=o(3005),p=o(6960),g=o(3152),v=Math.min,x=[].lastIndexOf,S=!!x&&1/[1].lastIndexOf(1,-0)<0,_=g("lastIndexOf"),w=S||!_;a.exports=w?function(E){if(S)return u(x,this,arguments)||0;var T=c(this),L=p(T);if(L===0)return-1;var A=L-1;for(arguments.length>1&&(A=v(A,f(arguments[1]))),A<0&&(A=L+A);A>=0;A--)if(A in T&&T[A]===E)return A||0;return-1}:x},4595:function(a,l,o){var u=o(8473),c=o(1),f=o(6170),p=c("species");a.exports=function(g){return f>=51||!u(function(){var v=[];return(v.constructor={})[p]=function(){return{foo:1}},v[g](Boolean).foo!==1})}},3152:function(a,l,o){var u=o(8473);a.exports=function(c,f){var p=[][c];return!!p&&u(function(){p.call(null,f||function(){return 1},1)})}},8228:function(a,l,o){var u=o(8120),c=o(2347),f=o(2121),p=o(6960),g=TypeError,v="Reduce of empty array with no initial value",x=function(S){return function(_,w,E,T){var L=c(_),A=f(L),O=p(L);if(u(w),O===0&&E<2)throw new g(v);var U=S?O-1:0,F=S?-1:1;if(E<2)for(;;){if(U in A){T=A[U],U+=F;break}if(U+=F,S?U<0:O<=U)throw new g(v)}for(;S?U>=0:O>U;U+=F)U in A&&(T=w(T,A[U],U,L));return T}};a.exports={left:x(!1),right:x(!0)}},9273:function(a,l,o){var u=o(382),c=o(4914),f=TypeError,p=Object.getOwnPropertyDescriptor,g=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(v){return v instanceof TypeError}}();a.exports=g?function(v,x){if(c(v)&&!p(v,"length").writable)throw new f("Cannot set read only .length");return v.length=x}:function(v,x){return v.length=x}},1698:function(a,l,o){var u=o(4762);a.exports=u([].slice)},7354:function(a,l,o){var u=o(1698),c=Math.floor,f=function(p,g){var v=p.length;if(v<8)for(var x,S,_=1;_<v;){for(S=_,x=p[_];S&&g(p[S-1],x)>0;)p[S]=p[--S];S!==_++&&(p[S]=x)}else for(var w=c(v/2),E=f(u(p,0,w),g),T=f(u(p,w),g),L=E.length,A=T.length,O=0,U=0;O<L||U<A;)p[O+U]=O<L&&U<A?g(E[O],T[U])<=0?E[O++]:T[U++]:O<L?E[O++]:T[U++];return p};a.exports=f},9703:function(a,l,o){var u=o(4914),c=o(943),f=o(1704),p=o(1)("species"),g=Array;a.exports=function(v){var x;return u(v)&&(x=v.constructor,(c(x)&&(x===g||u(x.prototype))||f(x)&&(x=x[p])===null)&&(x=void 0)),x===void 0?g:x}},4551:function(a,l,o){var u=o(9703);a.exports=function(c,f){return new(u(c))(f===0?0:f)}},1282:function(a,l,o){var u=o(2293),c=o(6721);a.exports=function(f,p,g,v){try{return v?p(u(g)[0],g[1]):p(g)}catch(x){c(f,"throw",x)}}},1554:function(a,l,o){var u=o(1)("iterator"),c=!1;try{var f=0,p={next:function(){return{done:!!f++}},return:function(){c=!0}};p[u]=function(){return this},Array.from(p,function(){throw 2})}catch{}a.exports=function(g,v){try{if(!v&&!c)return!1}catch{return!1}var x=!1;try{var S={};S[u]=function(){return{next:function(){return{done:x=!0}}}},g(S)}catch{}return x}},1278:function(a,l,o){var u=o(4762),c=u({}.toString),f=u("".slice);a.exports=function(p){return f(c(p),8,-1)}},6145:function(a,l,o){var u=o(4338),c=o(1483),f=o(1278),p=o(1)("toStringTag"),g=Object,v=f(function(){return arguments}())==="Arguments";a.exports=u?f:function(x){var S,_,w;return x===void 0?"Undefined":x===null?"Null":typeof(_=function(E,T){try{return E[T]}catch{}}(S=g(x),p))=="string"?_:v?f(S):(w=f(S))==="Object"&&c(S.callee)?"Arguments":w}},6726:function(a,l,o){var u=o(5755),c=o(9497),f=o(4961),p=o(5835);a.exports=function(g,v,x){for(var S=c(v),_=p.f,w=f.f,E=0;E<S.length;E++){var T=S[E];u(g,T)||x&&u(x,T)||_(g,T,w(v,T))}}},4522:function(a,l,o){var u=o(1)("match");a.exports=function(c){var f=/./;try{"/./"[c](f)}catch{try{return f[u]=!1,"/./"[c](f)}catch{}}return!1}},9441:function(a,l,o){var u=o(8473);a.exports=!u(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},5247:function(a){a.exports=function(l,o){return{value:l,done:o}}},9037:function(a,l,o){var u=o(382),c=o(5835),f=o(7738);a.exports=u?function(p,g,v){return c.f(p,g,f(1,v))}:function(p,g,v){return p[g]=v,p}},7738:function(a){a.exports=function(l,o){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:o}}},670:function(a,l,o){var u=o(382),c=o(5835),f=o(7738);a.exports=function(p,g,v){u?c.f(p,g,f(0,v)):p[g]=v}},3864:function(a,l,o){var u=o(169),c=o(5835);a.exports=function(f,p,g){return g.get&&u(g.get,p,{getter:!0}),g.set&&u(g.set,p,{setter:!0}),c.f(f,p,g)}},7914:function(a,l,o){var u=o(1483),c=o(5835),f=o(169),p=o(2095);a.exports=function(g,v,x,S){S||(S={});var _=S.enumerable,w=S.name!==void 0?S.name:v;if(u(x)&&f(x,w,S),S.global)_?g[v]=x:p(v,x);else{try{S.unsafe?g[v]&&(_=!0):delete g[v]}catch{}_?g[v]=x:c.f(g,v,{value:x,enumerable:!1,configurable:!S.nonConfigurable,writable:!S.nonWritable})}return g}},2313:function(a,l,o){var u=o(7914);a.exports=function(c,f,p){for(var g in f)u(c,g,f[g],p);return c}},2095:function(a,l,o){var u=o(8389),c=Object.defineProperty;a.exports=function(f,p){try{c(u,f,{value:p,configurable:!0,writable:!0})}catch{u[f]=p}return p}},6060:function(a,l,o){var u=o(8761),c=TypeError;a.exports=function(f,p){if(!delete f[p])throw new c("Cannot delete property "+u(p)+" of "+u(f))}},382:function(a,l,o){var u=o(8473);a.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},3145:function(a,l,o){var u=o(8389),c=o(1704),f=u.document,p=c(f)&&c(f.createElement);a.exports=function(g){return p?f.createElement(g):{}}},1091:function(a){var l=TypeError;a.exports=function(o){if(o>9007199254740991)throw l("Maximum allowed index exceeded");return o}},4842:function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},1902:function(a,l,o){var u=o(3145)("span").classList,c=u&&u.constructor&&u.constructor.prototype;a.exports=c===Object.prototype?void 0:c},7332:function(a,l,o){var u=o(9966).match(/firefox\/(\d+)/i);a.exports=!!u&&+u[1]},6956:function(a,l,o){var u=o(938),c=o(4334);a.exports=!u&&!c&&typeof window=="object"&&typeof document=="object"},938:function(a){a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},8996:function(a,l,o){var u=o(9966);a.exports=/MSIE|Trident/.test(u)},4466:function(a,l,o){var u=o(9966);a.exports=/ipad|iphone|ipod/i.test(u)&&typeof Pebble<"u"},8417:function(a,l,o){var u=o(9966);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},4334:function(a,l,o){var u=o(8389),c=o(1278);a.exports=c(u.process)==="process"},6639:function(a,l,o){var u=o(9966);a.exports=/web0s(?!.*chrome)/i.test(u)},9966:function(a){a.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},6170:function(a,l,o){var u,c,f=o(8389),p=o(9966),g=f.process,v=f.Deno,x=g&&g.versions||v&&v.version,S=x&&x.v8;S&&(c=(u=S.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!c&&p&&(!(u=p.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=p.match(/Chrome\/(\d+)/))&&(c=+u[1]),a.exports=c},5158:function(a,l,o){var u=o(9966).match(/AppleWebKit\/(\d+)\./);a.exports=!!u&&+u[1]},4741:function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8612:function(a,l,o){var u=o(8389),c=o(4961).f,f=o(9037),p=o(7914),g=o(2095),v=o(6726),x=o(8730);a.exports=function(S,_){var w,E,T,L,A,O=S.target,U=S.global,F=S.stat;if(w=U?u:F?u[O]||g(O,{}):u[O]&&u[O].prototype)for(E in _){if(L=_[E],T=S.dontCallGetSet?(A=c(w,E))&&A.value:w[E],!x(U?E:O+(F?".":"#")+E,S.forced)&&T!==void 0){if(typeof L==typeof T)continue;v(L,T)}(S.sham||T&&T.sham)&&f(L,"sham",!0),p(w,E,L,S)}}},8473:function(a){a.exports=function(l){try{return!!l()}catch{return!0}}},3358:function(a,l,o){o(5021);var u=o(1807),c=o(7914),f=o(8865),p=o(8473),g=o(1),v=o(9037),x=g("species"),S=RegExp.prototype;a.exports=function(_,w,E,T){var L=g(_),A=!p(function(){var P={};return P[L]=function(){return 7},""[_](P)!==7}),O=A&&!p(function(){var P=!1,N=/a/;return _==="split"&&((N={}).constructor={},N.constructor[x]=function(){return N},N.flags="",N[L]=/./[L]),N.exec=function(){return P=!0,null},N[L](""),!P});if(!A||!O||E){var U=/./[L],F=w(L,""[_],function(P,N,K,$,j){var le=N.exec;return le===f||le===S.exec?A&&!j?{done:!0,value:u(U,N,K,$)}:{done:!0,value:u(P,K,N,$)}:{done:!1}});c(String.prototype,_,F[0]),c(S,L,F[1])}T&&v(S[L],"sham",!0)}},3067:function(a,l,o){var u=o(274),c=Function.prototype,f=c.apply,p=c.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(u?p.bind(f):function(){return p.apply(f,arguments)})},2914:function(a,l,o){var u=o(3786),c=o(8120),f=o(274),p=u(u.bind);a.exports=function(g,v){return c(g),v===void 0?g:f?p(g,v):function(){return g.apply(v,arguments)}}},274:function(a,l,o){var u=o(8473);a.exports=!u(function(){var c=(function(){}).bind();return typeof c!="function"||c.hasOwnProperty("prototype")})},1807:function(a,l,o){var u=o(274),c=Function.prototype.call;a.exports=u?c.bind(c):function(){return c.apply(c,arguments)}},2048:function(a,l,o){var u=o(382),c=o(5755),f=Function.prototype,p=u&&Object.getOwnPropertyDescriptor,g=c(f,"name"),v=g&&(function(){}).name==="something",x=g&&(!u||u&&p(f,"name").configurable);a.exports={EXISTS:g,PROPER:v,CONFIGURABLE:x}},680:function(a,l,o){var u=o(4762),c=o(8120);a.exports=function(f,p,g){try{return u(c(Object.getOwnPropertyDescriptor(f,p)[g]))}catch{}}},3786:function(a,l,o){var u=o(1278),c=o(4762);a.exports=function(f){if(u(f)==="Function")return c(f)}},4762:function(a,l,o){var u=o(274),c=Function.prototype,f=c.call,p=u&&c.bind.bind(f,f);a.exports=u?p:function(g){return function(){return f.apply(g,arguments)}}},1409:function(a,l,o){var u=o(8389),c=o(1483);a.exports=function(f,p){return arguments.length<2?(g=u[f],c(g)?g:void 0):u[f]&&u[f][p];var g}},6665:function(a,l,o){var u=o(6145),c=o(2564),f=o(5983),p=o(6775),g=o(1)("iterator");a.exports=function(v){if(!f(v))return c(v,g)||c(v,"@@iterator")||p[u(v)]}},4887:function(a,l,o){var u=o(1807),c=o(8120),f=o(2293),p=o(8761),g=o(6665),v=TypeError;a.exports=function(x,S){var _=arguments.length<2?g(x):S;if(c(_))return f(u(_,x));throw new v(p(x)+" is not iterable")}},5215:function(a,l,o){var u=o(4762),c=o(4914),f=o(1483),p=o(1278),g=o(6261),v=u([].push);a.exports=function(x){if(f(x))return x;if(c(x)){for(var S=x.length,_=[],w=0;w<S;w++){var E=x[w];typeof E=="string"?v(_,E):typeof E!="number"&&p(E)!=="Number"&&p(E)!=="String"||v(_,g(E))}var T=_.length,L=!0;return function(A,O){if(L)return L=!1,O;if(c(this))return O;for(var U=0;U<T;U++)if(_[U]===A)return O}}}},2564:function(a,l,o){var u=o(8120),c=o(5983);a.exports=function(f,p){var g=f[p];return c(g)?void 0:u(g)}},708:function(a,l,o){var u=o(4762),c=o(2347),f=Math.floor,p=u("".charAt),g=u("".replace),v=u("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;a.exports=function(_,w,E,T,L,A){var O=E+_.length,U=T.length,F=S;return L!==void 0&&(L=c(L),F=x),g(A,F,function(P,N){var K;switch(p(N,0)){case"$":return"$";case"&":return _;case"`":return v(w,0,E);case"'":return v(w,O);case"<":K=L[v(N,1,-1)];break;default:var $=+N;if($===0)return P;if($>U){var j=f($/10);return j===0?P:j<=U?T[j-1]===void 0?p(N,1):T[j-1]+p(N,1):P}K=T[$-1]}return K===void 0?"":K})}},8389:function(a,l,o){var u=function(c){return c&&c.Math===Math&&c};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof o.g=="object"&&o.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},5755:function(a,l,o){var u=o(4762),c=o(2347),f=u({}.hasOwnProperty);a.exports=Object.hasOwn||function(p,g){return f(c(p),g)}},1507:function(a){a.exports={}},1339:function(a){a.exports=function(l,o){try{arguments.length===1?console.error(l):console.error(l,o)}catch{}}},2811:function(a,l,o){var u=o(1409);a.exports=u("document","documentElement")},1799:function(a,l,o){var u=o(382),c=o(8473),f=o(3145);a.exports=!u&&!c(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})},8752:function(a){var l=Array,o=Math.abs,u=Math.pow,c=Math.floor,f=Math.log,p=Math.LN2;a.exports={pack:function(g,v,x){var S,_,w,E=l(x),T=8*x-v-1,L=(1<<T)-1,A=L>>1,O=v===23?u(2,-24)-u(2,-77):0,U=g<0||g===0&&1/g<0?1:0,F=0;for((g=o(g))!=g||g===1/0?(_=g!=g?1:0,S=L):(S=c(f(g)/p),g*(w=u(2,-S))<1&&(S--,w*=2),(g+=S+A>=1?O/w:O*u(2,1-A))*w>=2&&(S++,w/=2),S+A>=L?(_=0,S=L):S+A>=1?(_=(g*w-1)*u(2,v),S+=A):(_=g*u(2,A-1)*u(2,v),S=0));v>=8;)E[F++]=255&_,_/=256,v-=8;for(S=S<<v|_,T+=v;T>0;)E[F++]=255&S,S/=256,T-=8;return E[--F]|=128*U,E},unpack:function(g,v){var x,S=g.length,_=8*S-v-1,w=(1<<_)-1,E=w>>1,T=_-7,L=S-1,A=g[L--],O=127&A;for(A>>=7;T>0;)O=256*O+g[L--],T-=8;for(x=O&(1<<-T)-1,O>>=-T,T+=v;T>0;)x=256*x+g[L--],T-=8;if(O===0)O=1-E;else{if(O===w)return x?NaN:A?-1/0:1/0;x+=u(2,v),O-=E}return(A?-1:1)*x*u(2,O-v)}}},2121:function(a,l,o){var u=o(4762),c=o(8473),f=o(1278),p=Object,g=u("".split);a.exports=c(function(){return!p("z").propertyIsEnumerable(0)})?function(v){return f(v)==="String"?g(v,""):p(v)}:p},2429:function(a,l,o){var u=o(1483),c=o(1704),f=o(1953);a.exports=function(p,g,v){var x,S;return f&&u(x=g.constructor)&&x!==v&&c(S=x.prototype)&&S!==v.prototype&&f(p,S),p}},7268:function(a,l,o){var u=o(4762),c=o(1483),f=o(1831),p=u(Function.toString);c(f.inspectSource)||(f.inspectSource=function(g){return p(g)}),a.exports=f.inspectSource},4483:function(a,l,o){var u,c,f,p=o(4644),g=o(8389),v=o(1704),x=o(9037),S=o(5755),_=o(1831),w=o(5409),E=o(1507),T="Object already initialized",L=g.TypeError,A=g.WeakMap;if(p||_.state){var O=_.state||(_.state=new A);O.get=O.get,O.has=O.has,O.set=O.set,u=function(F,P){if(O.has(F))throw new L(T);return P.facade=F,O.set(F,P),P},c=function(F){return O.get(F)||{}},f=function(F){return O.has(F)}}else{var U=w("state");E[U]=!0,u=function(F,P){if(S(F,U))throw new L(T);return P.facade=F,x(F,U,P),P},c=function(F){return S(F,U)?F[U]:{}},f=function(F){return S(F,U)}}a.exports={set:u,get:c,has:f,enforce:function(F){return f(F)?c(F):u(F,{})},getterFor:function(F){return function(P){var N;if(!v(P)||(N=c(P)).type!==F)throw new L("Incompatible receiver, "+F+" required");return N}}}},5299:function(a,l,o){var u=o(1),c=o(6775),f=u("iterator"),p=Array.prototype;a.exports=function(g){return g!==void 0&&(c.Array===g||p[f]===g)}},4914:function(a,l,o){var u=o(1278);a.exports=Array.isArray||function(c){return u(c)==="Array"}},8197:function(a,l,o){var u=o(6145);a.exports=function(c){var f=u(c);return f==="BigInt64Array"||f==="BigUint64Array"}},1483:function(a){var l=typeof document=="object"&&document.all;a.exports=l===void 0&&l!==void 0?function(o){return typeof o=="function"||o===l}:function(o){return typeof o=="function"}},943:function(a,l,o){var u=o(4762),c=o(8473),f=o(1483),p=o(6145),g=o(1409),v=o(7268),x=function(){},S=g("Reflect","construct"),_=/^\s*(?:class|function)\b/,w=u(_.exec),E=!_.test(x),T=function(A){if(!f(A))return!1;try{return S(x,[],A),!0}catch{return!1}},L=function(A){if(!f(A))return!1;switch(p(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return E||!!w(_,v(A))}catch{return!0}};L.sham=!0,a.exports=!S||c(function(){var A;return T(T.call)||!T(Object)||!T(function(){A=!0})||A})?L:T},8730:function(a,l,o){var u=o(8473),c=o(1483),f=/#|\.prototype\./,p=function(_,w){var E=v[g(_)];return E===S||E!==x&&(c(w)?u(w):!!w)},g=p.normalize=function(_){return String(_).replace(f,".").toLowerCase()},v=p.data={},x=p.NATIVE="N",S=p.POLYFILL="P";a.exports=p},2137:function(a,l,o){var u=o(1704),c=Math.floor;a.exports=Number.isInteger||function(f){return!u(f)&&isFinite(f)&&c(f)===f}},5983:function(a){a.exports=function(l){return l==null}},1704:function(a,l,o){var u=o(1483);a.exports=function(c){return typeof c=="object"?c!==null:u(c)}},735:function(a,l,o){var u=o(1704);a.exports=function(c){return u(c)||c===null}},9557:function(a){a.exports=!1},4786:function(a,l,o){var u=o(1704),c=o(1278),f=o(1)("match");a.exports=function(p){var g;return u(p)&&((g=p[f])!==void 0?!!g:c(p)==="RegExp")}},1423:function(a,l,o){var u=o(1409),c=o(1483),f=o(4815),p=o(5022),g=Object;a.exports=p?function(v){return typeof v=="symbol"}:function(v){var x=u("Symbol");return c(x)&&f(x.prototype,g(v))}},1506:function(a,l,o){var u=o(2914),c=o(1807),f=o(2293),p=o(8761),g=o(5299),v=o(6960),x=o(4815),S=o(4887),_=o(6665),w=o(6721),E=TypeError,T=function(A,O){this.stopped=A,this.result=O},L=T.prototype;a.exports=function(A,O,U){var F,P,N,K,$,j,le,re=U&&U.that,W=!(!U||!U.AS_ENTRIES),G=!(!U||!U.IS_RECORD),V=!(!U||!U.IS_ITERATOR),k=!(!U||!U.INTERRUPTED),ie=u(O,re),te=function(oe){return F&&w(F,"normal",oe),new T(!0,oe)},se=function(oe){return W?(f(oe),k?ie(oe[0],oe[1],te):ie(oe[0],oe[1])):k?ie(oe,te):ie(oe)};if(G)F=A.iterator;else if(V)F=A;else{if(!(P=_(A)))throw new E(p(A)+" is not iterable");if(g(P)){for(N=0,K=v(A);K>N;N++)if(($=se(A[N]))&&x(L,$))return $;return new T(!1)}F=S(A,P)}for(j=G?A.next:F.next;!(le=c(j,F)).done;){try{$=se(le.value)}catch(oe){w(F,"throw",oe)}if(typeof $=="object"&&$&&x(L,$))return $}return new T(!1)}},6721:function(a,l,o){var u=o(1807),c=o(2293),f=o(2564);a.exports=function(p,g,v){var x,S;c(p);try{if(!(x=f(p,"return"))){if(g==="throw")throw v;return v}x=u(x,p)}catch(_){S=!0,x=_}if(g==="throw")throw v;if(S)throw x;return c(x),v}},1040:function(a,l,o){var u=o(1851).IteratorPrototype,c=o(5290),f=o(7738),p=o(2277),g=o(6775),v=function(){return this};a.exports=function(x,S,_,w){var E=S+" Iterator";return x.prototype=c(u,{next:f(+!w,_)}),p(x,E,!1,!0),g[E]=v,x}},5662:function(a,l,o){var u=o(8612),c=o(1807),f=o(9557),p=o(2048),g=o(1483),v=o(1040),x=o(3181),S=o(1953),_=o(2277),w=o(9037),E=o(7914),T=o(1),L=o(6775),A=o(1851),O=p.PROPER,U=p.CONFIGURABLE,F=A.IteratorPrototype,P=A.BUGGY_SAFARI_ITERATORS,N=T("iterator"),K="keys",$="values",j="entries",le=function(){return this};a.exports=function(re,W,G,V,k,ie,te){v(G,W,V);var se,oe,ve,xe=function(He){if(He===k&&Le)return Le;if(!P&&He&&He in ke)return ke[He];switch(He){case K:case $:case j:return function(){return new G(this,He)}}return function(){return new G(this)}},he=W+" Iterator",Ue=!1,ke=re.prototype,Qe=ke[N]||ke["@@iterator"]||k&&ke[k],Le=!P&&Qe||xe(k),Q=W==="Array"&&ke.entries||Qe;if(Q&&(se=x(Q.call(new re)))!==Object.prototype&&se.next&&(f||x(se)===F||(S?S(se,F):g(se[N])||E(se,N,le)),_(se,he,!0,!0),f&&(L[he]=le)),O&&k===$&&Qe&&Qe.name!==$&&(!f&&U?w(ke,"name",$):(Ue=!0,Le=function(){return c(Qe,this)})),k)if(oe={values:xe($),keys:ie?Le:xe(K),entries:xe(j)},te)for(ve in oe)(P||Ue||!(ve in ke))&&E(ke,ve,oe[ve]);else u({target:W,proto:!0,forced:P||Ue},oe);return f&&!te||ke[N]===Le||E(ke,N,Le,{name:k}),L[W]=Le,oe}},1851:function(a,l,o){var u,c,f,p=o(8473),g=o(1483),v=o(1704),x=o(5290),S=o(3181),_=o(7914),w=o(1),E=o(9557),T=w("iterator"),L=!1;[].keys&&("next"in(f=[].keys())?(c=S(S(f)))!==Object.prototype&&(u=c):L=!0),!v(u)||p(function(){var A={};return u[T].call(A)!==A})?u={}:E&&(u=x(u)),g(u[T])||_(u,T,function(){return this}),a.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:L}},6775:function(a){a.exports={}},6960:function(a,l,o){var u=o(8324);a.exports=function(c){return u(c.length)}},169:function(a,l,o){var u=o(4762),c=o(8473),f=o(1483),p=o(5755),g=o(382),v=o(2048).CONFIGURABLE,x=o(7268),S=o(4483),_=S.enforce,w=S.get,E=String,T=Object.defineProperty,L=u("".slice),A=u("".replace),O=u([].join),U=g&&!c(function(){return T(function(){},"length",{value:8}).length!==8}),F=String(String).split("String"),P=a.exports=function(N,K,$){L(E(K),0,7)==="Symbol("&&(K="["+A(E(K),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),$&&$.getter&&(K="get "+K),$&&$.setter&&(K="set "+K),(!p(N,"name")||v&&N.name!==K)&&(g?T(N,"name",{value:K,configurable:!0}):N.name=K),U&&$&&p($,"arity")&&N.length!==$.arity&&T(N,"length",{value:$.arity});try{$&&p($,"constructor")&&$.constructor?g&&T(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch{}var j=_(N);return p(j,"source")||(j.source=O(F,typeof K=="string"?K:"")),N};Function.prototype.toString=P(function(){return f(this)&&w(this).source||x(this)},"toString")},5294:function(a,l,o){var u=o(2452),c=Math.abs,f=2220446049250313e-31,p=1/f;a.exports=function(g,v,x,S){var _=+g,w=c(_),E=u(_);if(w<S)return E*function(A){return A+p-p}(w/S/v)*S*v;var T=(1+v/f)*w,L=T-(T-w);return L>x||L!=L?E*(1/0):E*L}},7795:function(a,l,o){var u=o(5294);a.exports=Math.fround||function(c){return u(c,11920928955078125e-23,34028234663852886e22,11754943508222875e-54)}},2452:function(a){a.exports=Math.sign||function(l){var o=+l;return o===0||o!=o?o:o<0?-1:1}},1703:function(a){var l=Math.ceil,o=Math.floor;a.exports=Math.trunc||function(u){var c=+u;return(c>0?o:l)(c)}},553:function(a,l,o){var u,c,f,p,g,v=o(8389),x=o(8123),S=o(2914),_=o(7007).set,w=o(5459),E=o(8417),T=o(4466),L=o(6639),A=o(4334),O=v.MutationObserver||v.WebKitMutationObserver,U=v.document,F=v.process,P=v.Promise,N=x("queueMicrotask");if(!N){var K=new w,$=function(){var j,le;for(A&&(j=F.domain)&&j.exit();le=K.get();)try{le()}catch(re){throw K.head&&u(),re}j&&j.enter()};E||A||L||!O||!U?!T&&P&&P.resolve?((p=P.resolve(void 0)).constructor=P,g=S(p.then,p),u=function(){g($)}):A?u=function(){F.nextTick($)}:(_=S(_,v),u=function(){_($)}):(c=!0,f=U.createTextNode(""),new O($).observe(f,{characterData:!0}),u=function(){f.data=c=!c}),N=function(j){K.head||u(),K.add(j)}}a.exports=N},1173:function(a,l,o){var u=o(8120),c=TypeError,f=function(p){var g,v;this.promise=new p(function(x,S){if(g!==void 0||v!==void 0)throw new c("Bad Promise constructor");g=x,v=S}),this.resolve=u(g),this.reject=u(v)};a.exports.f=function(p){return new f(p)}},4989:function(a,l,o){var u=o(4786),c=TypeError;a.exports=function(f){if(u(f))throw new c("The method doesn't accept regular expressions");return f}},5574:function(a,l,o){var u=o(8389).isFinite;a.exports=Number.isFinite||function(c){return typeof c=="number"&&u(c)}},1439:function(a,l,o){var u=o(382),c=o(4762),f=o(1807),p=o(8473),g=o(3658),v=o(4347),x=o(7611),S=o(2347),_=o(2121),w=Object.assign,E=Object.defineProperty,T=c([].concat);a.exports=!w||p(function(){if(u&&w({b:1},w(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},A={},O=Symbol("assign detection"),U="abcdefghijklmnopqrst";return L[O]=7,U.split("").forEach(function(F){A[F]=F}),w({},L)[O]!==7||g(w({},A)).join("")!==U})?function(L,A){for(var O=S(L),U=arguments.length,F=1,P=v.f,N=x.f;U>F;)for(var K,$=_(arguments[F++]),j=P?T(g($),P($)):g($),le=j.length,re=0;le>re;)K=j[re++],u&&!f(N,$,K)||(O[K]=$[K]);return O}:w},5290:function(a,l,o){var u,c=o(2293),f=o(5799),p=o(4741),g=o(1507),v=o(2811),x=o(3145),S=o(5409),_="prototype",w="script",E=S("IE_PROTO"),T=function(){},L=function(U){return"<"+w+">"+U+"</"+w+">"},A=function(U){U.write(L("")),U.close();var F=U.parentWindow.Object;return U=null,F},O=function(){try{u=new ActiveXObject("htmlfile")}catch{}var U,F,P;O=typeof document<"u"?document.domain&&u?A(u):(F=x("iframe"),P="java"+w+":",F.style.display="none",v.appendChild(F),F.src=String(P),(U=F.contentWindow.document).open(),U.write(L("document.F=Object")),U.close(),U.F):A(u);for(var N=p.length;N--;)delete O[_][p[N]];return O()};g[E]=!0,a.exports=Object.create||function(U,F){var P;return U!==null?(T[_]=c(U),P=new T,T[_]=null,P[E]=U):P=O(),F===void 0?P:f.f(P,F)}},5799:function(a,l,o){var u=o(382),c=o(3896),f=o(5835),p=o(2293),g=o(5599),v=o(3658);l.f=u&&!c?Object.defineProperties:function(x,S){p(x);for(var _,w=g(S),E=v(S),T=E.length,L=0;T>L;)f.f(x,_=E[L++],w[_]);return x}},5835:function(a,l,o){var u=o(382),c=o(1799),f=o(3896),p=o(2293),g=o(3815),v=TypeError,x=Object.defineProperty,S=Object.getOwnPropertyDescriptor,_="enumerable",w="configurable",E="writable";l.f=u?f?function(T,L,A){if(p(T),L=g(L),p(A),typeof T=="function"&&L==="prototype"&&"value"in A&&E in A&&!A[E]){var O=S(T,L);O&&O[E]&&(T[L]=A.value,A={configurable:w in A?A[w]:O[w],enumerable:_ in A?A[_]:O[_],writable:!1})}return x(T,L,A)}:x:function(T,L,A){if(p(T),L=g(L),p(A),c)try{return x(T,L,A)}catch{}if("get"in A||"set"in A)throw new v("Accessors not supported");return"value"in A&&(T[L]=A.value),T}},4961:function(a,l,o){var u=o(382),c=o(1807),f=o(7611),p=o(7738),g=o(5599),v=o(3815),x=o(5755),S=o(1799),_=Object.getOwnPropertyDescriptor;l.f=u?_:function(w,E){if(w=g(w),E=v(E),S)try{return _(w,E)}catch{}if(x(w,E))return p(!c(f.f,w,E),w[E])}},2020:function(a,l,o){var u=o(1278),c=o(5599),f=o(2278).f,p=o(1698),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(v){return g&&u(v)==="Window"?function(x){try{return f(x)}catch{return p(g)}}(v):f(c(v))}},2278:function(a,l,o){var u=o(6742),c=o(4741).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(f){return u(f,c)}},4347:function(a,l){l.f=Object.getOwnPropertySymbols},3181:function(a,l,o){var u=o(5755),c=o(1483),f=o(2347),p=o(5409),g=o(9441),v=p("IE_PROTO"),x=Object,S=x.prototype;a.exports=g?x.getPrototypeOf:function(_){var w=f(_);if(u(w,v))return w[v];var E=w.constructor;return c(E)&&w instanceof E?E.prototype:w instanceof x?S:null}},4815:function(a,l,o){var u=o(4762);a.exports=u({}.isPrototypeOf)},6742:function(a,l,o){var u=o(4762),c=o(5755),f=o(5599),p=o(6651).indexOf,g=o(1507),v=u([].push);a.exports=function(x,S){var _,w=f(x),E=0,T=[];for(_ in w)!c(g,_)&&c(w,_)&&v(T,_);for(;S.length>E;)c(w,_=S[E++])&&(~p(T,_)||v(T,_));return T}},3658:function(a,l,o){var u=o(6742),c=o(4741);a.exports=Object.keys||function(f){return u(f,c)}},7611:function(a,l){var o={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c=u&&!o.call({1:2},1);l.f=c?function(f){var p=u(this,f);return!!p&&p.enumerable}:o},1953:function(a,l,o){var u=o(680),c=o(1704),f=o(3312),p=o(3852);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,v=!1,x={};try{(g=u(Object.prototype,"__proto__","set"))(x,[]),v=x instanceof Array}catch{}return function(S,_){return f(S),p(_),c(S)&&(v?g(S,_):S.__proto__=_),S}}():void 0)},5627:function(a,l,o){var u=o(382),c=o(8473),f=o(4762),p=o(3181),g=o(3658),v=o(5599),x=f(o(7611).f),S=f([].push),_=u&&c(function(){var E=Object.create(null);return E[2]=2,!x(E,2)}),w=function(E){return function(T){for(var L,A=v(T),O=g(A),U=_&&p(A)===null,F=O.length,P=0,N=[];F>P;)L=O[P++],u&&!(U?L in A:x(A,L))||S(N,E?[L,A[L]]:A[L]);return N}};a.exports={entries:w(!0),values:w(!1)}},5685:function(a,l,o){var u=o(4338),c=o(6145);a.exports=u?{}.toString:function(){return"[object "+c(this)+"]"}},348:function(a,l,o){var u=o(1807),c=o(1483),f=o(1704),p=TypeError;a.exports=function(g,v){var x,S;if(v==="string"&&c(x=g.toString)&&!f(S=u(x,g))||c(x=g.valueOf)&&!f(S=u(x,g))||v!=="string"&&c(x=g.toString)&&!f(S=u(x,g)))return S;throw new p("Can't convert object to primitive value")}},9497:function(a,l,o){var u=o(1409),c=o(4762),f=o(2278),p=o(4347),g=o(2293),v=c([].concat);a.exports=u("Reflect","ownKeys")||function(x){var S=f.f(g(x)),_=p.f;return _?v(S,_(x)):S}},6589:function(a,l,o){var u=o(8389);a.exports=u},4193:function(a){a.exports=function(l){try{return{error:!1,value:l()}}catch(o){return{error:!0,value:o}}}},5502:function(a,l,o){var u=o(8389),c=o(2832),f=o(1483),p=o(8730),g=o(7268),v=o(1),x=o(6956),S=o(938),_=o(9557),w=o(6170),E=c&&c.prototype,T=v("species"),L=!1,A=f(u.PromiseRejectionEvent),O=p("Promise",function(){var U=g(c),F=U!==String(c);if(!F&&w===66||_&&(!E.catch||!E.finally))return!0;if(!w||w<51||!/native code/.test(U)){var P=new c(function(K){K(1)}),N=function(K){K(function(){},function(){})};if((P.constructor={})[T]=N,!(L=P.then(function(){})instanceof N))return!0}return!F&&(x||S)&&!A});a.exports={CONSTRUCTOR:O,REJECTION_EVENT:A,SUBCLASSING:L}},2832:function(a,l,o){var u=o(8389);a.exports=u.Promise},2172:function(a,l,o){var u=o(2293),c=o(1704),f=o(1173);a.exports=function(p,g){if(u(p),c(g)&&g.constructor===p)return g;var v=f.f(p);return(0,v.resolve)(g),v.promise}},1407:function(a,l,o){var u=o(2832),c=o(1554),f=o(5502).CONSTRUCTOR;a.exports=f||!c(function(p){u.all(p).then(void 0,function(){})})},7150:function(a,l,o){var u=o(5835).f;a.exports=function(c,f,p){p in c||u(c,p,{configurable:!0,get:function(){return f[p]},set:function(g){f[p]=g}})}},5459:function(a){var l=function(){this.head=null,this.tail=null};l.prototype={add:function(o){var u={item:o,next:null},c=this.tail;c?c.next=u:this.head=u,this.tail=u},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},a.exports=l},2428:function(a,l,o){var u=o(1807),c=o(2293),f=o(1483),p=o(1278),g=o(8865),v=TypeError;a.exports=function(x,S){var _=x.exec;if(f(_)){var w=u(_,x,S);return w!==null&&c(w),w}if(p(x)==="RegExp")return u(g,x,S);throw new v("RegExp#exec called on incompatible receiver")}},8865:function(a,l,o){var u,c,f=o(1807),p=o(4762),g=o(6261),v=o(6653),x=o(7435),S=o(7255),_=o(5290),w=o(4483).get,E=o(3933),T=o(4528),L=S("native-string-replace",String.prototype.replace),A=RegExp.prototype.exec,O=A,U=p("".charAt),F=p("".indexOf),P=p("".replace),N=p("".slice),K=(c=/b*/g,f(A,u=/a/,"a"),f(A,c,"a"),u.lastIndex!==0||c.lastIndex!==0),$=x.BROKEN_CARET,j=/()??/.exec("")[1]!==void 0;(K||j||$||E||T)&&(O=function(le){var re,W,G,V,k,ie,te,se=this,oe=w(se),ve=g(le),xe=oe.raw;if(xe)return xe.lastIndex=se.lastIndex,re=f(O,xe,ve),se.lastIndex=xe.lastIndex,re;var he=oe.groups,Ue=$&&se.sticky,ke=f(v,se),Qe=se.source,Le=0,Q=ve;if(Ue&&(ke=P(ke,"y",""),F(ke,"g")===-1&&(ke+="g"),Q=N(ve,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&U(ve,se.lastIndex-1)!==`
`)&&(Qe="(?: "+Qe+")",Q=" "+Q,Le++),W=new RegExp("^(?:"+Qe+")",ke)),j&&(W=new RegExp("^"+Qe+"$(?!\\s)",ke)),K&&(G=se.lastIndex),V=f(A,Ue?W:se,Q),Ue?V?(V.input=N(V.input,Le),V[0]=N(V[0],Le),V.index=se.lastIndex,se.lastIndex+=V[0].length):se.lastIndex=0:K&&V&&(se.lastIndex=se.global?V.index+V[0].length:G),j&&V&&V.length>1&&f(L,V[0],W,function(){for(k=1;k<arguments.length-2;k++)arguments[k]===void 0&&(V[k]=void 0)}),V&&he)for(V.groups=ie=_(null),k=0;k<he.length;k++)ie[(te=he[k])[0]]=V[te[1]];return V}),a.exports=O},6653:function(a,l,o){var u=o(2293);a.exports=function(){var c=u(this),f="";return c.hasIndices&&(f+="d"),c.global&&(f+="g"),c.ignoreCase&&(f+="i"),c.multiline&&(f+="m"),c.dotAll&&(f+="s"),c.unicode&&(f+="u"),c.unicodeSets&&(f+="v"),c.sticky&&(f+="y"),f}},9736:function(a,l,o){var u=o(1807),c=o(5755),f=o(4815),p=o(6653),g=RegExp.prototype;a.exports=function(v){var x=v.flags;return x!==void 0||"flags"in g||c(v,"flags")||!f(g,v)?x:u(p,v)}},7435:function(a,l,o){var u=o(8473),c=o(8389).RegExp,f=u(function(){var v=c("a","y");return v.lastIndex=2,v.exec("abcd")!==null}),p=f||u(function(){return!c("a","y").sticky}),g=f||u(function(){var v=c("^r","gy");return v.lastIndex=2,v.exec("str")!==null});a.exports={BROKEN_CARET:g,MISSED_STICKY:p,UNSUPPORTED_Y:f}},3933:function(a,l,o){var u=o(8473),c=o(8389).RegExp;a.exports=u(function(){var f=c(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")})},4528:function(a,l,o){var u=o(8473),c=o(8389).RegExp;a.exports=u(function(){var f=c("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})},3312:function(a,l,o){var u=o(5983),c=TypeError;a.exports=function(f){if(u(f))throw new c("Can't call method on "+f);return f}},8123:function(a,l,o){var u=o(8389),c=o(382),f=Object.getOwnPropertyDescriptor;a.exports=function(p){if(!c)return u[p];var g=f(u,p);return g&&g.value}},5420:function(a){a.exports=Object.is||function(l,o){return l===o?l!==0||1/l==1/o:l!=l&&o!=o}},7859:function(a,l,o){var u=o(1409),c=o(3864),f=o(1),p=o(382),g=f("species");a.exports=function(v){var x=u(v);p&&x&&!x[g]&&c(x,g,{configurable:!0,get:function(){return this}})}},2277:function(a,l,o){var u=o(5835).f,c=o(5755),f=o(1)("toStringTag");a.exports=function(p,g,v){p&&!v&&(p=p.prototype),p&&!c(p,f)&&u(p,f,{configurable:!0,value:g})}},5409:function(a,l,o){var u=o(7255),c=o(1866),f=u("keys");a.exports=function(p){return f[p]||(f[p]=c(p))}},1831:function(a,l,o){var u=o(9557),c=o(8389),f=o(2095),p="__core-js_shared__",g=a.exports=c[p]||f(p,{});(g.versions||(g.versions=[])).push({version:"3.37.1",mode:u?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},7255:function(a,l,o){var u=o(1831);a.exports=function(c,f){return u[c]||(u[c]=f||{})}},483:function(a,l,o){var u=o(2293),c=o(2374),f=o(5983),p=o(1)("species");a.exports=function(g,v){var x,S=u(g).constructor;return S===void 0||f(x=u(S)[p])?v:c(x)}},9105:function(a,l,o){var u=o(4762),c=o(3005),f=o(6261),p=o(3312),g=u("".charAt),v=u("".charCodeAt),x=u("".slice),S=function(_){return function(w,E){var T,L,A=f(p(w)),O=c(E),U=A.length;return O<0||O>=U?_?"":void 0:(T=v(A,O))<55296||T>56319||O+1===U||(L=v(A,O+1))<56320||L>57343?_?g(A,O):T:_?x(A,O,O+2):L-56320+(T-55296<<10)+65536}};a.exports={codeAt:S(!1),charAt:S(!0)}},3172:function(a,l,o){var u=o(2048).PROPER,c=o(8473),f=o(5870);a.exports=function(p){return c(function(){return!!f[p]()||"​᠎"[p]()!=="​᠎"||u&&f[p].name!==p})}},4544:function(a,l,o){var u=o(4762),c=o(3312),f=o(6261),p=o(5870),g=u("".replace),v=RegExp("^["+p+"]+"),x=RegExp("(^|[^"+p+"])["+p+"]+$"),S=function(_){return function(w){var E=f(c(w));return 1&_&&(E=g(E,v,"")),2&_&&(E=g(E,x,"$1")),E}};a.exports={start:S(1),end:S(2),trim:S(3)}},6029:function(a,l,o){var u=o(6170),c=o(8473),f=o(8389).String;a.exports=!!Object.getOwnPropertySymbols&&!c(function(){var p=Symbol("symbol detection");return!f(p)||!(Object(p)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8192:function(a,l,o){var u=o(1807),c=o(1409),f=o(1),p=o(7914);a.exports=function(){var g=c("Symbol"),v=g&&g.prototype,x=v&&v.valueOf,S=f("toPrimitive");v&&!v[S]&&p(v,S,function(_){return u(x,this)},{arity:1})}},3218:function(a,l,o){var u=o(6029);a.exports=u&&!!Symbol.for&&!!Symbol.keyFor},7007:function(a,l,o){var u,c,f,p,g=o(8389),v=o(3067),x=o(2914),S=o(1483),_=o(5755),w=o(8473),E=o(2811),T=o(1698),L=o(3145),A=o(4066),O=o(8417),U=o(4334),F=g.setImmediate,P=g.clearImmediate,N=g.process,K=g.Dispatch,$=g.Function,j=g.MessageChannel,le=g.String,re=0,W={},G="onreadystatechange";w(function(){u=g.location});var V=function(se){if(_(W,se)){var oe=W[se];delete W[se],oe()}},k=function(se){return function(){V(se)}},ie=function(se){V(se.data)},te=function(se){g.postMessage(le(se),u.protocol+"//"+u.host)};F&&P||(F=function(se){A(arguments.length,1);var oe=S(se)?se:$(se),ve=T(arguments,1);return W[++re]=function(){v(oe,void 0,ve)},c(re),re},P=function(se){delete W[se]},U?c=function(se){N.nextTick(k(se))}:K&&K.now?c=function(se){K.now(k(se))}:j&&!O?(p=(f=new j).port2,f.port1.onmessage=ie,c=x(p.postMessage,p)):g.addEventListener&&S(g.postMessage)&&!g.importScripts&&u&&u.protocol!=="file:"&&!w(te)?(c=te,g.addEventListener("message",ie,!1)):c=G in L("script")?function(se){E.appendChild(L("script"))[G]=function(){E.removeChild(this),V(se)}}:function(se){setTimeout(k(se),0)}),a.exports={set:F,clear:P}},3392:function(a,l,o){var u=o(3005),c=Math.max,f=Math.min;a.exports=function(p,g){var v=u(p);return v<0?c(v+g,0):f(v,g)}},4052:function(a,l,o){var u=o(2355),c=TypeError;a.exports=function(f){var p=u(f,"number");if(typeof p=="number")throw new c("Can't convert number to bigint");return BigInt(p)}},5238:function(a,l,o){var u=o(3005),c=o(8324),f=RangeError;a.exports=function(p){if(p===void 0)return 0;var g=u(p),v=c(g);if(g!==v)throw new f("Wrong length or index");return v}},5599:function(a,l,o){var u=o(2121),c=o(3312);a.exports=function(f){return u(c(f))}},3005:function(a,l,o){var u=o(1703);a.exports=function(c){var f=+c;return f!=f||f===0?0:u(f)}},8324:function(a,l,o){var u=o(3005),c=Math.min;a.exports=function(f){var p=u(f);return p>0?c(p,9007199254740991):0}},2347:function(a,l,o){var u=o(3312),c=Object;a.exports=function(f){return c(u(f))}},4579:function(a,l,o){var u=o(2212),c=RangeError;a.exports=function(f,p){var g=u(f);if(g%p)throw new c("Wrong offset");return g}},2212:function(a,l,o){var u=o(3005),c=RangeError;a.exports=function(f){var p=u(f);if(p<0)throw new c("The argument can't be less than 0");return p}},2355:function(a,l,o){var u=o(1807),c=o(1704),f=o(1423),p=o(2564),g=o(348),v=o(1),x=TypeError,S=v("toPrimitive");a.exports=function(_,w){if(!c(_)||f(_))return _;var E,T=p(_,S);if(T){if(w===void 0&&(w="default"),E=u(T,_,w),!c(E)||f(E))return E;throw new x("Can't convert object to primitive value")}return w===void 0&&(w="number"),g(_,w)}},3815:function(a,l,o){var u=o(2355),c=o(1423);a.exports=function(f){var p=u(f,"string");return c(p)?p:p+""}},4338:function(a,l,o){var u={};u[o(1)("toStringTag")]="z",a.exports=String(u)==="[object z]"},6261:function(a,l,o){var u=o(6145),c=String;a.exports=function(f){if(u(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return c(f)}},6233:function(a){var l=Math.round;a.exports=function(o){var u=l(o);return u<0?0:u>255?255:255&u}},8761:function(a){var l=String;a.exports=function(o){try{return l(o)}catch{return"Object"}}},2961:function(a,l,o){var u=o(8612),c=o(8389),f=o(1807),p=o(382),g=o(987),v=o(7534),x=o(9776),S=o(6021),_=o(7738),w=o(9037),E=o(2137),T=o(8324),L=o(5238),A=o(4579),O=o(6233),U=o(3815),F=o(5755),P=o(6145),N=o(1704),K=o(1423),$=o(5290),j=o(4815),le=o(1953),re=o(2278).f,W=o(8053),G=o(2867).forEach,V=o(7859),k=o(3864),ie=o(5835),te=o(4961),se=o(8592),oe=o(4483),ve=o(2429),xe=oe.get,he=oe.set,Ue=oe.enforce,ke=ie.f,Qe=te.f,Le=c.RangeError,Q=x.ArrayBuffer,He=Q.prototype,Pe=x.DataView,Je=v.NATIVE_ARRAY_BUFFER_VIEWS,Ye=v.TYPED_ARRAY_TAG,mt=v.TypedArray,gt=v.TypedArrayPrototype,ne=v.isTypedArray,Y="BYTES_PER_ELEMENT",Ie="Wrong length",st=function(Fe,nt){k(Fe,nt,{configurable:!0,get:function(){return xe(this)[nt]}})},ot=function(Fe){var nt;return j(He,Fe)||(nt=P(Fe))==="ArrayBuffer"||nt==="SharedArrayBuffer"},be=function(Fe,nt){return ne(Fe)&&!K(nt)&&nt in Fe&&E(+nt)&&nt>=0},pe=function(Fe,nt){return nt=U(nt),be(Fe,nt)?_(2,Fe[nt]):Qe(Fe,nt)},Ge=function(Fe,nt,Ce){return nt=U(nt),!(be(Fe,nt)&&N(Ce)&&F(Ce,"value"))||F(Ce,"get")||F(Ce,"set")||Ce.configurable||F(Ce,"writable")&&!Ce.writable||F(Ce,"enumerable")&&!Ce.enumerable?ke(Fe,nt,Ce):(Fe[nt]=Ce.value,Fe)};p?(Je||(te.f=pe,ie.f=Ge,st(gt,"buffer"),st(gt,"byteOffset"),st(gt,"byteLength"),st(gt,"length")),u({target:"Object",stat:!0,forced:!Je},{getOwnPropertyDescriptor:pe,defineProperty:Ge}),a.exports=function(Fe,nt,Ce){var De=Fe.match(/\d+/)[0]/8,Ut=Fe+(Ce?"Clamped":"")+"Array",Bt="get"+Fe,Ct="set"+Fe,wt=c[Ut],ut=wt,It=ut&&ut.prototype,Kt={},Mn=function(Rt,ce){ke(Rt,ce,{get:function(){return function(Re,We){var dt=xe(Re);return dt.view[Bt](We*De+dt.byteOffset,!0)}(this,ce)},set:function(Re){return function(We,dt,St){var Gt=xe(We);Gt.view[Ct](dt*De+Gt.byteOffset,Ce?O(St):St,!0)}(this,ce,Re)},enumerable:!0})};Je?g&&(ut=nt(function(Rt,ce,Re,We){return S(Rt,It),ve(N(ce)?ot(ce)?We!==void 0?new wt(ce,A(Re,De),We):Re!==void 0?new wt(ce,A(Re,De)):new wt(ce):ne(ce)?se(ut,ce):f(W,ut,ce):new wt(L(ce)),Rt,ut)}),le&&le(ut,mt),G(re(wt),function(Rt){Rt in ut||w(ut,Rt,wt[Rt])}),ut.prototype=It):(ut=nt(function(Rt,ce,Re,We){S(Rt,It);var dt,St,Gt,Qt=0,En=0;if(N(ce)){if(!ot(ce))return ne(ce)?se(ut,ce):f(W,ut,ce);dt=ce,En=A(Re,De);var Nn=ce.byteLength;if(We===void 0){if(Nn%De)throw new Le(Ie);if((St=Nn-En)<0)throw new Le(Ie)}else if((St=T(We)*De)+En>Nn)throw new Le(Ie);Gt=St/De}else Gt=L(ce),dt=new Q(St=Gt*De);for(he(Rt,{buffer:dt,byteOffset:En,byteLength:St,length:Gt,view:new Pe(dt)});Qt<Gt;)Mn(Rt,Qt++)}),le&&le(ut,mt),It=ut.prototype=$(gt)),It.constructor!==ut&&w(It,"constructor",ut),Ue(It).TypedArrayConstructor=ut,Ye&&w(It,Ye,Ut);var Tt=ut!==wt;Kt[Ut]=ut,u({global:!0,constructor:!0,forced:Tt,sham:!Je},Kt),Y in ut||w(ut,Y,De),Y in It||w(It,Y,De),V(Ut)}):a.exports=function(){}},987:function(a,l,o){var u=o(8389),c=o(8473),f=o(1554),p=o(7534).NATIVE_ARRAY_BUFFER_VIEWS,g=u.ArrayBuffer,v=u.Int8Array;a.exports=!p||!c(function(){v(1)})||!c(function(){new v(-1)})||!f(function(x){new v,new v(null),new v(1.5),new v(x)},!0)||c(function(){return new v(new g(2),1,void 0).length!==1})},7535:function(a,l,o){var u=o(8592),c=o(6818);a.exports=function(f,p){return u(c(f),p)}},8053:function(a,l,o){var u=o(2914),c=o(1807),f=o(2374),p=o(2347),g=o(6960),v=o(4887),x=o(6665),S=o(5299),_=o(8197),w=o(7534).aTypedArrayConstructor,E=o(4052);a.exports=function(T){var L,A,O,U,F,P,N,K,$=f(this),j=p(T),le=arguments.length,re=le>1?arguments[1]:void 0,W=re!==void 0,G=x(j);if(G&&!S(G))for(K=(N=v(j,G)).next,j=[];!(P=c(K,N)).done;)j.push(P.value);for(W&&le>2&&(re=u(re,arguments[2])),A=g(j),O=new(w($))(A),U=_(O),L=0;A>L;L++)F=W?re(j[L],L):j[L],O[L]=U?E(F):+F;return O}},6818:function(a,l,o){var u=o(7534),c=o(483),f=u.aTypedArrayConstructor,p=u.getTypedArrayConstructor;a.exports=function(g){return f(c(g,p(g)))}},1866:function(a,l,o){var u=o(4762),c=0,f=Math.random(),p=u(1 .toString);a.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+p(++c+f,36)}},4250:function(a,l,o){var u=o(8473),c=o(1),f=o(382),p=o(9557),g=c("iterator");a.exports=!u(function(){var v=new URL("b?a=1&b=2&c=3","http://a"),x=v.searchParams,S=new URLSearchParams("a=1&a=2&b=3"),_="";return v.pathname="c%20d",x.forEach(function(w,E){x.delete("b"),_+=E+w}),S.delete("a",2),S.delete("b",void 0),p&&(!v.toJSON||!S.has("a",1)||S.has("a",2)||!S.has("a",void 0)||S.has("b"))||!x.size&&(p||!f)||!x.sort||v.href!=="http://a/c%20d?a=1&c=3"||x.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!x[g]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||_!=="a1c3"||new URL("http://x",void 0).host!=="x"})},5022:function(a,l,o){var u=o(6029);a.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3896:function(a,l,o){var u=o(382),c=o(8473);a.exports=u&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},4066:function(a){var l=TypeError;a.exports=function(o,u){if(o<u)throw new l("Not enough arguments");return o}},4644:function(a,l,o){var u=o(8389),c=o(1483),f=u.WeakMap;a.exports=c(f)&&/native code/.test(String(f))},7849:function(a,l,o){var u=o(6589),c=o(5755),f=o(5373),p=o(5835).f;a.exports=function(g){var v=u.Symbol||(u.Symbol={});c(v,g)||p(v,g,{value:f.f(g)})}},5373:function(a,l,o){var u=o(1);l.f=u},1:function(a,l,o){var u=o(8389),c=o(7255),f=o(5755),p=o(1866),g=o(6029),v=o(5022),x=u.Symbol,S=c("wks"),_=v?x.for||x:x&&x.withoutSetter||p;a.exports=function(w){return f(S,w)||(S[w]=g&&f(x,w)?x[w]:_("Symbol."+w)),S[w]}},5870:function(a){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},6781:function(a,l,o){var u=o(8612),c=o(8389),f=o(9776),p=o(7859),g="ArrayBuffer",v=f[g];u({global:!0,constructor:!0,forced:c[g]!==v},{ArrayBuffer:v}),p(g)},4776:function(a,l,o){var u=o(8612),c=o(8473),f=o(4914),p=o(1704),g=o(2347),v=o(6960),x=o(1091),S=o(670),_=o(4551),w=o(4595),E=o(1),T=o(6170),L=E("isConcatSpreadable"),A=T>=51||!c(function(){var U=[];return U[L]=!1,U.concat()[0]!==U}),O=function(U){if(!p(U))return!1;var F=U[L];return F!==void 0?!!F:f(U)};u({target:"Array",proto:!0,arity:1,forced:!A||!w("concat")},{concat:function(U){var F,P,N,K,$,j=g(this),le=_(j,0),re=0;for(F=-1,N=arguments.length;F<N;F++)if(O($=F===-1?j:arguments[F]))for(K=v($),x(re+K),P=0;P<K;P++,re++)P in $&&S(le,re,$[P]);else x(re+1),S(le,re++,$);return le.length=re,le}})},4382:function(a,l,o){var u=o(8612),c=o(2867).filter;u({target:"Array",proto:!0,forced:!o(4595)("filter")},{filter:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}})},9892:function(a,l,o){var u=o(8612),c=o(6142);u({target:"Array",stat:!0,forced:!o(1554)(function(f){Array.from(f)})},{from:c})},4962:function(a,l,o){var u=o(5599),c=o(7095),f=o(6775),p=o(4483),g=o(5835).f,v=o(5662),x=o(5247),S=o(9557),_=o(382),w="Array Iterator",E=p.set,T=p.getterFor(w);a.exports=v(Array,"Array",function(A,O){E(this,{type:w,target:u(A),index:0,kind:O})},function(){var A=T(this),O=A.target,U=A.index++;if(!O||U>=O.length)return A.target=void 0,x(void 0,!0);switch(A.kind){case"keys":return x(U,!1);case"values":return x(O[U],!1)}return x([U,O[U]],!1)},"values");var L=f.Arguments=f.Array;if(c("keys"),c("values"),c("entries"),!S&&_&&L.name!=="values")try{g(L,"name",{value:"values"})}catch{}},6216:function(a,l,o){var u=o(8612),c=o(4762),f=o(2121),p=o(5599),g=o(3152),v=c([].join);u({target:"Array",proto:!0,forced:f!==Object||!g("join",",")},{join:function(x){return v(p(this),x===void 0?",":x)}})},6584:function(a,l,o){var u=o(8612),c=o(2867).map;u({target:"Array",proto:!0,forced:!o(4595)("map")},{map:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}})},9336:function(a,l,o){var u=o(8612),c=o(4914),f=o(943),p=o(1704),g=o(3392),v=o(6960),x=o(5599),S=o(670),_=o(1),w=o(4595),E=o(1698),T=w("slice"),L=_("species"),A=Array,O=Math.max;u({target:"Array",proto:!0,forced:!T},{slice:function(U,F){var P,N,K,$=x(this),j=v($),le=g(U,j),re=g(F===void 0?j:F,j);if(c($)&&(P=$.constructor,(f(P)&&(P===A||c(P.prototype))||p(P)&&(P=P[L])===null)&&(P=void 0),P===A||P===void 0))return E($,le,re);for(N=new(P===void 0?A:P)(O(re-le,0)),K=0;le<re;le++,K++)le in $&&S(N,K,$[le]);return N.length=K,N}})},4576:function(a,l,o){var u=o(8612),c=o(2347),f=o(3392),p=o(3005),g=o(6960),v=o(9273),x=o(1091),S=o(4551),_=o(670),w=o(6060),E=o(4595)("splice"),T=Math.max,L=Math.min;u({target:"Array",proto:!0,forced:!E},{splice:function(A,O){var U,F,P,N,K,$,j=c(this),le=g(j),re=f(A,le),W=arguments.length;for(W===0?U=F=0:W===1?(U=0,F=le-re):(U=W-2,F=L(T(p(O),0),le-re)),x(le+U-F),P=S(j,F),N=0;N<F;N++)(K=re+N)in j&&_(P,N,j[K]);if(P.length=F,U<F){for(N=re;N<le-F;N++)$=N+U,(K=N+F)in j?j[$]=j[K]:w(j,$);for(N=le;N>le-F+U;N--)w(j,N-1)}else if(U>F)for(N=le-F;N>re;N--)$=N+U-1,(K=N+F-1)in j?j[$]=j[K]:w(j,$);for(N=0;N<U;N++)j[N+re]=arguments[N+2];return v(j,le-F+U),P}})},1908:function(a,l,o){var u=o(382),c=o(2048).EXISTS,f=o(4762),p=o(3864),g=Function.prototype,v=f(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=f(x.exec);u&&!c&&p(g,"name",{configurable:!0,get:function(){try{return S(x,v(this))[1]}catch{return""}}})},5055:function(a,l,o){var u=o(8612),c=o(8389);u({global:!0,forced:c.globalThis!==c},{globalThis:c})},6184:function(a,l,o){var u=o(8612),c=o(1409),f=o(3067),p=o(1807),g=o(4762),v=o(8473),x=o(1483),S=o(1423),_=o(1698),w=o(5215),E=o(6029),T=String,L=c("JSON","stringify"),A=g(/./.exec),O=g("".charAt),U=g("".charCodeAt),F=g("".replace),P=g(1 .toString),N=/[\uD800-\uDFFF]/g,K=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,j=!E||v(function(){var G=c("Symbol")("stringify detection");return L([G])!=="[null]"||L({a:G})!=="{}"||L(Object(G))!=="{}"}),le=v(function(){return L("\uDF06\uD834")!=='"\\udf06\\ud834"'||L("\uDEAD")!=='"\\udead"'}),re=function(G,V){var k=_(arguments),ie=w(V);if(x(ie)||G!==void 0&&!S(G))return k[1]=function(te,se){if(x(ie)&&(se=p(ie,this,T(te),se)),!S(se))return se},f(L,null,k)},W=function(G,V,k){var ie=O(k,V-1),te=O(k,V+1);return A(K,G)&&!A($,te)||A($,G)&&!A(K,ie)?"\\u"+P(U(G,0),16):G};L&&u({target:"JSON",stat:!0,arity:3,forced:j||le},{stringify:function(G,V,k){var ie=_(arguments),te=f(j?re:L,null,ie);return le&&typeof te=="string"?F(te,N,W):te}})},849:function(a,l,o){var u=o(8389);o(2277)(u.JSON,"JSON",!0)},389:function(a,l,o){o(2277)(Math,"Math",!0)},8338:function(a,l,o){o(8612)({target:"Number",stat:!0},{isFinite:o(5574)})},7575:function(a,l,o){var u=o(8612),c=o(1439);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==c},{assign:c})},7132:function(a,l,o){var u=o(8612),c=o(5627).entries;u({target:"Object",stat:!0},{entries:function(f){return c(f)}})},6457:function(a,l,o){var u=o(8612),c=o(8473),f=o(5599),p=o(4961).f,g=o(382);u({target:"Object",stat:!0,forced:!g||c(function(){p(1)}),sham:!g},{getOwnPropertyDescriptor:function(v,x){return p(f(v),x)}})},8908:function(a,l,o){var u=o(8612),c=o(382),f=o(9497),p=o(5599),g=o(4961),v=o(670);u({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(x){for(var S,_,w=p(x),E=g.f,T=f(w),L={},A=0;T.length>A;)(_=E(w,S=T[A++]))!==void 0&&v(L,S,_);return L}})},718:function(a,l,o){var u=o(8612),c=o(8473),f=o(2020).f;u({target:"Object",stat:!0,forced:c(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},240:function(a,l,o){var u=o(8612),c=o(6029),f=o(8473),p=o(4347),g=o(2347);u({target:"Object",stat:!0,forced:!c||f(function(){p.f(1)})},{getOwnPropertySymbols:function(v){var x=p.f;return x?x(g(v)):[]}})},6437:function(a,l,o){var u=o(8612),c=o(8473),f=o(2347),p=o(3181),g=o(9441);u({target:"Object",stat:!0,forced:c(function(){p(1)}),sham:!g},{getPrototypeOf:function(v){return p(f(v))}})},3810:function(a,l,o){var u=o(8612),c=o(2347),f=o(3658);u({target:"Object",stat:!0,forced:o(8473)(function(){f(1)})},{keys:function(p){return f(c(p))}})},8557:function(a,l,o){var u=o(4338),c=o(7914),f=o(5685);u||c(Object.prototype,"toString",f,{unsafe:!0})},6249:function(a,l,o){var u=o(8612),c=o(1807),f=o(8120),p=o(1173),g=o(4193),v=o(1506);u({target:"Promise",stat:!0,forced:o(1407)},{all:function(x){var S=this,_=p.f(S),w=_.resolve,E=_.reject,T=g(function(){var L=f(S.resolve),A=[],O=0,U=1;v(x,function(F){var P=O++,N=!1;U++,c(L,S,F).then(function(K){N||(N=!0,A[P]=K,--U||w(A))},E)}),--U||w(A)});return T.error&&E(T.value),_.promise}})},6681:function(a,l,o){var u=o(8612),c=o(9557),f=o(5502).CONSTRUCTOR,p=o(2832),g=o(1409),v=o(1483),x=o(7914),S=p&&p.prototype;if(u({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(w){return this.then(void 0,w)}}),!c&&v(p)){var _=g("Promise").prototype.catch;S.catch!==_&&x(S,"catch",_,{unsafe:!0})}},8786:function(a,l,o){var u,c,f,p=o(8612),g=o(9557),v=o(4334),x=o(8389),S=o(1807),_=o(7914),w=o(1953),E=o(2277),T=o(7859),L=o(8120),A=o(1483),O=o(1704),U=o(6021),F=o(483),P=o(7007).set,N=o(553),K=o(1339),$=o(4193),j=o(5459),le=o(4483),re=o(2832),W=o(5502),G=o(1173),V="Promise",k=W.CONSTRUCTOR,ie=W.REJECTION_EVENT,te=W.SUBCLASSING,se=le.getterFor(V),oe=le.set,ve=re&&re.prototype,xe=re,he=ve,Ue=x.TypeError,ke=x.document,Qe=x.process,Le=G.f,Q=Le,He=!!(ke&&ke.createEvent&&x.dispatchEvent),Pe="unhandledrejection",Je=function(pe){var Ge;return!(!O(pe)||!A(Ge=pe.then))&&Ge},Ye=function(pe,Ge){var Fe,nt,Ce,De=Ge.value,Ut=Ge.state===1,Bt=Ut?pe.ok:pe.fail,Ct=pe.resolve,wt=pe.reject,ut=pe.domain;try{Bt?(Ut||(Ge.rejection===2&&Ie(Ge),Ge.rejection=1),Bt===!0?Fe=De:(ut&&ut.enter(),Fe=Bt(De),ut&&(ut.exit(),Ce=!0)),Fe===pe.promise?wt(new Ue("Promise-chain cycle")):(nt=Je(Fe))?S(nt,Fe,Ct,wt):Ct(Fe)):wt(De)}catch(It){ut&&!Ce&&ut.exit(),wt(It)}},mt=function(pe,Ge){pe.notified||(pe.notified=!0,N(function(){for(var Fe,nt=pe.reactions;Fe=nt.get();)Ye(Fe,pe);pe.notified=!1,Ge&&!pe.rejection&&ne(pe)}))},gt=function(pe,Ge,Fe){var nt,Ce;He?((nt=ke.createEvent("Event")).promise=Ge,nt.reason=Fe,nt.initEvent(pe,!1,!0),x.dispatchEvent(nt)):nt={promise:Ge,reason:Fe},!ie&&(Ce=x["on"+pe])?Ce(nt):pe===Pe&&K("Unhandled promise rejection",Fe)},ne=function(pe){S(P,x,function(){var Ge,Fe=pe.facade,nt=pe.value;if(Y(pe)&&(Ge=$(function(){v?Qe.emit("unhandledRejection",nt,Fe):gt(Pe,Fe,nt)}),pe.rejection=v||Y(pe)?2:1,Ge.error))throw Ge.value})},Y=function(pe){return pe.rejection!==1&&!pe.parent},Ie=function(pe){S(P,x,function(){var Ge=pe.facade;v?Qe.emit("rejectionHandled",Ge):gt("rejectionhandled",Ge,pe.value)})},st=function(pe,Ge,Fe){return function(nt){pe(Ge,nt,Fe)}},ot=function(pe,Ge,Fe){pe.done||(pe.done=!0,Fe&&(pe=Fe),pe.value=Ge,pe.state=2,mt(pe,!0))},be=function(pe,Ge,Fe){if(!pe.done){pe.done=!0,Fe&&(pe=Fe);try{if(pe.facade===Ge)throw new Ue("Promise can't be resolved itself");var nt=Je(Ge);nt?N(function(){var Ce={done:!1};try{S(nt,Ge,st(be,Ce,pe),st(ot,Ce,pe))}catch(De){ot(Ce,De,pe)}}):(pe.value=Ge,pe.state=1,mt(pe,!1))}catch(Ce){ot({done:!1},Ce,pe)}}};if(k&&(he=(xe=function(pe){U(this,he),L(pe),S(u,this);var Ge=se(this);try{pe(st(be,Ge),st(ot,Ge))}catch(Fe){ot(Ge,Fe)}}).prototype,(u=function(pe){oe(this,{type:V,done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:void 0})}).prototype=_(he,"then",function(pe,Ge){var Fe=se(this),nt=Le(F(this,xe));return Fe.parent=!0,nt.ok=!A(pe)||pe,nt.fail=A(Ge)&&Ge,nt.domain=v?Qe.domain:void 0,Fe.state===0?Fe.reactions.add(nt):N(function(){Ye(nt,Fe)}),nt.promise}),c=function(){var pe=new u,Ge=se(pe);this.promise=pe,this.resolve=st(be,Ge),this.reject=st(ot,Ge)},G.f=Le=function(pe){return pe===xe||pe===void 0?new c(pe):Q(pe)},!g&&A(re)&&ve!==Object.prototype)){f=ve.then,te||_(ve,"then",function(pe,Ge){var Fe=this;return new xe(function(nt,Ce){S(f,Fe,nt,Ce)}).then(pe,Ge)},{unsafe:!0});try{delete ve.constructor}catch{}w&&w(ve,he)}p({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:xe}),E(xe,V,!1,!0),T(V)},76:function(a,l,o){o(8786),o(6249),o(6681),o(1681),o(9231),o(5774)},1681:function(a,l,o){var u=o(8612),c=o(1807),f=o(8120),p=o(1173),g=o(4193),v=o(1506);u({target:"Promise",stat:!0,forced:o(1407)},{race:function(x){var S=this,_=p.f(S),w=_.reject,E=g(function(){var T=f(S.resolve);v(x,function(L){c(T,S,L).then(_.resolve,w)})});return E.error&&w(E.value),_.promise}})},9231:function(a,l,o){var u=o(8612),c=o(1173);u({target:"Promise",stat:!0,forced:o(5502).CONSTRUCTOR},{reject:function(f){var p=c.f(this);return(0,p.reject)(f),p.promise}})},5774:function(a,l,o){var u=o(8612),c=o(1409),f=o(9557),p=o(2832),g=o(5502).CONSTRUCTOR,v=o(2172),x=c("Promise"),S=f&&!g;u({target:"Promise",stat:!0,forced:f||g},{resolve:function(_){return v(S&&this===x?p:this,_)}})},646:function(a,l,o){var u=o(382),c=o(8389),f=o(4762),p=o(8730),g=o(2429),v=o(9037),x=o(5290),S=o(2278).f,_=o(4815),w=o(4786),E=o(6261),T=o(9736),L=o(7435),A=o(7150),O=o(7914),U=o(8473),F=o(5755),P=o(4483).enforce,N=o(7859),K=o(1),$=o(3933),j=o(4528),le=K("match"),re=c.RegExp,W=re.prototype,G=c.SyntaxError,V=f(W.exec),k=f("".charAt),ie=f("".replace),te=f("".indexOf),se=f("".slice),oe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ve=/a/g,xe=/a/g,he=new re(ve)!==ve,Ue=L.MISSED_STICKY,ke=L.UNSUPPORTED_Y;if(p("RegExp",u&&(!he||Ue||$||j||U(function(){return xe[le]=!1,re(ve)!==ve||re(xe)===xe||String(re(ve,"i"))!=="/a/i"})))){for(var Qe=function(He,Pe){var Je,Ye,mt,gt,ne,Y,Ie=_(W,this),st=w(He),ot=Pe===void 0,be=[],pe=He;if(!Ie&&st&&ot&&He.constructor===Qe)return He;if((st||_(W,He))&&(He=He.source,ot&&(Pe=T(pe))),He=He===void 0?"":E(He),Pe=Pe===void 0?"":E(Pe),pe=He,$&&"dotAll"in ve&&(Ye=!!Pe&&te(Pe,"s")>-1)&&(Pe=ie(Pe,/s/g,"")),Je=Pe,Ue&&"sticky"in ve&&(mt=!!Pe&&te(Pe,"y")>-1)&&ke&&(Pe=ie(Pe,/y/g,"")),j&&(gt=function(Ge){for(var Fe,nt=Ge.length,Ce=0,De="",Ut=[],Bt=x(null),Ct=!1,wt=!1,ut=0,It="";Ce<=nt;Ce++){if((Fe=k(Ge,Ce))==="\\")Fe+=k(Ge,++Ce);else if(Fe==="]")Ct=!1;else if(!Ct)switch(!0){case Fe==="[":Ct=!0;break;case Fe==="(":V(oe,se(Ge,Ce+1))&&(Ce+=2,wt=!0),De+=Fe,ut++;continue;case(Fe===">"&&wt):if(It===""||F(Bt,It))throw new G("Invalid capture group name");Bt[It]=!0,Ut[Ut.length]=[It,ut],wt=!1,It="";continue}wt?It+=Fe:De+=Fe}return[De,Ut]}(He),He=gt[0],be=gt[1]),ne=g(re(He,Pe),Ie?this:W,Qe),(Ye||mt||be.length)&&(Y=P(ne),Ye&&(Y.dotAll=!0,Y.raw=Qe(function(Ge){for(var Fe,nt=Ge.length,Ce=0,De="",Ut=!1;Ce<=nt;Ce++)(Fe=k(Ge,Ce))!=="\\"?Ut||Fe!=="."?(Fe==="["?Ut=!0:Fe==="]"&&(Ut=!1),De+=Fe):De+="[\\s\\S]":De+=Fe+k(Ge,++Ce);return De}(He),Je)),mt&&(Y.sticky=!0),be.length&&(Y.groups=be)),He!==pe)try{v(ne,"source",pe===""?"(?:)":pe)}catch{}return ne},Le=S(re),Q=0;Le.length>Q;)A(Qe,re,Le[Q++]);W.constructor=Qe,Qe.prototype=W,O(c,"RegExp",Qe,{constructor:!0})}N("RegExp")},5021:function(a,l,o){var u=o(8612),c=o(8865);u({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},3687:function(a,l,o){var u=o(2048).PROPER,c=o(7914),f=o(2293),p=o(6261),g=o(8473),v=o(9736),x="toString",S=RegExp.prototype,_=S[x],w=g(function(){return _.call({source:"a",flags:"b"})!=="/a/b"}),E=u&&_.name!==x;(w||E)&&c(S,x,function(){var T=f(this);return"/"+p(T.source)+"/"+p(v(T))},{unsafe:!0})},3368:function(a,l,o){var u,c=o(8612),f=o(3786),p=o(4961).f,g=o(8324),v=o(6261),x=o(4989),S=o(3312),_=o(4522),w=o(9557),E=f("".slice),T=Math.min,L=_("endsWith");c({target:"String",proto:!0,forced:!(!w&&!L&&(u=p(String.prototype,"endsWith"),u&&!u.writable)||L)},{endsWith:function(A){var O=v(S(this));x(A);var U=arguments.length>1?arguments[1]:void 0,F=O.length,P=U===void 0?F:T(g(U),F),N=v(A);return E(O,P-N.length,P)===N}})},3994:function(a,l,o){var u=o(9105).charAt,c=o(6261),f=o(4483),p=o(5662),g=o(5247),v="String Iterator",x=f.set,S=f.getterFor(v);p(String,"String",function(_){x(this,{type:v,string:c(_),index:0})},function(){var _,w=S(this),E=w.string,T=w.index;return T>=E.length?g(void 0,!0):(_=u(E,T),w.index+=_.length,g(_,!1))})},81:function(a,l,o){var u=o(8612),c=o(1807),f=o(3786),p=o(1040),g=o(5247),v=o(3312),x=o(8324),S=o(6261),_=o(2293),w=o(5983),E=o(1278),T=o(4786),L=o(9736),A=o(2564),O=o(7914),U=o(8473),F=o(1),P=o(483),N=o(4419),K=o(2428),$=o(4483),j=o(9557),le=F("matchAll"),re="RegExp String",W=re+" Iterator",G=$.set,V=$.getterFor(W),k=RegExp.prototype,ie=TypeError,te=f("".indexOf),se=f("".matchAll),oe=!!se&&!U(function(){se("a",/./)}),ve=p(function(he,Ue,ke,Qe){G(this,{type:W,regexp:he,string:Ue,global:ke,unicode:Qe,done:!1})},re,function(){var he=V(this);if(he.done)return g(void 0,!0);var Ue=he.regexp,ke=he.string,Qe=K(Ue,ke);return Qe===null?(he.done=!0,g(void 0,!0)):he.global?(S(Qe[0])===""&&(Ue.lastIndex=N(ke,x(Ue.lastIndex),he.unicode)),g(Qe,!1)):(he.done=!0,g(Qe,!1))}),xe=function(he){var Ue,ke,Qe,Le=_(this),Q=S(he),He=P(Le,RegExp),Pe=S(L(Le));return Ue=new He(He===RegExp?Le.source:Le,Pe),ke=!!~te(Pe,"g"),Qe=!!~te(Pe,"u"),Ue.lastIndex=x(Le.lastIndex),new ve(Ue,Q,ke,Qe)};u({target:"String",proto:!0,forced:oe},{matchAll:function(he){var Ue,ke,Qe,Le,Q=v(this);if(w(he)){if(oe)return se(Q,he)}else{if(T(he)&&(Ue=S(v(L(he))),!~te(Ue,"g")))throw new ie("`.matchAll` does not allow non-global regexes");if(oe)return se(Q,he);if((Qe=A(he,le))===void 0&&j&&E(he)==="RegExp"&&(Qe=xe),Qe)return c(Qe,he,Q)}return ke=S(Q),Le=new RegExp(he,"g"),j?c(xe,Le,ke):Le[le](ke)}}),j||le in k||O(k,le,xe)},3819:function(a,l,o){var u=o(1807),c=o(3358),f=o(2293),p=o(5983),g=o(8324),v=o(6261),x=o(3312),S=o(2564),_=o(4419),w=o(2428);c("match",function(E,T,L){return[function(A){var O=x(this),U=p(A)?void 0:S(A,E);return U?u(U,A,O):new RegExp(A)[E](v(O))},function(A){var O=f(this),U=v(A),F=L(T,O,U);if(F.done)return F.value;if(!O.global)return w(O,U);var P=O.unicode;O.lastIndex=0;for(var N,K=[],$=0;(N=w(O,U))!==null;){var j=v(N[0]);K[$]=j,j===""&&(O.lastIndex=_(U,g(O.lastIndex),P)),$++}return $===0?null:K}]})},3062:function(a,l,o){var u=o(3067),c=o(1807),f=o(4762),p=o(3358),g=o(8473),v=o(2293),x=o(1483),S=o(5983),_=o(3005),w=o(8324),E=o(6261),T=o(3312),L=o(4419),A=o(2564),O=o(708),U=o(2428),F=o(1)("replace"),P=Math.max,N=Math.min,K=f([].concat),$=f([].push),j=f("".indexOf),le=f("".slice),re="a".replace(/./,"$0")==="$0",W=!!/./[F]&&/./[F]("a","$0")==="";p("replace",function(G,V,k){var ie=W?"$":"$0";return[function(te,se){var oe=T(this),ve=S(te)?void 0:A(te,F);return ve?c(ve,te,oe,se):c(V,E(oe),te,se)},function(te,se){var oe=v(this),ve=E(te);if(typeof se=="string"&&j(se,ie)===-1&&j(se,"$<")===-1){var xe=k(V,oe,ve,se);if(xe.done)return xe.value}var he=x(se);he||(se=E(se));var Ue,ke=oe.global;ke&&(Ue=oe.unicode,oe.lastIndex=0);for(var Qe,Le=[];(Qe=U(oe,ve))!==null&&($(Le,Qe),ke);)E(Qe[0])===""&&(oe.lastIndex=L(ve,w(oe.lastIndex),Ue));for(var Q,He="",Pe=0,Je=0;Je<Le.length;Je++){for(var Ye,mt=E((Qe=Le[Je])[0]),gt=P(N(_(Qe.index),ve.length),0),ne=[],Y=1;Y<Qe.length;Y++)$(ne,(Q=Qe[Y])===void 0?Q:String(Q));var Ie=Qe.groups;if(he){var st=K([mt],ne,gt,ve);Ie!==void 0&&$(st,Ie),Ye=E(u(se,void 0,st))}else Ye=O(mt,ve,gt,ne,Ie,se);gt>=Pe&&(He+=le(ve,Pe,gt)+Ye,Pe=gt+mt.length)}return He+le(ve,Pe)}]},!!g(function(){var G=/./;return G.exec=function(){var V=[];return V.groups={a:"7"},V},"".replace(G,"$<a>")!=="7"})||!re||W)},7456:function(a,l,o){var u=o(1807),c=o(3358),f=o(2293),p=o(5983),g=o(3312),v=o(5420),x=o(6261),S=o(2564),_=o(2428);c("search",function(w,E,T){return[function(L){var A=g(this),O=p(L)?void 0:S(L,w);return O?u(O,L,A):new RegExp(L)[w](x(A))},function(L){var A=f(this),O=x(L),U=T(E,A,O);if(U.done)return U.value;var F=A.lastIndex;v(F,0)||(A.lastIndex=0);var P=_(A,O);return v(A.lastIndex,F)||(A.lastIndex=F),P===null?-1:P.index}]})},1810:function(a,l,o){var u=o(1807),c=o(4762),f=o(3358),p=o(2293),g=o(5983),v=o(3312),x=o(483),S=o(4419),_=o(8324),w=o(6261),E=o(2564),T=o(2428),L=o(7435),A=o(8473),O=L.UNSUPPORTED_Y,U=Math.min,F=c([].push),P=c("".slice),N=!A(function(){var $=/(?:)/,j=$.exec;$.exec=function(){return j.apply(this,arguments)};var le="ab".split($);return le.length!==2||le[0]!=="a"||le[1]!=="b"}),K="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",function($,j,le){var re="0".split(void 0,0).length?function(W,G){return W===void 0&&G===0?[]:u(j,this,W,G)}:j;return[function(W,G){var V=v(this),k=g(W)?void 0:E(W,$);return k?u(k,W,V,G):u(re,w(V),W,G)},function(W,G){var V=p(this),k=w(W);if(!K){var ie=le(re,V,k,G,re!==j);if(ie.done)return ie.value}var te=x(V,RegExp),se=V.unicode,oe=(V.ignoreCase?"i":"")+(V.multiline?"m":"")+(V.unicode?"u":"")+(O?"g":"y"),ve=new te(O?"^(?:"+V.source+")":V,oe),xe=G===void 0?4294967295:G>>>0;if(xe===0)return[];if(k.length===0)return T(ve,k)===null?[k]:[];for(var he=0,Ue=0,ke=[];Ue<k.length;){ve.lastIndex=O?0:Ue;var Qe,Le=T(ve,O?P(k,Ue):k);if(Le===null||(Qe=U(_(ve.lastIndex+(O?Ue:0)),k.length))===he)Ue=S(k,Ue,se);else{if(F(ke,P(k,he,Ue)),ke.length===xe)return ke;for(var Q=1;Q<=Le.length-1;Q++)if(F(ke,Le[Q]),ke.length===xe)return ke;Ue=he=Qe}}return F(ke,P(k,he)),ke}]},K||!N,O)},6968:function(a,l,o){var u=o(8612),c=o(4544).trim;u({target:"String",proto:!0,forced:o(3172)("trim")},{trim:function(){return c(this)}})},5443:function(a,l,o){var u=o(8612),c=o(8389),f=o(1807),p=o(4762),g=o(9557),v=o(382),x=o(6029),S=o(8473),_=o(5755),w=o(4815),E=o(2293),T=o(5599),L=o(3815),A=o(6261),O=o(7738),U=o(5290),F=o(3658),P=o(2278),N=o(2020),K=o(4347),$=o(4961),j=o(5835),le=o(5799),re=o(7611),W=o(7914),G=o(3864),V=o(7255),k=o(5409),ie=o(1507),te=o(1866),se=o(1),oe=o(5373),ve=o(7849),xe=o(8192),he=o(2277),Ue=o(4483),ke=o(2867).forEach,Qe=k("hidden"),Le="Symbol",Q="prototype",He=Ue.set,Pe=Ue.getterFor(Le),Je=Object[Q],Ye=c.Symbol,mt=Ye&&Ye[Q],gt=c.RangeError,ne=c.TypeError,Y=c.QObject,Ie=$.f,st=j.f,ot=N.f,be=re.f,pe=p([].push),Ge=V("symbols"),Fe=V("op-symbols"),nt=V("wks"),Ce=!Y||!Y[Q]||!Y[Q].findChild,De=function(Tt,Rt,ce){var Re=Ie(Je,Rt);Re&&delete Je[Rt],st(Tt,Rt,ce),Re&&Tt!==Je&&st(Je,Rt,Re)},Ut=v&&S(function(){return U(st({},"a",{get:function(){return st(this,"a",{value:7}).a}})).a!==7})?De:st,Bt=function(Tt,Rt){var ce=Ge[Tt]=U(mt);return He(ce,{type:Le,tag:Tt,description:Rt}),v||(ce.description=Rt),ce},Ct=function(Tt,Rt,ce){Tt===Je&&Ct(Fe,Rt,ce),E(Tt);var Re=L(Rt);return E(ce),_(Ge,Re)?(ce.enumerable?(_(Tt,Qe)&&Tt[Qe][Re]&&(Tt[Qe][Re]=!1),ce=U(ce,{enumerable:O(0,!1)})):(_(Tt,Qe)||st(Tt,Qe,O(1,U(null))),Tt[Qe][Re]=!0),Ut(Tt,Re,ce)):st(Tt,Re,ce)},wt=function(Tt,Rt){E(Tt);var ce=T(Rt),Re=F(ce).concat(Mn(ce));return ke(Re,function(We){v&&!f(ut,ce,We)||Ct(Tt,We,ce[We])}),Tt},ut=function(Tt){var Rt=L(Tt),ce=f(be,this,Rt);return!(this===Je&&_(Ge,Rt)&&!_(Fe,Rt))&&(!(ce||!_(this,Rt)||!_(Ge,Rt)||_(this,Qe)&&this[Qe][Rt])||ce)},It=function(Tt,Rt){var ce=T(Tt),Re=L(Rt);if(ce!==Je||!_(Ge,Re)||_(Fe,Re)){var We=Ie(ce,Re);return!We||!_(Ge,Re)||_(ce,Qe)&&ce[Qe][Re]||(We.enumerable=!0),We}},Kt=function(Tt){var Rt=ot(T(Tt)),ce=[];return ke(Rt,function(Re){_(Ge,Re)||_(ie,Re)||pe(ce,Re)}),ce},Mn=function(Tt){var Rt=Tt===Je,ce=ot(Rt?Fe:T(Tt)),Re=[];return ke(ce,function(We){!_(Ge,We)||Rt&&!_(Je,We)||pe(Re,Ge[We])}),Re};x||(Ye=function(){if(w(mt,this))throw new ne("Symbol is not a constructor");var Tt=arguments.length&&arguments[0]!==void 0?A(arguments[0]):void 0,Rt=te(Tt),ce=function(Re){var We=this===void 0?c:this;We===Je&&f(ce,Fe,Re),_(We,Qe)&&_(We[Qe],Rt)&&(We[Qe][Rt]=!1);var dt=O(1,Re);try{Ut(We,Rt,dt)}catch(St){if(!(St instanceof gt))throw St;De(We,Rt,dt)}};return v&&Ce&&Ut(Je,Rt,{configurable:!0,set:ce}),Bt(Rt,Tt)},W(mt=Ye[Q],"toString",function(){return Pe(this).tag}),W(Ye,"withoutSetter",function(Tt){return Bt(te(Tt),Tt)}),re.f=ut,j.f=Ct,le.f=wt,$.f=It,P.f=N.f=Kt,K.f=Mn,oe.f=function(Tt){return Bt(se(Tt),Tt)},v&&(G(mt,"description",{configurable:!0,get:function(){return Pe(this).description}}),g||W(Je,"propertyIsEnumerable",ut,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Ye}),ke(F(nt),function(Tt){ve(Tt)}),u({target:Le,stat:!0,forced:!x},{useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),u({target:"Object",stat:!0,forced:!x,sham:!v},{create:function(Tt,Rt){return Rt===void 0?U(Tt):wt(U(Tt),Rt)},defineProperty:Ct,defineProperties:wt,getOwnPropertyDescriptor:It}),u({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Kt}),xe(),he(Ye,Le),ie[Qe]=!0},2733:function(a,l,o){var u=o(8612),c=o(382),f=o(8389),p=o(4762),g=o(5755),v=o(1483),x=o(4815),S=o(6261),_=o(3864),w=o(6726),E=f.Symbol,T=E&&E.prototype;if(c&&v(E)&&(!("description"in T)||E().description!==void 0)){var L={},A=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),j=x(T,this)?new E($):$===void 0?E():E($);return $===""&&(L[j]=!0),j};w(A,E),A.prototype=T,T.constructor=A;var O=String(E("description detection"))==="Symbol(description detection)",U=p(T.valueOf),F=p(T.toString),P=/^Symbol\((.*)\)[^)]+$/,N=p("".replace),K=p("".slice);_(T,"description",{configurable:!0,get:function(){var $=U(this);if(g(L,$))return"";var j=F($),le=O?K(j,7,-1):N(j,P,"$1");return le===""?void 0:le}}),u({global:!0,constructor:!0,forced:!0},{Symbol:A})}},2484:function(a,l,o){var u=o(8612),c=o(1409),f=o(5755),p=o(6261),g=o(7255),v=o(3218),x=g("string-to-symbol-registry"),S=g("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!v},{for:function(_){var w=p(_);if(f(x,w))return x[w];var E=c("Symbol")(w);return x[w]=E,S[E]=w,E}})},4701:function(a,l,o){o(7849)("iterator")},9305:function(a,l,o){o(5443),o(2484),o(1894),o(6184),o(240)},1894:function(a,l,o){var u=o(8612),c=o(5755),f=o(1423),p=o(8761),g=o(7255),v=o(3218),x=g("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!v},{keyFor:function(S){if(!f(S))throw new TypeError(p(S)+" is not a symbol");if(c(x,S))return x[S]}})},2623:function(a,l,o){var u=o(1409),c=o(7849),f=o(2277);c("toStringTag"),f(u("Symbol"),"Symbol")},3320:function(a,l,o){var u=o(4762),c=o(7534),f=u(o(3695)),p=c.aTypedArray;(0,c.exportTypedArrayMethod)("copyWithin",function(g,v){return f(p(this),g,v,arguments.length>2?arguments[2]:void 0)})},4716:function(a,l,o){var u=o(7534),c=o(2867).every,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("every",function(p){return c(f(this),p,arguments.length>1?arguments[1]:void 0)})},3054:function(a,l,o){var u=o(7534),c=o(8287),f=o(4052),p=o(6145),g=o(1807),v=o(4762),x=o(8473),S=u.aTypedArray,_=u.exportTypedArrayMethod,w=v("".slice);_("fill",function(E){var T=arguments.length;S(this);var L=w(p(this),0,3)==="Big"?f(E):+E;return g(c,this,L,T>1?arguments[1]:void 0,T>2?arguments[2]:void 0)},x(function(){var E=0;return new Int8Array(2).fill({valueOf:function(){return E++}}),E!==1}))},2281:function(a,l,o){var u=o(7534),c=o(2867).filter,f=o(7535),p=u.aTypedArray;(0,u.exportTypedArrayMethod)("filter",function(g){var v=c(p(this),g,arguments.length>1?arguments[1]:void 0);return f(this,v)})},9717:function(a,l,o){var u=o(7534),c=o(2867).findIndex,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("findIndex",function(p){return c(f(this),p,arguments.length>1?arguments[1]:void 0)})},3236:function(a,l,o){var u=o(7534),c=o(2867).find,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("find",function(p){return c(f(this),p,arguments.length>1?arguments[1]:void 0)})},2506:function(a,l,o){var u=o(7534),c=o(2867).forEach,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("forEach",function(p){c(f(this),p,arguments.length>1?arguments[1]:void 0)})},2650:function(a,l,o){var u=o(7534),c=o(6651).includes,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("includes",function(p){return c(f(this),p,arguments.length>1?arguments[1]:void 0)})},4581:function(a,l,o){var u=o(7534),c=o(6651).indexOf,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("indexOf",function(p){return c(f(this),p,arguments.length>1?arguments[1]:void 0)})},1937:function(a,l,o){var u=o(8389),c=o(8473),f=o(4762),p=o(7534),g=o(4962),v=o(1)("iterator"),x=u.Uint8Array,S=f(g.values),_=f(g.keys),w=f(g.entries),E=p.aTypedArray,T=p.exportTypedArrayMethod,L=x&&x.prototype,A=!c(function(){L[v].call([1])}),O=!!L&&L.values&&L[v]===L.values&&L.values.name==="values",U=function(){return S(E(this))};T("entries",function(){return w(E(this))},A),T("keys",function(){return _(E(this))},A),T("values",U,A||!O,{name:"values"}),T(v,U,A||!O,{name:"values"})},5683:function(a,l,o){var u=o(7534),c=o(4762),f=u.aTypedArray,p=u.exportTypedArrayMethod,g=c([].join);p("join",function(v){return g(f(this),v)})},5486:function(a,l,o){var u=o(7534),c=o(3067),f=o(8901),p=u.aTypedArray;(0,u.exportTypedArrayMethod)("lastIndexOf",function(g){var v=arguments.length;return c(f,p(this),v>1?[g,arguments[1]]:[g])})},4181:function(a,l,o){var u=o(7534),c=o(2867).map,f=o(6818),p=u.aTypedArray;(0,u.exportTypedArrayMethod)("map",function(g){return c(p(this),g,arguments.length>1?arguments[1]:void 0,function(v,x){return new(f(v))(x)})})},8750:function(a,l,o){var u=o(7534),c=o(8228).right,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("reduceRight",function(p){var g=arguments.length;return c(f(this),p,g,g>1?arguments[1]:void 0)})},1421:function(a,l,o){var u=o(7534),c=o(8228).left,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("reduce",function(p){var g=arguments.length;return c(f(this),p,g,g>1?arguments[1]:void 0)})},789:function(a,l,o){var u=o(7534),c=u.aTypedArray,f=u.exportTypedArrayMethod,p=Math.floor;f("reverse",function(){for(var g,v=this,x=c(v).length,S=p(x/2),_=0;_<S;)g=v[_],v[_++]=v[--x],v[x]=g;return v})},3171:function(a,l,o){var u=o(8389),c=o(1807),f=o(7534),p=o(6960),g=o(4579),v=o(2347),x=o(8473),S=u.RangeError,_=u.Int8Array,w=_&&_.prototype,E=w&&w.set,T=f.aTypedArray,L=f.exportTypedArrayMethod,A=!x(function(){var U=new Uint8ClampedArray(2);return c(E,U,{length:1,0:3},1),U[1]!==3}),O=A&&f.NATIVE_ARRAY_BUFFER_VIEWS&&x(function(){var U=new _(2);return U.set(1),U.set("2",1),U[0]!==0||U[1]!==2});L("set",function(U){T(this);var F=g(arguments.length>1?arguments[1]:void 0,1),P=v(U);if(A)return c(E,this,P,F);var N=this.length,K=p(P),$=0;if(K+F>N)throw new S("Wrong length");for(;$<K;)this[F+$]=P[$++]},!A||O)},7689:function(a,l,o){var u=o(7534),c=o(6818),f=o(8473),p=o(1698),g=u.aTypedArray;(0,u.exportTypedArrayMethod)("slice",function(v,x){for(var S=p(g(this),v,x),_=c(this),w=0,E=S.length,T=new _(E);E>w;)T[w]=S[w++];return T},f(function(){new Int8Array(1).slice()}))},4715:function(a,l,o){var u=o(7534),c=o(2867).some,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("some",function(p){return c(f(this),p,arguments.length>1?arguments[1]:void 0)})},9111:function(a,l,o){var u=o(8389),c=o(3786),f=o(8473),p=o(8120),g=o(7354),v=o(7534),x=o(7332),S=o(8996),_=o(6170),w=o(5158),E=v.aTypedArray,T=v.exportTypedArrayMethod,L=u.Uint16Array,A=L&&c(L.prototype.sort),O=!(!A||f(function(){A(new L(2),null)})&&f(function(){A(new L(2),{})})),U=!!A&&!f(function(){if(_)return _<74;if(x)return x<67;if(S)return!0;if(w)return w<602;var F,P,N=new L(516),K=Array(516);for(F=0;F<516;F++)P=F%4,N[F]=515-F,K[F]=F-2*P+3;for(A(N,function($,j){return($/4|0)-(j/4|0)}),F=0;F<516;F++)if(N[F]!==K[F])return!0});T("sort",function(F){return F!==void 0&&p(F),U?A(this,F):g(E(this),function(P){return function(N,K){return P!==void 0?+P(N,K)||0:K!=K?-1:N!=N?1:N===0&&K===0?1/N>0&&1/K<0?1:-1:N>K}}(F))},!U||O)},1788:function(a,l,o){var u=o(7534),c=o(8324),f=o(3392),p=o(6818),g=u.aTypedArray;(0,u.exportTypedArrayMethod)("subarray",function(v,x){var S=g(this),_=S.length,w=f(v,_);return new(p(S))(S.buffer,S.byteOffset+w*S.BYTES_PER_ELEMENT,c((x===void 0?_:f(x,_))-w))})},3015:function(a,l,o){var u=o(8389),c=o(3067),f=o(7534),p=o(8473),g=o(1698),v=u.Int8Array,x=f.aTypedArray,S=f.exportTypedArrayMethod,_=[].toLocaleString,w=!!v&&p(function(){_.call(new v(1))});S("toLocaleString",function(){return c(_,w?g(x(this)):x(this),g(arguments))},p(function(){return[1,2].toLocaleString()!==new v([1,2]).toLocaleString()})||!p(function(){v.prototype.toLocaleString.call([1,2])}))},7762:function(a,l,o){var u=o(7534).exportTypedArrayMethod,c=o(8473),f=o(8389),p=o(4762),g=f.Uint8Array,v=g&&g.prototype||{},x=[].toString,S=p([].join);c(function(){x.call({})})&&(x=function(){return S(this)});var _=v.toString!==x;u("toString",x,_)},6919:function(a,l,o){o(2961)("Uint8",function(u){return function(c,f,p){return u(this,c,f,p)}})},2402:function(a,l,o){o(5055)},8958:function(a,l,o){o(81)},3630:function(a,l,o){var u=o(8389),c=o(4842),f=o(1902),p=o(4793),g=o(9037),v=function(S){if(S&&S.forEach!==p)try{g(S,"forEach",p)}catch{S.forEach=p}};for(var x in c)c[x]&&v(u[x]&&u[x].prototype);v(f)},2367:function(a,l,o){var u=o(8389),c=o(4842),f=o(1902),p=o(4962),g=o(9037),v=o(2277),x=o(1)("iterator"),S=p.values,_=function(E,T){if(E){if(E[x]!==S)try{g(E,x,S)}catch{E[x]=S}if(v(E,T,!0),c[T]){for(var L in p)if(E[L]!==p[L])try{g(E,L,p[L])}catch{E[L]=p[L]}}}};for(var w in c)_(u[w]&&u[w].prototype,w);_(f,"DOMTokenList")},7192:function(a,l,o){o(4962);var u=o(8612),c=o(8389),f=o(8123),p=o(1807),g=o(4762),v=o(382),x=o(4250),S=o(7914),_=o(3864),w=o(2313),E=o(2277),T=o(1040),L=o(4483),A=o(6021),O=o(1483),U=o(5755),F=o(2914),P=o(6145),N=o(2293),K=o(1704),$=o(6261),j=o(5290),le=o(7738),re=o(4887),W=o(6665),G=o(5247),V=o(4066),k=o(1),ie=o(7354),te=k("iterator"),se="URLSearchParams",oe=se+"Iterator",ve=L.set,xe=L.getterFor(se),he=L.getterFor(oe),Ue=f("fetch"),ke=f("Request"),Qe=f("Headers"),Le=ke&&ke.prototype,Q=Qe&&Qe.prototype,He=c.RegExp,Pe=c.TypeError,Je=c.decodeURIComponent,Ye=c.encodeURIComponent,mt=g("".charAt),gt=g([].join),ne=g([].push),Y=g("".replace),Ie=g([].shift),st=g([].splice),ot=g("".split),be=g("".slice),pe=/\+/g,Ge=Array(4),Fe=function(Re){return Ge[Re-1]||(Ge[Re-1]=He("((?:%[\\da-f]{2}){"+Re+"})","gi"))},nt=function(Re){try{return Je(Re)}catch{return Re}},Ce=function(Re){var We=Y(Re,pe," "),dt=4;try{return Je(We)}catch{for(;dt;)We=Y(We,Fe(dt--),nt);return We}},De=/[!'()~]|%20/g,Ut={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Bt=function(Re){return Ut[Re]},Ct=function(Re){return Y(Ye(Re),De,Bt)},wt=T(function(Re,We){ve(this,{type:oe,target:xe(Re).entries,index:0,kind:We})},se,function(){var Re=he(this),We=Re.target,dt=Re.index++;if(!We||dt>=We.length)return Re.target=void 0,G(void 0,!0);var St=We[dt];switch(Re.kind){case"keys":return G(St.key,!1);case"values":return G(St.value,!1)}return G([St.key,St.value],!1)},!0),ut=function(Re){this.entries=[],this.url=null,Re!==void 0&&(K(Re)?this.parseObject(Re):this.parseQuery(typeof Re=="string"?mt(Re,0)==="?"?be(Re,1):Re:$(Re)))};ut.prototype={type:se,bindURL:function(Re){this.url=Re,this.update()},parseObject:function(Re){var We,dt,St,Gt,Qt,En,Nn,Tn=this.entries,lr=W(Re);if(lr)for(dt=(We=re(Re,lr)).next;!(St=p(dt,We)).done;){if(Qt=(Gt=re(N(St.value))).next,(En=p(Qt,Gt)).done||(Nn=p(Qt,Gt)).done||!p(Qt,Gt).done)throw new Pe("Expected sequence with length 2");ne(Tn,{key:$(En.value),value:$(Nn.value)})}else for(var Te in Re)U(Re,Te)&&ne(Tn,{key:Te,value:$(Re[Te])})},parseQuery:function(Re){if(Re)for(var We,dt,St=this.entries,Gt=ot(Re,"&"),Qt=0;Qt<Gt.length;)(We=Gt[Qt++]).length&&(dt=ot(We,"="),ne(St,{key:Ce(Ie(dt)),value:Ce(gt(dt,"="))}))},serialize:function(){for(var Re,We=this.entries,dt=[],St=0;St<We.length;)Re=We[St++],ne(dt,Ct(Re.key)+"="+Ct(Re.value));return gt(dt,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var It=function(){A(this,Kt);var Re=ve(this,new ut(arguments.length>0?arguments[0]:void 0));v||(this.size=Re.entries.length)},Kt=It.prototype;if(w(Kt,{append:function(Re,We){var dt=xe(this);V(arguments.length,2),ne(dt.entries,{key:$(Re),value:$(We)}),v||this.length++,dt.updateURL()},delete:function(Re){for(var We=xe(this),dt=V(arguments.length,1),St=We.entries,Gt=$(Re),Qt=dt<2?void 0:arguments[1],En=Qt===void 0?Qt:$(Qt),Nn=0;Nn<St.length;){var Tn=St[Nn];if(Tn.key!==Gt||En!==void 0&&Tn.value!==En)Nn++;else if(st(St,Nn,1),En!==void 0)break}v||(this.size=St.length),We.updateURL()},get:function(Re){var We=xe(this).entries;V(arguments.length,1);for(var dt=$(Re),St=0;St<We.length;St++)if(We[St].key===dt)return We[St].value;return null},getAll:function(Re){var We=xe(this).entries;V(arguments.length,1);for(var dt=$(Re),St=[],Gt=0;Gt<We.length;Gt++)We[Gt].key===dt&&ne(St,We[Gt].value);return St},has:function(Re){for(var We=xe(this).entries,dt=V(arguments.length,1),St=$(Re),Gt=dt<2?void 0:arguments[1],Qt=Gt===void 0?Gt:$(Gt),En=0;En<We.length;){var Nn=We[En++];if(Nn.key===St&&(Qt===void 0||Nn.value===Qt))return!0}return!1},set:function(Re,We){var dt=xe(this);V(arguments.length,1);for(var St,Gt=dt.entries,Qt=!1,En=$(Re),Nn=$(We),Tn=0;Tn<Gt.length;Tn++)(St=Gt[Tn]).key===En&&(Qt?st(Gt,Tn--,1):(Qt=!0,St.value=Nn));Qt||ne(Gt,{key:En,value:Nn}),v||(this.size=Gt.length),dt.updateURL()},sort:function(){var Re=xe(this);ie(Re.entries,function(We,dt){return We.key>dt.key?1:-1}),Re.updateURL()},forEach:function(Re){for(var We,dt=xe(this).entries,St=F(Re,arguments.length>1?arguments[1]:void 0),Gt=0;Gt<dt.length;)St((We=dt[Gt++]).value,We.key,this)},keys:function(){return new wt(this,"keys")},values:function(){return new wt(this,"values")},entries:function(){return new wt(this,"entries")}},{enumerable:!0}),S(Kt,te,Kt.entries,{name:"entries"}),S(Kt,"toString",function(){return xe(this).serialize()},{enumerable:!0}),v&&_(Kt,"size",{get:function(){return xe(this).entries.length},configurable:!0,enumerable:!0}),E(It,se),u({global:!0,constructor:!0,forced:!x},{URLSearchParams:It}),!x&&O(Qe)){var Mn=g(Q.has),Tt=g(Q.set),Rt=function(Re){if(K(Re)){var We,dt=Re.body;if(P(dt)===se)return We=Re.headers?new Qe(Re.headers):new Qe,Mn(We,"content-type")||Tt(We,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),j(Re,{body:le(0,$(dt)),headers:le(0,We)})}return Re};if(O(Ue)&&u({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(Re){return Ue(Re,arguments.length>1?Rt(arguments[1]):{})}}),O(ke)){var ce=function(Re){return A(this,Le),new ke(Re,arguments.length>1?Rt(arguments[1]):{})};Le.constructor=ce,ce.prototype=Le,u({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ce})}}a.exports={URLSearchParams:It,getState:xe}},9102:function(a,l,o){o(7192)}},r={};function i(a){var l=r[a];if(l!==void 0)return l.exports;var o=r[a]={exports:{}};return t[a].call(o.exports,o,o.exports,i),o.exports}i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,{a:l}),l},i.d=function(a,l){for(var o in l)i.o(l,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:l[o]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return function(){i.r(s),i.d(s,{createClient:function(){return Gl},createGlobalOptions:function(){return Ar}});var a={};function l(R,B){return function(){return R.apply(B,arguments)}}function o(R){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o(R)}i.r(a),i.d(a,{hasBrowserEnv:function(){return Ce},hasStandardBrowserEnv:function(){return De},hasStandardBrowserWebWorkerEnv:function(){return Ut}}),i(4962),i(8557),i(76),i(3994),i(2367),i(9305),i(2733),i(4701),i(2623),i(9336),i(6781),i(849),i(389),i(8338),i(7575),i(8908),i(718),i(6437),i(3810),i(5021),i(3687),i(3062),i(1810),i(6968),i(6919),i(3320),i(4716),i(3054),i(2281),i(3236),i(9717),i(2506),i(2650),i(4581),i(1937),i(5683),i(5486),i(4181),i(1421),i(8750),i(789),i(3171),i(7689),i(4715),i(9111),i(1788),i(3015),i(7762),i(2402),i(3630);var u,c=Object.prototype.toString,f=Object.getPrototypeOf,p=(u=Object.create(null),function(R){var B=c.call(R);return u[B]||(u[B]=B.slice(8,-1).toLowerCase())}),g=function(R){return R=R.toLowerCase(),function(B){return p(B)===R}},v=function(R){return function(B){return o(B)===R}},x=Array.isArray,S=v("undefined"),_=g("ArrayBuffer"),w=v("string"),E=v("function"),T=v("number"),L=function(R){return R!==null&&o(R)==="object"},A=function(R){if(p(R)!=="object")return!1;var B=f(R);return!(B!==null&&B!==Object.prototype&&Object.getPrototypeOf(B)!==null||Symbol.toStringTag in R||Symbol.iterator in R)},O=g("Date"),U=g("File"),F=g("Blob"),P=g("FileList"),N=g("URLSearchParams");function K(R,B){var H,X,J=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).allOwnKeys,de=J!==void 0&&J;if(R!=null)if(o(R)!=="object"&&(R=[R]),x(R))for(H=0,X=R.length;H<X;H++)B.call(null,R[H],H,R);else{var ue,Me=de?Object.getOwnPropertyNames(R):Object.keys(R),Se=Me.length;for(H=0;H<Se;H++)ue=Me[H],B.call(null,R[ue],ue,R)}}function $(R,B){B=B.toLowerCase();for(var H,X=Object.keys(R),J=X.length;J-- >0;)if(B===(H=X[J]).toLowerCase())return H;return null}var j,le,re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:mc,W=function(R){return!S(R)&&R!==re},G=(j=typeof Uint8Array<"u"&&f(Uint8Array),function(R){return j&&R instanceof j}),V=g("HTMLFormElement"),k=(le=Object.prototype.hasOwnProperty,function(R,B){return le.call(R,B)}),ie=g("RegExp"),te=function(R,B){var H=Object.getOwnPropertyDescriptors(R),X={};K(H,function(J,de){var ue;(ue=B(J,de,R))!==!1&&(X[de]=ue||J)}),Object.defineProperties(R,X)},se="abcdefghijklmnopqrstuvwxyz",oe="0123456789",ve={DIGIT:oe,ALPHA:se,ALPHA_DIGIT:se+se.toUpperCase()+oe},xe=g("AsyncFunction"),he={isArray:x,isArrayBuffer:_,isBuffer:function(R){return R!==null&&!S(R)&&R.constructor!==null&&!S(R.constructor)&&E(R.constructor.isBuffer)&&R.constructor.isBuffer(R)},isFormData:function(R){var B;return R&&(typeof FormData=="function"&&R instanceof FormData||E(R.append)&&((B=p(R))==="formdata"||B==="object"&&E(R.toString)&&R.toString()==="[object FormData]"))},isArrayBufferView:function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):R&&R.buffer&&_(R.buffer)},isString:w,isNumber:T,isBoolean:function(R){return R===!0||R===!1},isObject:L,isPlainObject:A,isUndefined:S,isDate:O,isFile:U,isBlob:F,isRegExp:ie,isFunction:E,isStream:function(R){return L(R)&&E(R.pipe)},isURLSearchParams:N,isTypedArray:G,isFileList:P,forEach:K,merge:function R(){for(var B=(W(this)&&this||{}).caseless,H={},X=function(ue,Me){var Se=B&&$(H,Me)||Me;A(H[Se])&&A(ue)?H[Se]=R(H[Se],ue):A(ue)?H[Se]=R({},ue):x(ue)?H[Se]=ue.slice():H[Se]=ue},J=0,de=arguments.length;J<de;J++)arguments[J]&&K(arguments[J],X);return H},extend:function(R,B,H){return K(B,function(X,J){H&&E(X)?R[J]=l(X,H):R[J]=X},{allOwnKeys:(arguments.length>3&&arguments[3]!==void 0?arguments[3]:{}).allOwnKeys}),R},trim:function(R){return R.trim?R.trim():R.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(R){return R.charCodeAt(0)===65279&&(R=R.slice(1)),R},inherits:function(R,B,H,X){R.prototype=Object.create(B.prototype,X),R.prototype.constructor=R,Object.defineProperty(R,"super",{value:B.prototype}),H&&Object.assign(R.prototype,H)},toFlatObject:function(R,B,H,X){var J,de,ue,Me={};if(B=B||{},R==null)return B;do{for(de=(J=Object.getOwnPropertyNames(R)).length;de-- >0;)ue=J[de],X&&!X(ue,R,B)||Me[ue]||(B[ue]=R[ue],Me[ue]=!0);R=H!==!1&&f(R)}while(R&&(!H||H(R,B))&&R!==Object.prototype);return B},kindOf:p,kindOfTest:g,endsWith:function(R,B,H){R=String(R),(H===void 0||H>R.length)&&(H=R.length),H-=B.length;var X=R.indexOf(B,H);return X!==-1&&X===H},toArray:function(R){if(!R)return null;if(x(R))return R;var B=R.length;if(!T(B))return null;for(var H=new Array(B);B-- >0;)H[B]=R[B];return H},forEachEntry:function(R,B){for(var H,X=(R&&R[Symbol.iterator]).call(R);(H=X.next())&&!H.done;){var J=H.value;B.call(R,J[0],J[1])}},matchAll:function(R,B){for(var H,X=[];(H=R.exec(B))!==null;)X.push(H);return X},isHTMLForm:V,hasOwnProperty:k,hasOwnProp:k,reduceDescriptors:te,freezeMethods:function(R){te(R,function(B,H){if(E(R)&&["arguments","caller","callee"].indexOf(H)!==-1)return!1;var X=R[H];E(X)&&(B.enumerable=!1,"writable"in B?B.writable=!1:B.set||(B.set=function(){throw Error("Can not rewrite read-only method '"+H+"'")}))})},toObjectSet:function(R,B){var H={},X=function(J){J.forEach(function(de){H[de]=!0})};return x(R)?X(R):X(String(R).split(B)),H},toCamelCase:function(R){return R.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(B,H,X){return H.toUpperCase()+X})},noop:function(){},toFiniteNumber:function(R,B){return R=+R,Number.isFinite(R)?R:B},findKey:$,global:re,isContextDefined:W,ALPHABET:ve,generateString:function(){for(var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ve.ALPHA_DIGIT,H="",X=B.length;R--;)H+=B[Math.random()*X|0];return H},isSpecCompliantForm:function(R){return!!(R&&E(R.append)&&R[Symbol.toStringTag]==="FormData"&&R[Symbol.iterator])},toJSONObject:function(R){var B=new Array(10);return function H(X,J){if(L(X)){if(B.indexOf(X)>=0)return;if(!("toJSON"in X)){B[J]=X;var de=x(X)?[]:{};return K(X,function(ue,Me){var Se=H(ue,J+1);!S(Se)&&(de[Me]=Se)}),B[J]=void 0,de}}return X}(R,0)},isAsyncFn:xe,isThenable:function(R){return R&&(L(R)||E(R))&&E(R.then)&&E(R.catch)}};function Ue(R,B,H,X,J){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=R,this.name="AxiosError",B&&(this.code=B),H&&(this.config=H),X&&(this.request=X),J&&(this.response=J)}i(3960),i(4776),i(3368),i(6216),i(6584),i(1908),he.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var ke=Ue.prototype,Qe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(R){Qe[R]={value:R}}),Object.defineProperties(Ue,Qe),Object.defineProperty(ke,"isAxiosError",{value:!0}),Ue.from=function(R,B,H,X,J,de){var ue=Object.create(ke);return he.toFlatObject(R,ue,function(Me){return Me!==Error.prototype},function(Me){return Me!=="isAxiosError"}),Ue.call(ue,R.message,B,H,X,J),ue.cause=R,ue.name=R.name,de&&Object.assign(ue,de),ue};var Le=Ue;function Q(R){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},Q(R)}function He(R){return he.isPlainObject(R)||he.isArray(R)}function Pe(R){return he.endsWith(R,"[]")?R.slice(0,-2):R}function Je(R,B,H){return R?R.concat(B).map(function(X,J){return X=Pe(X),!H&&J?"["+X+"]":X}).join(H?".":""):B}var Ye=he.toFlatObject(he,{},null,function(R){return/^is[A-Z]/.test(R)}),mt=function(R,B,H){if(!he.isObject(R))throw new TypeError("target must be an object");B=B||new FormData;var X=(H=he.toFlatObject(H,{metaTokens:!0,dots:!1,indexes:!1},!1,function(it,vt){return!he.isUndefined(vt[it])})).metaTokens,J=H.visitor||me,de=H.dots,ue=H.indexes,Me=(H.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(B);if(!he.isFunction(J))throw new TypeError("visitor must be a function");function Se(it){if(it===null)return"";if(he.isDate(it))return it.toISOString();if(!Me&&he.isBlob(it))throw new Le("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(it)||he.isTypedArray(it)?Me&&typeof Blob=="function"?new Blob([it]):Buffer.from(it):it}function me(it,vt,ht){var Et=it;if(it&&!ht&&Q(it)==="object"){if(he.endsWith(vt,"{}"))vt=X?vt:vt.slice(0,-2),it=JSON.stringify(it);else if(he.isArray(it)&&function(zt){return he.isArray(zt)&&!zt.some(He)}(it)||(he.isFileList(it)||he.endsWith(vt,"[]"))&&(Et=he.toArray(it)))return vt=Pe(vt),Et.forEach(function(zt,Zt){!he.isUndefined(zt)&&zt!==null&&B.append(ue===!0?Je([vt],Zt,de):ue===null?vt:vt+"[]",Se(zt))}),!1}return!!He(it)||(B.append(Je(ht,vt,de),Se(it)),!1)}var ze=[],tt=Object.assign(Ye,{defaultVisitor:me,convertValue:Se,isVisitable:He});if(!he.isObject(R))throw new TypeError("data must be an object");return function it(vt,ht){if(!he.isUndefined(vt)){if(ze.indexOf(vt)!==-1)throw Error("Circular reference detected in "+ht.join("."));ze.push(vt),he.forEach(vt,function(Et,zt){(!(he.isUndefined(Et)||Et===null)&&J.call(B,Et,he.isString(zt)?zt.trim():zt,ht,tt))===!0&&it(Et,ht?ht.concat(zt):[zt])}),ze.pop()}}(R),B};function gt(R){var B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(R).replace(/[!'()~]|%20|%00/g,function(H){return B[H]})}function ne(R,B){this._pairs=[],R&&mt(R,this,B)}var Y=ne.prototype;Y.append=function(R,B){this._pairs.push([R,B])},Y.toString=function(R){var B=R?function(H){return R.call(this,H,gt)}:gt;return this._pairs.map(function(H){return B(H[0])+"="+B(H[1])},"").join("&")};var Ie=ne;function st(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ot(R,B,H){if(!B)return R;var X,J=H&&H.encode||st,de=H&&H.serialize;if(X=de?de(B,H):he.isURLSearchParams(B)?B.toString():new Ie(B,H).toString(J)){var ue=R.indexOf("#");ue!==-1&&(R=R.slice(0,ue)),R+=(R.indexOf("?")===-1?"?":"&")+X}return R}function be(R,B){for(var H=0;H<B.length;H++){var X=B[H];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(R,X.key,X)}}var pe,Ge=function(){return R=function H(){(function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")})(this,H),this.handlers=[]},(B=[{key:"use",value:function(H,X,J){return this.handlers.push({fulfilled:H,rejected:X,synchronous:!!J&&J.synchronous,runWhen:J?J.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(H){this.handlers[H]&&(this.handlers[H]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(H){he.forEach(this.handlers,function(X){X!==null&&H(X)})}}])&&be(R.prototype,B),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,B}(),Fe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nt=(i(4382),i(6457),i(9102),{isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Ie,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]}),Ce=typeof window<"u"&&typeof document<"u",De=(pe=typeof navigator<"u"&&navigator.product,Ce&&["ReactNative","NativeScript","NS"].indexOf(pe)<0),Ut=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";function Bt(R,B){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(R);B&&(X=X.filter(function(J){return Object.getOwnPropertyDescriptor(R,J).enumerable})),H.push.apply(H,X)}return H}function Ct(R){for(var B=1;B<arguments.length;B++){var H=arguments[B]!=null?arguments[B]:{};B%2?Bt(Object(H),!0).forEach(function(X){wt(R,X,H[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(H)):Bt(Object(H)).forEach(function(X){Object.defineProperty(R,X,Object.getOwnPropertyDescriptor(H,X))})}return R}function wt(R,B,H){return B in R?Object.defineProperty(R,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):R[B]=H,R}var ut=Ct(Ct({},a),nt);i(8958);var It=function(R){function B(X,J,de,ue){var Me=X[ue++];if(Me==="__proto__")return!0;var Se=Number.isFinite(+Me),me=ue>=X.length;return Me=!Me&&he.isArray(de)?de.length:Me,me?(he.hasOwnProp(de,Me)?de[Me]=[de[Me],J]:de[Me]=J,!Se):(de[Me]&&he.isObject(de[Me])||(de[Me]=[]),B(X,J,de[Me],ue)&&he.isArray(de[Me])&&(de[Me]=function(ze){var tt,it,vt={},ht=Object.keys(ze),Et=ht.length;for(tt=0;tt<Et;tt++)vt[it=ht[tt]]=ze[it];return vt}(de[Me])),!Se)}if(he.isFormData(R)&&he.isFunction(R.entries)){var H={};return he.forEachEntry(R,function(X,J){B(function(de){return he.matchAll(/\w+|\[(\w*)]/g,de).map(function(ue){return ue[0]==="[]"?"":ue[1]||ue[0]})}(X),J,H,0)}),H}return null},Kt={transitional:Fe,adapter:["xhr","http"],transformRequest:[function(R,B){var H,X=B.getContentType()||"",J=X.indexOf("application/json")>-1,de=he.isObject(R);if(de&&he.isHTMLForm(R)&&(R=new FormData(R)),he.isFormData(R))return J?JSON.stringify(It(R)):R;if(he.isArrayBuffer(R)||he.isBuffer(R)||he.isStream(R)||he.isFile(R)||he.isBlob(R))return R;if(he.isArrayBufferView(R))return R.buffer;if(he.isURLSearchParams(R))return B.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),R.toString();if(de){if(X.indexOf("application/x-www-form-urlencoded")>-1)return function(Me,Se){return mt(Me,new ut.classes.URLSearchParams,Object.assign({visitor:function(me,ze,tt,it){return ut.isNode&&he.isBuffer(me)?(this.append(ze,me.toString("base64")),!1):it.defaultVisitor.apply(this,arguments)}},Se))}(R,this.formSerializer).toString();if((H=he.isFileList(R))||X.indexOf("multipart/form-data")>-1){var ue=this.env&&this.env.FormData;return mt(H?{"files[]":R}:R,ue&&new ue,this.formSerializer)}}return de||J?(B.setContentType("application/json",!1),function(Me,Se,me){if(he.isString(Me))try{return(0,JSON.parse)(Me),he.trim(Me)}catch(ze){if(ze.name!=="SyntaxError")throw ze}return(0,JSON.stringify)(Me)}(R)):R}],transformResponse:[function(R){var B=this.transitional||Kt.transitional,H=B&&B.forcedJSONParsing,X=this.responseType==="json";if(R&&he.isString(R)&&(H&&!this.responseType||X)){var J=!(B&&B.silentJSONParsing)&&X;try{return JSON.parse(R)}catch(de){if(J)throw de.name==="SyntaxError"?Le.from(de,Le.ERR_BAD_RESPONSE,this,null,this.response):de}}return R}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(R){return R>=200&&R<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],function(R){Kt.headers[R]={}});var Mn=Kt,Tt=(i(9892),i(7132),he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]));function Rt(R,B){(B==null||B>R.length)&&(B=R.length);for(var H=0,X=new Array(B);H<B;H++)X[H]=R[H];return X}function ce(R,B){for(var H=0;H<B.length;H++){var X=B[H];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(R,X.key,X)}}var Re=Symbol("internals");function We(R){return R&&String(R).trim().toLowerCase()}function dt(R){return R===!1||R==null?R:he.isArray(R)?R.map(dt):String(R)}function St(R,B,H,X,J){return he.isFunction(X)?X.call(this,B,H):(J&&(B=H),he.isString(B)?he.isString(X)?B.indexOf(X)!==-1:he.isRegExp(X)?X.test(B):void 0:void 0)}var Gt=function(){return R=function X(J){(function(de,ue){if(!(de instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,X),J&&this.set(J)},B=[{key:"set",value:function(X,J,de){var ue=this;function Me(ht,Et,zt){var Zt=We(Et);if(!Zt)throw new Error("header name must be a non-empty string");var On=he.findKey(ue,Zt);(!On||ue[On]===void 0||zt===!0||zt===void 0&&ue[On]!==!1)&&(ue[On||Et]=dt(ht))}var Se,me,ze,tt,it,vt=function(ht,Et){return he.forEach(ht,function(zt,Zt){return Me(zt,Zt,Et)})};return he.isPlainObject(X)||X instanceof this.constructor?vt(X,J):he.isString(X)&&(X=X.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(X.trim())?vt((it={},(Se=X)&&Se.split(`
`).forEach(function(ht){tt=ht.indexOf(":"),me=ht.substring(0,tt).trim().toLowerCase(),ze=ht.substring(tt+1).trim(),!me||it[me]&&Tt[me]||(me==="set-cookie"?it[me]?it[me].push(ze):it[me]=[ze]:it[me]=it[me]?it[me]+", "+ze:ze)}),it),J):X!=null&&Me(J,X,de),this}},{key:"get",value:function(X,J){if(X=We(X)){var de=he.findKey(this,X);if(de){var ue=this[de];if(!J)return ue;if(J===!0)return function(Me){for(var Se,me=Object.create(null),ze=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;Se=ze.exec(Me);)me[Se[1]]=Se[2];return me}(ue);if(he.isFunction(J))return J.call(this,ue,de);if(he.isRegExp(J))return J.exec(ue);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(X,J){if(X=We(X)){var de=he.findKey(this,X);return!(!de||this[de]===void 0||J&&!St(0,this[de],de,J))}return!1}},{key:"delete",value:function(X,J){var de=this,ue=!1;function Me(Se){if(Se=We(Se)){var me=he.findKey(de,Se);!me||J&&!St(0,de[me],me,J)||(delete de[me],ue=!0)}}return he.isArray(X)?X.forEach(Me):Me(X),ue}},{key:"clear",value:function(X){for(var J=Object.keys(this),de=J.length,ue=!1;de--;){var Me=J[de];X&&!St(0,this[Me],Me,X,!0)||(delete this[Me],ue=!0)}return ue}},{key:"normalize",value:function(X){var J=this,de={};return he.forEach(this,function(ue,Me){var Se=he.findKey(de,Me);if(Se)return J[Se]=dt(ue),void delete J[Me];var me=X?function(ze){return ze.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(tt,it,vt){return it.toUpperCase()+vt})}(Me):String(Me).trim();me!==Me&&delete J[Me],J[me]=dt(ue),de[me]=!0}),this}},{key:"concat",value:function(){for(var X,J=arguments.length,de=new Array(J),ue=0;ue<J;ue++)de[ue]=arguments[ue];return(X=this.constructor).concat.apply(X,[this].concat(de))}},{key:"toJSON",value:function(X){var J=Object.create(null);return he.forEach(this,function(de,ue){de!=null&&de!==!1&&(J[ue]=X&&he.isArray(de)?de.join(", "):de)}),J}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(X){var J,de,ue=(de=2,function(Me){if(Array.isArray(Me))return Me}(J=X)||function(Me,Se){var me=Me==null?null:typeof Symbol<"u"&&Me[Symbol.iterator]||Me["@@iterator"];if(me!=null){var ze,tt,it=[],vt=!0,ht=!1;try{for(me=me.call(Me);!(vt=(ze=me.next()).done)&&(it.push(ze.value),!Se||it.length!==Se);vt=!0);}catch(Et){ht=!0,tt=Et}finally{try{vt||me.return==null||me.return()}finally{if(ht)throw tt}}return it}}(J,de)||function(Me,Se){if(Me){if(typeof Me=="string")return Rt(Me,Se);var me=Object.prototype.toString.call(Me).slice(8,-1);return me==="Object"&&Me.constructor&&(me=Me.constructor.name),me==="Map"||me==="Set"?Array.from(Me):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?Rt(Me,Se):void 0}}(J,de)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());return ue[0]+": "+ue[1]}).join(`
`)}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],H=[{key:"from",value:function(X){return X instanceof this?X:new this(X)}},{key:"concat",value:function(X){for(var J=new this(X),de=arguments.length,ue=new Array(de>1?de-1:0),Me=1;Me<de;Me++)ue[Me-1]=arguments[Me];return ue.forEach(function(Se){return J.set(Se)}),J}},{key:"accessor",value:function(X){var J=(this[Re]=this[Re]={accessors:{}}).accessors,de=this.prototype;function ue(Me){var Se=We(Me);J[Se]||(function(me,ze){var tt=he.toCamelCase(" "+ze);["get","set","has"].forEach(function(it){Object.defineProperty(me,it+tt,{value:function(vt,ht,Et){return this[it].call(this,ze,vt,ht,Et)},configurable:!0})})}(de,Me),J[Se]=!0)}return he.isArray(X)?X.forEach(ue):ue(X),this}}],B&&ce(R.prototype,B),H&&ce(R,H),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,B,H}();Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),he.reduceDescriptors(Gt.prototype,function(R,B){var H=R.value,X=B[0].toUpperCase()+B.slice(1);return{get:function(){return H},set:function(J){this[X]=J}}}),he.freezeMethods(Gt);var Qt=Gt;function En(R,B){var H=this||Mn,X=B||H,J=Qt.from(X.headers),de=X.data;return he.forEach(R,function(ue){de=ue.call(H,de,J.normalize(),B?B.status:void 0)}),J.normalize(),de}function Nn(R){return!(!R||!R.__CANCEL__)}function Tn(R,B,H){Le.call(this,R??"canceled",Le.ERR_CANCELED,B,H),this.name="CanceledError"}he.inherits(Tn,Le,{__CANCEL__:!0});var lr=Tn;i(646),i(3819);var Te=ut.hasStandardBrowserEnv?{write:function(R,B,H,X,J,de){var ue=[R+"="+encodeURIComponent(B)];he.isNumber(H)&&ue.push("expires="+new Date(H).toGMTString()),he.isString(X)&&ue.push("path="+X),he.isString(J)&&ue.push("domain="+J),de===!0&&ue.push("secure"),document.cookie=ue.join("; ")},read:function(R){var B=document.cookie.match(new RegExp("(^|;\\s*)("+R+")=([^;]*)"));return B?decodeURIComponent(B[3]):null},remove:function(R){this.write(R,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function _e(R,B){return R&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(B)?function(H,X){return X?H.replace(/\/?\/$/,"")+"/"+X.replace(/^\/+/,""):H}(R,B):B}i(7456);var je=ut.hasStandardBrowserEnv?function(){var R,B=/(msie|trident)/i.test(navigator.userAgent),H=document.createElement("a");function X(J){var de=J;return B&&(H.setAttribute("href",de),de=H.href),H.setAttribute("href",de),{href:H.href,protocol:H.protocol?H.protocol.replace(/:$/,""):"",host:H.host,search:H.search?H.search.replace(/^\?/,""):"",hash:H.hash?H.hash.replace(/^#/,""):"",hostname:H.hostname,port:H.port,pathname:H.pathname.charAt(0)==="/"?H.pathname:"/"+H.pathname}}return R=X(window.location.href),function(J){var de=he.isString(J)?X(J):J;return de.protocol===R.protocol&&de.host===R.host}}():function(){return!0};function lt(R,B){if(R){if(typeof R=="string")return Nt(R,B);var H=Object.prototype.toString.call(R).slice(8,-1);return H==="Object"&&R.constructor&&(H=R.constructor.name),H==="Map"||H==="Set"?Array.from(R):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?Nt(R,B):void 0}}function Nt(R,B){(B==null||B>R.length)&&(B=R.length);for(var H=0,X=new Array(B);H<B;H++)X[H]=R[H];return X}function Jt(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function mn(R,B){var H=0,X=function(J,de){J=J||10;var ue,Me=new Array(J),Se=new Array(J),me=0,ze=0;return de=de!==void 0?de:1e3,function(tt){var it=Date.now(),vt=Se[ze];ue||(ue=it),Me[me]=tt,Se[me]=it;for(var ht=ze,Et=0;ht!==me;)Et+=Me[ht++],ht%=J;if((me=(me+1)%J)===ze&&(ze=(ze+1)%J),!(it-ue<de)){var zt=vt&&it-vt;return zt?Math.round(1e3*Et/zt):void 0}}}(50,250);return function(J){var de=J.loaded,ue=J.lengthComputable?J.total:void 0,Me=de-H,Se=X(Me);H=de;var me={loaded:de,total:ue,progress:ue?de/ue:void 0,bytes:Me,rate:Se||void 0,estimated:Se&&ue&&de<=ue?(ue-de)/Se:void 0,event:J};me[B?"download":"upload"]=!0,R(me)}}function Dt(R,B){(B==null||B>R.length)&&(B=R.length);for(var H=0,X=new Array(B);H<B;H++)X[H]=R[H];return X}var An={http:null,xhr:typeof XMLHttpRequest<"u"&&function(R){return new Promise(function(B,H){var X,J,de,ue=R.data,Me=Qt.from(R.headers).normalize(),Se=R.responseType,me=R.withXSRFToken;function ze(){R.cancelToken&&R.cancelToken.unsubscribe(X),R.signal&&R.signal.removeEventListener("abort",X)}if(he.isFormData(ue)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)Me.setContentType(!1);else if((J=Me.getContentType())!==!1){var tt=function(xn){if(Array.isArray(xn))return xn}(de=J?J.split(";").map(function(xn){return xn.trim()}).filter(Boolean):[])||Jt(de)||lt(de)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),it=tt[0],vt=tt.slice(1);Me.setContentType([it||"multipart/form-data"].concat(function(xn){return function(Fn){if(Array.isArray(Fn))return Nt(Fn)}(xn)||Jt(xn)||lt(xn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(vt)).join("; "))}}var ht=new XMLHttpRequest;if(R.auth){var Et=R.auth.username||"",zt=R.auth.password?unescape(encodeURIComponent(R.auth.password)):"";Me.set("Authorization","Basic "+btoa(Et+":"+zt))}var Zt=_e(R.baseURL,R.url);function On(){if(ht){var xn=Qt.from("getAllResponseHeaders"in ht&&ht.getAllResponseHeaders());(function(Fn,$r,ir){var Ur=ir.config.validateStatus;ir.status&&Ur&&!Ur(ir.status)?$r(new Le("Request failed with status code "+ir.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(ir.status/100)-4],ir.config,ir.request,ir)):Fn(ir)})(function(Fn){B(Fn),ze()},function(Fn){H(Fn),ze()},{data:Se&&Se!=="text"&&Se!=="json"?ht.response:ht.responseText,status:ht.status,statusText:ht.statusText,headers:xn,config:R,request:ht}),ht=null}}if(ht.open(R.method.toUpperCase(),ot(Zt,R.params,R.paramsSerializer),!0),ht.timeout=R.timeout,"onloadend"in ht?ht.onloadend=On:ht.onreadystatechange=function(){ht&&ht.readyState===4&&(ht.status!==0||ht.responseURL&&ht.responseURL.indexOf("file:")===0)&&setTimeout(On)},ht.onabort=function(){ht&&(H(new Le("Request aborted",Le.ECONNABORTED,R,ht)),ht=null)},ht.onerror=function(){H(new Le("Network Error",Le.ERR_NETWORK,R,ht)),ht=null},ht.ontimeout=function(){var xn=R.timeout?"timeout of "+R.timeout+"ms exceeded":"timeout exceeded",Fn=R.transitional||Fe;R.timeoutErrorMessage&&(xn=R.timeoutErrorMessage),H(new Le(xn,Fn.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,R,ht)),ht=null},ut.hasStandardBrowserEnv&&(me&&he.isFunction(me)&&(me=me(R)),me||me!==!1&&je(Zt))){var cr=R.xsrfHeaderName&&R.xsrfCookieName&&Te.read(R.xsrfCookieName);cr&&Me.set(R.xsrfHeaderName,cr)}ue===void 0&&Me.setContentType(null),"setRequestHeader"in ht&&he.forEach(Me.toJSON(),function(xn,Fn){ht.setRequestHeader(Fn,xn)}),he.isUndefined(R.withCredentials)||(ht.withCredentials=!!R.withCredentials),Se&&Se!=="json"&&(ht.responseType=R.responseType),typeof R.onDownloadProgress=="function"&&ht.addEventListener("progress",mn(R.onDownloadProgress,!0)),typeof R.onUploadProgress=="function"&&ht.upload&&ht.upload.addEventListener("progress",mn(R.onUploadProgress)),(R.cancelToken||R.signal)&&(X=function(xn){ht&&(H(!xn||xn.type?new lr(null,R,ht):xn),ht.abort(),ht=null)},R.cancelToken&&R.cancelToken.subscribe(X),R.signal&&(R.signal.aborted?X():R.signal.addEventListener("abort",X)));var Mr,Un=(Mr=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Zt))&&Mr[1]||"";Un&&ut.protocols.indexOf(Un)===-1?H(new Le("Unsupported protocol "+Un+":",Le.ERR_BAD_REQUEST,R)):ht.send(ue||null)})}};he.forEach(An,function(R,B){if(R){try{Object.defineProperty(R,"name",{value:B})}catch{}Object.defineProperty(R,"adapterName",{value:B})}});var an=function(R){return"- ".concat(R)},ln=function(R){return he.isFunction(R)||R===null||R===!1},ae=function(R){for(var B,H,X=(R=he.isArray(R)?R:[R]).length,J={},de=0;de<X;de++){var ue=void 0;if(H=B=R[de],!ln(B)&&(H=An[(ue=String(B)).toLowerCase()])===void 0)throw new Le("Unknown adapter '".concat(ue,"'"));if(H)break;J[ue||"#"+de]=H}if(!H){var Me=Object.entries(J).map(function(me){var ze=function(vt,ht){return function(Et){if(Array.isArray(Et))return Et}(vt)||function(Et,zt){var Zt=Et==null?null:typeof Symbol<"u"&&Et[Symbol.iterator]||Et["@@iterator"];if(Zt!=null){var On,cr,Mr=[],Un=!0,xn=!1;try{for(Zt=Zt.call(Et);!(Un=(On=Zt.next()).done)&&(Mr.push(On.value),!zt||Mr.length!==zt);Un=!0);}catch(Fn){xn=!0,cr=Fn}finally{try{Un||Zt.return==null||Zt.return()}finally{if(xn)throw cr}}return Mr}}(vt,ht)||function(Et,zt){if(Et){if(typeof Et=="string")return Dt(Et,zt);var Zt=Object.prototype.toString.call(Et).slice(8,-1);return Zt==="Object"&&Et.constructor&&(Zt=Et.constructor.name),Zt==="Map"||Zt==="Set"?Array.from(Et):Zt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zt)?Dt(Et,zt):void 0}}(vt,ht)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(me,2),tt=ze[0],it=ze[1];return"adapter ".concat(tt," ")+(it===!1?"is not supported by the environment":"is not available in the build")}),Se=X?Me.length>1?`since :
`+Me.map(an).join(`
`):" "+an(Me[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+Se,"ERR_NOT_SUPPORT")}return H};function Ne(R){if(R.cancelToken&&R.cancelToken.throwIfRequested(),R.signal&&R.signal.aborted)throw new lr(null,R)}function qe(R){return Ne(R),R.headers=Qt.from(R.headers),R.data=En.call(R,R.transformRequest),["post","put","patch"].indexOf(R.method)!==-1&&R.headers.setContentType("application/x-www-form-urlencoded",!1),ae(R.adapter||Mn.adapter)(R).then(function(B){return Ne(R),B.data=En.call(R,R.transformResponse,B),B.headers=Qt.from(B.headers),B},function(B){return Nn(B)||(Ne(R),B&&B.response&&(B.response.data=En.call(R,R.transformResponse,B.response),B.response.headers=Qt.from(B.response.headers))),Promise.reject(B)})}function Ke(R,B){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(R);B&&(X=X.filter(function(J){return Object.getOwnPropertyDescriptor(R,J).enumerable})),H.push.apply(H,X)}return H}function $e(R,B,H){return B in R?Object.defineProperty(R,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):R[B]=H,R}var Pt=function(R){return R instanceof Qt?function(B){for(var H=1;H<arguments.length;H++){var X=arguments[H]!=null?arguments[H]:{};H%2?Ke(Object(X),!0).forEach(function(J){$e(B,J,X[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(X)):Ke(Object(X)).forEach(function(J){Object.defineProperty(B,J,Object.getOwnPropertyDescriptor(X,J))})}return B}({},R):R};function Xt(R,B){B=B||{};var H={};function X(me,ze,tt){return he.isPlainObject(me)&&he.isPlainObject(ze)?he.merge.call({caseless:tt},me,ze):he.isPlainObject(ze)?he.merge({},ze):he.isArray(ze)?ze.slice():ze}function J(me,ze,tt){return he.isUndefined(ze)?he.isUndefined(me)?void 0:X(void 0,me,tt):X(me,ze,tt)}function de(me,ze){if(!he.isUndefined(ze))return X(void 0,ze)}function ue(me,ze){return he.isUndefined(ze)?he.isUndefined(me)?void 0:X(void 0,me):X(void 0,ze)}function Me(me,ze,tt){return tt in B?X(me,ze):tt in R?X(void 0,me):void 0}var Se={url:de,method:de,data:de,baseURL:ue,transformRequest:ue,transformResponse:ue,paramsSerializer:ue,timeout:ue,timeoutMessage:ue,withCredentials:ue,withXSRFToken:ue,adapter:ue,responseType:ue,xsrfCookieName:ue,xsrfHeaderName:ue,onUploadProgress:ue,onDownloadProgress:ue,decompress:ue,maxContentLength:ue,maxBodyLength:ue,beforeRedirect:ue,transport:ue,httpAgent:ue,httpsAgent:ue,cancelToken:ue,socketPath:ue,responseEncoding:ue,validateStatus:Me,headers:function(me,ze){return J(Pt(me),Pt(ze),!0)}};return he.forEach(Object.keys(Object.assign({},R,B)),function(me){var ze=Se[me]||J,tt=ze(R[me],B[me],me);he.isUndefined(tt)&&ze!==Me||(H[me]=tt)}),H}function tn(R){return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},tn(R)}var rn={};["object","boolean","number","function","string","symbol"].forEach(function(R,B){rn[R]=function(H){return tn(H)===R||"a"+(B<1?"n ":" ")+R}});var gn={};rn.transitional=function(R,B,H){function X(J,de){return"[Axios v1.6.8] Transitional option '"+J+"'"+de+(H?". "+H:"")}return function(J,de,ue){if(R===!1)throw new Le(X(de," has been removed"+(B?" in "+B:"")),Le.ERR_DEPRECATED);return B&&!gn[de]&&(gn[de]=!0,console.warn(X(de," has been deprecated since v"+B+" and will be removed in the near future"))),!R||R(J,de,ue)}};var pn={assertOptions:function(R,B,H){if(tn(R)!=="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);for(var X=Object.keys(R),J=X.length;J-- >0;){var de=X[J],ue=B[de];if(ue){var Me=R[de],Se=Me===void 0||ue(Me,de,R);if(Se!==!0)throw new Le("option "+de+" must be "+Se,Le.ERR_BAD_OPTION_VALUE)}else if(H!==!0)throw new Le("Unknown option "+de,Le.ERR_BAD_OPTION)}},validators:rn};function un(R,B,H,X,J,de,ue){try{var Me=R[de](ue),Se=Me.value}catch(me){return void H(me)}Me.done?B(Se):Promise.resolve(Se).then(X,J)}function dr(R,B){for(var H=0;H<B.length;H++){var X=B[H];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(R,X.key,X)}}var ur=pn.validators,Jn=function(){return R=function J(de){(function(ue,Me){if(!(ue instanceof Me))throw new TypeError("Cannot call a class as a function")})(this,J),this.defaults=de,this.interceptors={request:new Ge,response:new Ge}},B=[{key:"request",value:(H=regeneratorRuntime.mark(function J(de,ue){var Me,Se;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.prev=0,me.next=3,this._request(de,ue);case 3:return me.abrupt("return",me.sent);case 6:throw me.prev=6,me.t0=me.catch(0),me.t0 instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(Me={}):Me=new Error,Se=Me.stack?Me.stack.replace(/^.+\n/,""):"",me.t0.stack?Se&&!String(me.t0.stack).endsWith(Se.replace(/^.+\n.+\n/,""))&&(me.t0.stack+=`
`+Se):me.t0.stack=Se),me.t0;case 10:case"end":return me.stop()}},J,this,[[0,6]])}),X=function(){var J=this,de=arguments;return new Promise(function(ue,Me){var Se=H.apply(J,de);function me(tt){un(Se,ue,Me,me,ze,"next",tt)}function ze(tt){un(Se,ue,Me,me,ze,"throw",tt)}me(void 0)})},function(J,de){return X.apply(this,arguments)})},{key:"_request",value:function(J,de){typeof J=="string"?(de=de||{}).url=J:de=J||{};var ue=de=Xt(this.defaults,de),Me=ue.transitional,Se=ue.paramsSerializer,me=ue.headers;Me!==void 0&&pn.assertOptions(Me,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),Se!=null&&(he.isFunction(Se)?de.paramsSerializer={serialize:Se}:pn.assertOptions(Se,{encode:ur.function,serialize:ur.function},!0)),de.method=(de.method||this.defaults.method||"get").toLowerCase();var ze=me&&he.merge(me.common,me[de.method]);me&&he.forEach(["delete","get","head","post","put","patch","common"],function(Un){delete me[Un]}),de.headers=Qt.concat(ze,me);var tt=[],it=!0;this.interceptors.request.forEach(function(Un){typeof Un.runWhen=="function"&&Un.runWhen(de)===!1||(it=it&&Un.synchronous,tt.unshift(Un.fulfilled,Un.rejected))});var vt,ht=[];this.interceptors.response.forEach(function(Un){ht.push(Un.fulfilled,Un.rejected)});var Et,zt=0;if(!it){var Zt=[qe.bind(this),void 0];for(Zt.unshift.apply(Zt,tt),Zt.push.apply(Zt,ht),Et=Zt.length,vt=Promise.resolve(de);zt<Et;)vt=vt.then(Zt[zt++],Zt[zt++]);return vt}Et=tt.length;var On=de;for(zt=0;zt<Et;){var cr=tt[zt++],Mr=tt[zt++];try{On=cr(On)}catch(Un){Mr.call(this,Un);break}}try{vt=qe.call(this,On)}catch(Un){return Promise.reject(Un)}for(zt=0,Et=ht.length;zt<Et;)vt=vt.then(ht[zt++],ht[zt++]);return vt}},{key:"getUri",value:function(J){return ot(_e((J=Xt(this.defaults,J)).baseURL,J.url),J.params,J.paramsSerializer)}}],B&&dr(R.prototype,B),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,B,H,X}();he.forEach(["delete","get","head","options"],function(R){Jn.prototype[R]=function(B,H){return this.request(Xt(H||{},{method:R,url:B,data:(H||{}).data}))}}),he.forEach(["post","put","patch"],function(R){function B(H){return function(X,J,de){return this.request(Xt(de||{},{method:R,headers:H?{"Content-Type":"multipart/form-data"}:{},url:X,data:J}))}}Jn.prototype[R]=B(),Jn.prototype[R+"Form"]=B(!0)});var sn=Jn;function Wt(R,B){for(var H=0;H<B.length;H++){var X=B[H];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(R,X.key,X)}}i(4576);var kt=function(){function R(J){if(function(Me,Se){if(!(Me instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,R),typeof J!="function")throw new TypeError("executor must be a function.");var de;this.promise=new Promise(function(Me){de=Me});var ue=this;this.promise.then(function(Me){if(ue._listeners){for(var Se=ue._listeners.length;Se-- >0;)ue._listeners[Se](Me);ue._listeners=null}}),this.promise.then=function(Me){var Se,me=new Promise(function(ze){ue.subscribe(ze),Se=ze}).then(Me);return me.cancel=function(){ue.unsubscribe(Se)},me},J(function(Me,Se,me){ue.reason||(ue.reason=new lr(Me,Se,me),de(ue.reason))})}return B=R,X=[{key:"source",value:function(){var J;return{token:new R(function(de){J=de}),cancel:J}}}],(H=[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(J){this.reason?J(this.reason):this._listeners?this._listeners.push(J):this._listeners=[J]}},{key:"unsubscribe",value:function(J){if(this._listeners){var de=this._listeners.indexOf(J);de!==-1&&this._listeners.splice(de,1)}}}])&&Wt(B.prototype,H),X&&Wt(B,X),Object.defineProperty(B,"prototype",{writable:!1}),B;var B,H,X}();function kn(R,B){(B==null||B>R.length)&&(B=R.length);for(var H=0,X=new Array(B);H<B;H++)X[H]=R[H];return X}var yn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yn).forEach(function(R){var B,H,X=(H=2,function(ue){if(Array.isArray(ue))return ue}(B=R)||function(ue,Me){var Se=ue==null?null:typeof Symbol<"u"&&ue[Symbol.iterator]||ue["@@iterator"];if(Se!=null){var me,ze,tt=[],it=!0,vt=!1;try{for(Se=Se.call(ue);!(it=(me=Se.next()).done)&&(tt.push(me.value),!Me||tt.length!==Me);it=!0);}catch(ht){vt=!0,ze=ht}finally{try{it||Se.return==null||Se.return()}finally{if(vt)throw ze}}return tt}}(B,H)||function(ue,Me){if(ue){if(typeof ue=="string")return kn(ue,Me);var Se=Object.prototype.toString.call(ue).slice(8,-1);return Se==="Object"&&ue.constructor&&(Se=ue.constructor.name),Se==="Map"||Se==="Set"?Array.from(ue):Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se)?kn(ue,Me):void 0}}(B,H)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),J=X[0],de=X[1];yn[de]=J});var Tr=yn,nr=function R(B){var H=new sn(B),X=l(sn.prototype.request,H);return he.extend(X,sn.prototype,H,{allOwnKeys:!0}),he.extend(X,H,null,{allOwnKeys:!0}),X.create=function(J){return R(Xt(B,J))},X}(Mn);nr.Axios=sn,nr.CanceledError=lr,nr.CancelToken=kt,nr.isCancel=Nn,nr.VERSION="1.6.8",nr.toFormData=mt,nr.AxiosError=Le,nr.Cancel=nr.CanceledError,nr.all=function(R){return Promise.all(R)},nr.spread=function(R){return function(B){return R.apply(null,B)}},nr.isAxiosError=function(R){return he.isObject(R)&&R.isAxiosError===!0},nr.mergeConfig=Xt,nr.AxiosHeaders=Qt,nr.formToJSON=function(R){return It(he.isHTMLForm(R)?new FormData(R):R)},nr.getAdapter=ae,nr.HttpStatusCode=Tr,nr.default=nr;var Qi=nr,li=i(792),Pr=i.n(li),hs=i(9780),ya=i.n(hs),Si=i(567),qo=i.n(Si),Ji=i(1370),Qa=i.n(Ji),Ip=i(7501),Ru=i.n(Ip);function _a(R,B){(B==null||B>R.length)&&(B=R.length);for(var H=0,X=Array(B);H<B;H++)X[H]=R[H];return X}function xa(R,B,H,X,J,de,ue){try{var Me=R[de](ue),Se=Me.value}catch(me){return void H(me)}Me.done?B(Se):Promise.resolve(Se).then(X,J)}function so(R,B,H){return(B=function(X){var J=function(de,ue){if(typeof de!="object"||!de)return de;var Me=de[Symbol.toPrimitive];if(Me!==void 0){var Se=Me.call(de,"string");if(typeof Se!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(X);return typeof J=="symbol"?J:J+""}(B))in R?Object.defineProperty(R,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):R[B]=H,R}function Ja(R,B){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(R);B&&(X=X.filter(function(J){return Object.getOwnPropertyDescriptor(R,J).enumerable})),H.push.apply(H,X)}return H}function Il(R){for(var B=1;B<arguments.length;B++){var H=arguments[B]!=null?arguments[B]:{};B%2?Ja(Object(H),!0).forEach(function(X){so(R,X,H[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(H)):Ja(Object(H)).forEach(function(X){Object.defineProperty(R,X,Object.getOwnPropertyDescriptor(H,X))})}return R}function Kc(){Kc=function(){return B};var R,B={},H=Object.prototype,X=H.hasOwnProperty,J=Object.defineProperty||function(bt,At,Ht){bt[At]=Ht.value},de=typeof Symbol=="function"?Symbol:{},ue=de.iterator||"@@iterator",Me=de.asyncIterator||"@@asyncIterator",Se=de.toStringTag||"@@toStringTag";function me(bt,At,Ht){return Object.defineProperty(bt,At,{value:Ht,enumerable:!0,configurable:!0,writable:!0}),bt[At]}try{me({},"")}catch{me=function(At,Ht,zn){return At[Ht]=zn}}function ze(bt,At,Ht,zn){var on=At&&At.prototype instanceof Zt?At:Zt,Ee=Object.create(on.prototype),rt=new fi(zn||[]);return J(Ee,"_invoke",{value:Ur(bt,Ht,rt)}),Ee}function tt(bt,At,Ht){try{return{type:"normal",arg:bt.call(At,Ht)}}catch(zn){return{type:"throw",arg:zn}}}B.wrap=ze;var it="suspendedStart",vt="suspendedYield",ht="executing",Et="completed",zt={};function Zt(){}function On(){}function cr(){}var Mr={};me(Mr,ue,function(){return this});var Un=Object.getPrototypeOf,xn=Un&&Un(Un(Fr([])));xn&&xn!==H&&X.call(xn,ue)&&(Mr=xn);var Fn=cr.prototype=Zt.prototype=Object.create(Mr);function $r(bt){["next","throw","return"].forEach(function(At){me(bt,At,function(Ht){return this._invoke(At,Ht)})})}function ir(bt,At){function Ht(on,Ee,rt,et){var Ft=tt(bt[on],bt,Ee);if(Ft.type!=="throw"){var _n=Ft.arg,Cn=_n.value;return Cn&&typeof Cn=="object"&&X.call(Cn,"__await")?At.resolve(Cn.__await).then(function(fr){Ht("next",fr,rt,et)},function(fr){Ht("throw",fr,rt,et)}):At.resolve(Cn).then(function(fr){_n.value=fr,rt(_n)},function(fr){return Ht("throw",fr,rt,et)})}et(Ft.arg)}var zn;J(this,"_invoke",{value:function(on,Ee){function rt(){return new At(function(et,Ft){Ht(on,Ee,et,Ft)})}return zn=zn?zn.then(rt,rt):rt()}})}function Ur(bt,At,Ht){var zn=it;return function(on,Ee){if(zn===ht)throw Error("Generator is already running");if(zn===Et){if(on==="throw")throw Ee;return{value:R,done:!0}}for(Ht.method=on,Ht.arg=Ee;;){var rt=Ht.delegate;if(rt){var et=bi(rt,Ht);if(et){if(et===zt)continue;return et}}if(Ht.method==="next")Ht.sent=Ht._sent=Ht.arg;else if(Ht.method==="throw"){if(zn===it)throw zn=Et,Ht.arg;Ht.dispatchException(Ht.arg)}else Ht.method==="return"&&Ht.abrupt("return",Ht.arg);zn=ht;var Ft=tt(bt,At,Ht);if(Ft.type==="normal"){if(zn=Ht.done?Et:vt,Ft.arg===zt)continue;return{value:Ft.arg,done:Ht.done}}Ft.type==="throw"&&(zn=Et,Ht.method="throw",Ht.arg=Ft.arg)}}}function bi(bt,At){var Ht=At.method,zn=bt.iterator[Ht];if(zn===R)return At.delegate=null,Ht==="throw"&&bt.iterator.return&&(At.method="return",At.arg=R,bi(bt,At),At.method==="throw")||Ht!=="return"&&(At.method="throw",At.arg=new TypeError("The iterator does not provide a '"+Ht+"' method")),zt;var on=tt(zn,bt.iterator,At.arg);if(on.type==="throw")return At.method="throw",At.arg=on.arg,At.delegate=null,zt;var Ee=on.arg;return Ee?Ee.done?(At[bt.resultName]=Ee.value,At.next=bt.nextLoc,At.method!=="return"&&(At.method="next",At.arg=R),At.delegate=null,zt):Ee:(At.method="throw",At.arg=new TypeError("iterator result is not an object"),At.delegate=null,zt)}function Ti(bt){var At={tryLoc:bt[0]};1 in bt&&(At.catchLoc=bt[1]),2 in bt&&(At.finallyLoc=bt[2],At.afterLoc=bt[3]),this.tryEntries.push(At)}function Qn(bt){var At=bt.completion||{};At.type="normal",delete At.arg,bt.completion=At}function fi(bt){this.tryEntries=[{tryLoc:"root"}],bt.forEach(Ti,this),this.reset(!0)}function Fr(bt){if(bt||bt===""){var At=bt[ue];if(At)return At.call(bt);if(typeof bt.next=="function")return bt;if(!isNaN(bt.length)){var Ht=-1,zn=function on(){for(;++Ht<bt.length;)if(X.call(bt,Ht))return on.value=bt[Ht],on.done=!1,on;return on.value=R,on.done=!0,on};return zn.next=zn}}throw new TypeError(typeof bt+" is not iterable")}return On.prototype=cr,J(Fn,"constructor",{value:cr,configurable:!0}),J(cr,"constructor",{value:On,configurable:!0}),On.displayName=me(cr,Se,"GeneratorFunction"),B.isGeneratorFunction=function(bt){var At=typeof bt=="function"&&bt.constructor;return!!At&&(At===On||(At.displayName||At.name)==="GeneratorFunction")},B.mark=function(bt){return Object.setPrototypeOf?Object.setPrototypeOf(bt,cr):(bt.__proto__=cr,me(bt,Se,"GeneratorFunction")),bt.prototype=Object.create(Fn),bt},B.awrap=function(bt){return{__await:bt}},$r(ir.prototype),me(ir.prototype,Me,function(){return this}),B.AsyncIterator=ir,B.async=function(bt,At,Ht,zn,on){on===void 0&&(on=Promise);var Ee=new ir(ze(bt,At,Ht,zn),on);return B.isGeneratorFunction(At)?Ee:Ee.next().then(function(rt){return rt.done?rt.value:Ee.next()})},$r(Fn),me(Fn,Se,"Generator"),me(Fn,ue,function(){return this}),me(Fn,"toString",function(){return"[object Generator]"}),B.keys=function(bt){var At=Object(bt),Ht=[];for(var zn in At)Ht.push(zn);return Ht.reverse(),function on(){for(;Ht.length;){var Ee=Ht.pop();if(Ee in At)return on.value=Ee,on.done=!1,on}return on.done=!0,on}},B.values=Fr,fi.prototype={constructor:fi,reset:function(bt){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(Qn),!bt)for(var At in this)At.charAt(0)==="t"&&X.call(this,At)&&!isNaN(+At.slice(1))&&(this[At]=R)},stop:function(){this.done=!0;var bt=this.tryEntries[0].completion;if(bt.type==="throw")throw bt.arg;return this.rval},dispatchException:function(bt){if(this.done)throw bt;var At=this;function Ht(Ft,_n){return Ee.type="throw",Ee.arg=bt,At.next=Ft,_n&&(At.method="next",At.arg=R),!!_n}for(var zn=this.tryEntries.length-1;zn>=0;--zn){var on=this.tryEntries[zn],Ee=on.completion;if(on.tryLoc==="root")return Ht("end");if(on.tryLoc<=this.prev){var rt=X.call(on,"catchLoc"),et=X.call(on,"finallyLoc");if(rt&&et){if(this.prev<on.catchLoc)return Ht(on.catchLoc,!0);if(this.prev<on.finallyLoc)return Ht(on.finallyLoc)}else if(rt){if(this.prev<on.catchLoc)return Ht(on.catchLoc,!0)}else{if(!et)throw Error("try statement without catch or finally");if(this.prev<on.finallyLoc)return Ht(on.finallyLoc)}}}},abrupt:function(bt,At){for(var Ht=this.tryEntries.length-1;Ht>=0;--Ht){var zn=this.tryEntries[Ht];if(zn.tryLoc<=this.prev&&X.call(zn,"finallyLoc")&&this.prev<zn.finallyLoc){var on=zn;break}}on&&(bt==="break"||bt==="continue")&&on.tryLoc<=At&&At<=on.finallyLoc&&(on=null);var Ee=on?on.completion:{};return Ee.type=bt,Ee.arg=At,on?(this.method="next",this.next=on.finallyLoc,zt):this.complete(Ee)},complete:function(bt,At){if(bt.type==="throw")throw bt.arg;return bt.type==="break"||bt.type==="continue"?this.next=bt.arg:bt.type==="return"?(this.rval=this.arg=bt.arg,this.method="return",this.next="end"):bt.type==="normal"&&At&&(this.next=At),zt},finish:function(bt){for(var At=this.tryEntries.length-1;At>=0;--At){var Ht=this.tryEntries[At];if(Ht.finallyLoc===bt)return this.complete(Ht.completion,Ht.afterLoc),Qn(Ht),zt}},catch:function(bt){for(var At=this.tryEntries.length-1;At>=0;--At){var Ht=this.tryEntries[At];if(Ht.tryLoc===bt){var zn=Ht.completion;if(zn.type==="throw"){var on=zn.arg;Qn(Ht)}return on}}throw Error("illegal catch attempt")},delegateYield:function(bt,At,Ht){return this.delegate={iterator:Fr(bt),resultName:At,nextLoc:Ht},this.method==="next"&&(this.arg=R),zt}},B}function Sa(R,B){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,X){return H.__proto__=X,H},Sa(R,B)}function wa(R){return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},wa(R)}function Ea(R,B){if(R){if(typeof R=="string")return _a(R,B);var H={}.toString.call(R).slice(8,-1);return H==="Object"&&R.constructor&&(H=R.constructor.name),H==="Map"||H==="Set"?Array.from(R):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?_a(R,B):void 0}}function Pu(){Pu=function(J,de){return new H(J,void 0,de)};var R=RegExp.prototype,B=new WeakMap;function H(J,de,ue){var Me=RegExp(J,de);return B.set(Me,ue||B.get(J)),Sa(Me,H.prototype)}function X(J,de){var ue=B.get(de);return Object.keys(ue).reduce(function(Me,Se){var me=ue[Se];if(typeof me=="number")Me[Se]=J[me];else{for(var ze=0;J[me[ze]]===void 0&&ze+1<me.length;)ze++;Me[Se]=J[me[ze]]}return Me},Object.create(null))}return function(J,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(de&&de.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),de&&Sa(J,de)}(H,RegExp),H.prototype.exec=function(J){var de=R.exec.call(this,J);if(de){de.groups=X(de,this);var ue=de.indices;ue&&(ue.groups=X(ue,this))}return de},H.prototype[Symbol.replace]=function(J,de){if(typeof de=="string"){var ue=B.get(this);return R[Symbol.replace].call(this,J,de.replace(/\$<([^>]+)>/g,function(Se,me){var ze=ue[me];return"$"+(Array.isArray(ze)?ze.join("$"):ze)}))}if(typeof de=="function"){var Me=this;return R[Symbol.replace].call(this,J,function(){var Se=arguments;return typeof Se[Se.length-1]!="object"&&(Se=[].slice.call(Se)).push(X(Se,Me)),de.apply(this,Se)})}return R[Symbol.replace].call(this,J,de)},Pu.apply(this,arguments)}function Nl(){}var rr=function(R){return new Promise(function(B){setTimeout(B,R)})},Ch=function(R){return Math.pow(Math.SQRT2,R)},Za=Pu(/(\d+)(%)/,{value:1});function Lu(R){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:7,H=B;if(Za.test(R)){var X,J=(X=R.match(Za))===null||X===void 0?void 0:X.groups;if(J&&J.value){var de=parseInt(J.value)/100;H=Math.round(B*de)}}return Math.min(30,Math.max(1,H))}function Rh(R,B){return B("info","Throttle request to ".concat(R,"/s")),Qa()({limit:R,interval:1e3,strict:!1})}var Np=function(R){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",H=R.defaults.logHandler,X=H===void 0?Nl:H,J=qo()(B)?Lu(B):Lu("auto",B),de=Rh(J,X),ue=!1,Me=R.interceptors.request.use(function(me){return de(function(){return me})()},function(me){return Promise.reject(me)}),Se=R.interceptors.response.use(function(me){if(!ue&&qo()(B)&&(B==="auto"||Za.test(B))&&me.headers&&me.headers["x-contentful-ratelimit-second-limit"]){var ze=parseInt(me.headers["x-contentful-ratelimit-second-limit"]),tt=Lu(B,ze);tt!==J&&(Me&&R.interceptors.request.eject(Me),J=tt,de=Rh(tt,X),Me=R.interceptors.request.use(function(it){return de(function(){return it})()},function(it){return Promise.reject(it)})),ue=!0}return me},function(me){return Promise.reject(me)});return function(){R.interceptors.request.eject(Me),R.interceptors.response.eject(Se)}},ui=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function el(R,B){var H=Il(Il({},{insecure:!1,retryOnError:!0,logHandler:function(Et,zt){if(Et==="error"&&zt){var Zt=[zt.name,zt.message].filter(function(On){return On}).join(" - ");return console.error("[error] ".concat(Zt)),void console.error(zt)}console.log("[".concat(Et,"] ").concat(zt))},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,throttle:0,basePath:"",adapter:void 0,maxContentLength:1073741824,maxBodyLength:1073741824}),B);if(!H.accessToken){var X=new TypeError("Expected parameter accessToken");throw H.logHandler("error",X),X}var J,de,ue=H.insecure?"http":"https",Me=H.space?"".concat(H.space,"/"):"",Se=H.defaultHostname,me=H.insecure?80:443;if(H.host&&ui.test(H.host)){var ze=H.host.split(":");if(ze.length===2){var tt=(de=2,function(Et){if(Array.isArray(Et))return Et}(J=ze)||function(Et,zt){var Zt=Et==null?null:typeof Symbol<"u"&&Et[Symbol.iterator]||Et["@@iterator"];if(Zt!=null){var On,cr,Mr,Un,xn=[],Fn=!0,$r=!1;try{if(Mr=(Zt=Zt.call(Et)).next,zt===0){if(Object(Zt)!==Zt)return;Fn=!1}else for(;!(Fn=(On=Mr.call(Zt)).done)&&(xn.push(On.value),xn.length!==zt);Fn=!0);}catch(ir){$r=!0,cr=ir}finally{try{if(!Fn&&Zt.return!=null&&(Un=Zt.return(),Object(Un)!==Un))return}finally{if($r)throw cr}}return xn}}(J,de)||Ea(J,de)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());Se=tt[0],me=tt[1]}else Se=ze[0]}H.basePath&&(H.basePath="/".concat(H.basePath.split("/").filter(Boolean).join("/")));var it=B.baseURL||"".concat(ue,"://").concat(Se,":").concat(me).concat(H.basePath,"/spaces/").concat(Me);H.headers.Authorization||typeof H.accessToken=="function"||(H.headers.Authorization="Bearer "+H.accessToken);var vt={baseURL:it,headers:H.headers,httpAgent:H.httpAgent,httpsAgent:H.httpsAgent,proxy:H.proxy,timeout:H.timeout,adapter:H.adapter,maxContentLength:H.maxContentLength,maxBodyLength:H.maxBodyLength,paramsSerializer:{serialize:function(Et){return ya().stringify(Et)}},logHandler:H.logHandler,responseLogger:H.responseLogger,requestLogger:H.requestLogger,retryOnError:H.retryOnError},ht=R.create(vt);return ht.httpClientParams=B,ht.cloneWithNewParams=function(Et){return el(R,Il(Il({},Pr()(B)),Et))},H.onBeforeRequest&&ht.interceptors.request.use(H.onBeforeRequest),typeof H.accessToken=="function"&&function(Et,zt){Et.interceptors.request.use(function(Zt){return zt().then(function(On){return Zt.headers.set("Authorization","Bearer ".concat(On)),Zt})})}(ht,H.accessToken),H.throttle&&Np(ht,H.throttle),function(Et){var zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,Zt=Et.defaults,On=Zt.responseLogger,cr=On===void 0?Nl:On,Mr=Zt.requestLogger,Un=Mr===void 0?Nl:Mr;Et.interceptors.request.use(function(xn){return Un(xn),xn},function(xn){return Un(xn),Promise.reject(xn)}),Et.interceptors.response.use(function(xn){return cr(xn),xn},function(){var xn,Fn=(xn=Kc().mark(function $r(ir){var Ur,bi,Ti,Qn,fi;return Kc().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:if(Ur=ir.response,bi=ir.config,cr(ir),bi&&Et.defaults.retryOnError){Fr.next=5;break}return Fr.abrupt("return",Promise.reject(ir));case 5:if(!((Ti=bi.attempts||1)>zt)){Fr.next=9;break}return ir.attempts=bi.attempts,Fr.abrupt("return",Promise.reject(ir));case 9:if(Qn=null,fi=Ch(Ti),Ur?Ur.status>=500&&Ur.status<600?Qn="Server ".concat(Ur.status):Ur.status===429&&(Qn="Rate limit",Ur.headers&&ir.response.headers["x-contentful-ratelimit-reset"]&&(fi=Ur.headers["x-contentful-ratelimit-reset"])):Qn="Connection",!Qn){Fr.next=20;break}return fi=Math.floor(1e3*fi+200*Math.random()+500),Et.defaults.logHandler("warning","".concat(Qn," error occurred. Waiting for ").concat(fi," ms before retrying...")),bi.attempts=Ti+1,delete bi.httpAgent,delete bi.httpsAgent,bi.url=bi.url.split("?")[0],Fr.abrupt("return",rr(fi).then(function(){return Et(bi)}));case 20:return Fr.abrupt("return",Promise.reject(ir));case 21:case"end":return Fr.stop()}},$r)}),function(){var $r=this,ir=arguments;return new Promise(function(Ur,bi){var Ti=xn.apply($r,ir);function Qn(Fr){xa(Ti,Ur,bi,Qn,fi,"next",Fr)}function fi(Fr){xa(Ti,Ur,bi,Qn,fi,"throw",Fr)}Qn(void 0)})});return function($r){return Fn.apply(this,arguments)}}())}(ht,H.retryLimit),H.onError&&ht.interceptors.response.use(function(Et){return Et},H.onError),ht}function Ma(R){var B=R.query,H={};return delete B.resolveLinks,H.params=Pr()(B),H}function Ou(R){var B,H=function(J,de){var ue=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!ue){if(Array.isArray(J)||(ue=Ea(J))){ue&&(J=ue);var Me=0,Se=function(){};return{s:Se,n:function(){return Me>=J.length?{done:!0}:{done:!1,value:J[Me++]}},e:function(it){throw it},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,ze=!0,tt=!1;return{s:function(){ue=ue.call(J)},n:function(){var it=ue.next();return ze=it.done,it},e:function(it){tt=!0,me=it},f:function(){try{ze||ue.return==null||ue.return()}finally{if(tt)throw me}}}}(Object.getOwnPropertyNames(R));try{for(H.s();!(B=H.n()).done;){var X=R[B.value];X&&wa(X)==="object"&&Ou(X)}}catch(J){H.e(J)}finally{H.f()}return Object.freeze(R)}function Ph(){var R=window;if(!R)return null;var B=R.navigator.userAgent,H=R.navigator.platform;return["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(H)!==-1?"macOS":["iPhone","iPad","iPod"].indexOf(H)!==-1?"iOS":["Win32","Win64","Windows","WinCE"].indexOf(H)!==-1?"Windows":/Android/.test(B)?"Android":/Linux/.test(H)?"Linux":null}function Dl(R){return Object.defineProperty(R,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return Pr()(this)}})}function Ui(R){var B,H=R.config,X=R.response;if(H&&H.headers&&H.headers.Authorization){var J="...".concat(H.headers.Authorization.toString().substr(-5));H.headers.Authorization="Bearer ".concat(J)}if(!Ru()(X)||!Ru()(H))throw R;var de,ue=X==null?void 0:X.data,Me={status:X==null?void 0:X.status,statusText:X==null?void 0:X.statusText,message:"",details:{}};H&&Ru()(H)&&(Me.request={url:H.url,headers:H.headers,method:H.method,payloadData:H.data}),ue&&wa(ue)==="object"&&("requestId"in ue&&(Me.requestId=ue.requestId||"UNKNOWN"),"message"in ue&&(Me.message=ue.message||""),"details"in ue&&(Me.details=ue.details||{}),B=(de=ue.sys)===null||de===void 0?void 0:de.id);var Se=new Error;Se.name=B&&B!=="Unknown"?B:"".concat(X==null?void 0:X.status," ").concat(X==null?void 0:X.statusText);try{Se.message=JSON.stringify(Me,null,"  ")}catch{var me;Se.message=(me=Me==null?void 0:Me.message)!==null&&me!==void 0?me:""}throw Se}function Ar(R){return function(B){return Object.assign({},R,B)}}var Sr={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},xs={0:8203,1:8204,2:8205,3:65279},bo=new Array(4).fill(String.fromCodePoint(xs[0])).join("");function Iu(R,B,H="auto"){return H===!0||H==="auto"&&(function(X){return!(!Number.isNaN(Number(X))||/[a-z]/i.test(X)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(X)||!Date.parse(X))}(R)||function(X){try{new URL(X,X.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(R))?R:`${R}${function(X){let J=JSON.stringify(X);return`${bo}${Array.from(J).map(de=>{let ue=de.charCodeAt(0);if(ue>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${J} on character ${de} (${ue})`);return Array.from(ue.toString(4).padStart(4,"0")).map(Me=>String.fromCodePoint(xs[Me])).join("")}).join("")}`}(B)}`}Object.fromEntries(Object.entries(xs).map(R=>R.reverse())),Object.fromEntries(Object.entries(Sr).map(R=>R.reverse())),`${Object.values(Sr).map(R=>`\\u{${R.toString(16)}}`).join("")}`;function Ul(R,B){return Iu(R,B)}var Lh=Object.prototype.hasOwnProperty,Dp=Object.prototype.toString,wi=wr;function wr(R,B,H){if(arguments.length===3)return wr.set(R,B,H);if(arguments.length===2)return wr.get(R,B);var X=wr.bind(wr,R);for(var J in wr)wr.hasOwnProperty(J)&&(X[J]=wr[J].bind(X,R));return X}wr.get=function(R,B){for(var H=Array.isArray(B)?B:wr.parse(B),X=0;X<H.length;++X){var J=H[X];if(typeof R!="object"||!(J in R))throw new Error("Invalid reference token: "+J);R=R[J]}return R},wr.set=function(R,B,H){var X=Array.isArray(B)?B:wr.parse(B),J=X[0];if(X.length===0)throw Error("Can not set the root object");for(var de=0;de<X.length-1;++de){var ue=X[de];typeof ue!="string"&&typeof ue!="number"&&(ue=String(ue)),ue!=="__proto__"&&ue!=="constructor"&&ue!=="prototype"&&(ue==="-"&&Array.isArray(R)&&(ue=R.length),J=X[de+1],ue in R||(J.match(/^(\d+|-)$/)?R[ue]=[]:R[ue]={}),R=R[ue])}return J==="-"&&Array.isArray(R)&&(J=R.length),R[J]=H,this},wr.remove=function(R,B){var H=Array.isArray(B)?B:wr.parse(B),X=H[H.length-1];if(X===void 0)throw new Error('Invalid JSON pointer for remove: "'+B+'"');var J=wr.get(R,H.slice(0,-1));if(Array.isArray(J)){var de=+X;if(X===""&&isNaN(de))throw new Error('Invalid array index: "'+X+'"');Array.prototype.splice.call(J,de,1)}else delete J[X]},wr.dict=function(R,B){var H={};return wr.walk(R,function(X,J){H[J]=X},B),H},wr.walk=function(R,B,H){var X=[];H=H||function(J){var de=Object.prototype.toString.call(J);return de==="[object Object]"||de==="[object Array]"},function J(de){(function(ue,Me,Se){if(Dp.call(Me)!=="[object Function]")throw new TypeError("iterator must be a function");var me=ue.length;if(me===+me)for(var ze=0;ze<me;ze++)Me.call(Se,ue[ze],ze,ue);else for(var tt in ue)Lh.call(ue,tt)&&Me.call(Se,ue[tt],tt,ue)})(de,function(ue,Me){X.push(String(Me)),H(ue)?J(ue):B(ue,wr.compile(X)),X.pop()})}(R)},wr.has=function(R,B){try{wr.get(R,B)}catch{return!1}return!0},wr.escape=function(R){return R.toString().replace(/~/g,"~0").replace(/\//g,"~1")},wr.unescape=function(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")},wr.parse=function(R){if(R==="")return[];if(R.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+R);return R.substring(1).split(/\//).map(wr.unescape)},wr.compile=function(R){return R.length===0?"":"/"+R.map(wr.escape).join("/")};const jr=(R,B="")=>{const H=[],X=wi.get(R,B);if(X.content)for(let J=0;J<X.content.length;J++)X.content[J].nodeType==="text"?H.push(`${B}/content/${J}/value`):H.push(...jr(R,`${B}/content/${J}`));return H},Nu=({entityId:R,entityType:B,space:H,environment:X,field:J,locale:de,editorInterface:ue,fieldType:Me,targetOrigin:Se})=>({origin:"contentful.com",href:`${Se||"https://app.contentful.com"}/spaces/${H}/environments/${X}/${B==="Entry"?"entries":"assets"}/${R}/?focusedField=${J}&focusedLocale=${de}`,contentful:{space:H,environment:X,field:J,locale:de,entity:R,entityType:B,editorInterface:ue,fieldType:Me}}),Ei=R=>["builtin","sidebar-builtin","editor-builtin"].includes(R),Fl=R=>tl.includes(R),tl=["singleLine","tagEditor","listInput","checkbox","richTextEditor","multipleLine","markdown"];function ci(R,B,H,X,J,de,ue){const Me=ue?B[ue]:B;switch(R){case"Symbol":{const Se=Ul(Me,H);wi.set(X,J,Se);break}case"RichText":(({pointer:Se,mappings:me,data:ze,hiddenStrings:tt})=>{const it=me[Se];delete me[Se];const vt=jr(ze,Se);for(const ht of vt){me[ht]=it;const Et=Ul(wi.get(ze,ht),tt);wi.set(ze,ht,Et)}})({pointer:"",mappings:de,data:Me,hiddenStrings:H});break;case"Array":{const Se=Me.map(me=>typeof me=="string"?Ul(me,H):me);wi.set(X,J,Se);break}}}const ba=(R,B,H,X)=>{if(!R.fields)return;const{contentSourceMaps:J}=R.sys;if(!J)return void console.error("Content source maps data is missing");const{mappings:de}=J;for(const ue in de){const{source:Me}=de[ue],Se=R.sys.space.sys.id,me=R.sys.environment.sys.id,ze=R.sys.id,tt=R.sys.type,it=B[Me.fieldType],vt=H[Me.editorInterface];if(Ei(vt.widgetNamespace)&&!Fl(vt.widgetId))continue;const ht=ue.startsWith("/")?ue:`/${ue}`;if(wi.has(R,ht)){const Et=wi.get(R,ht);if(Et===null)return;const zt=ht.split("/").pop();if(!zt)return void console.error("Field name could not be extracted from the pointer",ht);const Zt=R.sys.locale;if(Zt){const On=Nu({entityId:ze,entityType:tt,space:Se,environment:me,field:zt,locale:Zt,editorInterface:vt,fieldType:it,targetOrigin:X});ci(it,Et,On,R,ht,de)}else Object.keys(Et).forEach(On=>{const cr=Nu({entityId:ze,entityType:tt,space:Se,environment:me,field:zt,locale:On,editorInterface:vt,fieldType:it,targetOrigin:X});ci(it,Et,cr,R,`${ht}/${On}`,de,On)})}else console.error("Pointer not found in the target",ue,R)}},Du=(R,B)=>{var H;const X=function(J){if(typeof structuredClone=="function")return structuredClone(J);try{return JSON.parse(JSON.stringify(J))}catch(de){return console.warn("Failed to clone data:",J,de),J}}(R);if(X.sys&&"items"in X){const J=X;if((H=J.sys)==null||!H.contentSourceMapsLookup)return console.error("Content source maps lookup data is missing"),J;const{contentSourceMapsLookup:{fieldTypes:de,editorInterfaces:ue}}=J.sys,{items:Me,includes:Se}=J;Me.forEach(me=>ba(me,de,ue,B)),Se&&Se.Entry&&Se.Entry.forEach(me=>ba(me,de,ue,B)),Se&&Se.Asset&&Se.Asset.forEach(me=>ba(me,de,ue,B))}else{const J=X;if(!J.sys.contentSourceMapsLookup)return console.error("Content source maps lookup data is missing"),J;ba(J,J.sys.contentSourceMapsLookup.fieldTypes,J.sys.contentSourceMapsLookup.editorInterfaces,B)}return X};var $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function Yo(R){if(Array.isArray(R)){for(var B=0,H=Array(R.length);B<R.length;B++)H[B]=R[B];return H}return Array.from(R)}var To={},Ko=function(R,B){var H=B.entryId,X=B.linkType,J=B.spaceId,de=B.environmentId;return J&&de?R.get(J+"!"+de+"!"+X+"!"+H):R.get(X+"!"+H)},Nr=function(R,B){var H=B.sys,X=H.type,J=H.linkType;if(X==="ResourceLink"){if(!J.startsWith("Contentful:"))return To;var de=function(tt){var it=/.*:spaces\/([^/]+)(?:\/environments\/([^/]+))?\/entries\/([^/]+)$/;if(it.test(tt)){var vt=function(zt,Zt){if(Array.isArray(zt))return zt;if(Symbol.iterator in Object(zt))return function(On,cr){var Mr=[],Un=!0,xn=!1,Fn=void 0;try{for(var $r,ir=On[Symbol.iterator]();!(Un=($r=ir.next()).done)&&(Mr.push($r.value),!cr||Mr.length!==cr);Un=!0);}catch(Ur){xn=!0,Fn=Ur}finally{try{!Un&&ir.return&&ir.return()}finally{if(xn)throw Fn}}return Mr}(zt,Zt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(tt.match(it),4),ht=(vt[0],vt[1]),Et=vt[2];return{spaceId:ht,environmentId:Et===void 0?"master":Et,entryId:vt[3]}}}(B.sys.urn),ue=de.spaceId,Me=de.environmentId,Se=de.entryId,me=J.split(":")[1];return Ko(R,{linkType:me,entryId:Se,spaceId:ue,environmentId:Me})||To}var ze=B.sys.id;return Ko(R,{linkType:J,entryId:ze})||To},oo=function R(B,H,X,J){if(H(B))return X(B);if(B&&(B===void 0?"undefined":$c(B))==="object"){for(var de in B)B.hasOwnProperty(de)&&(B[de]=R(B[de],H,X,J));J&&(B=function(ue){if(Array.isArray(ue))return ue.filter(function(Se){return Se!==To});for(var Me in ue)ue[Me]===To&&delete ue[Me];return ue}(B))}return B},Yr=function(R,B){if(B=B||{},!R.items)return[];var H=Pr()(R),X=Object.keys(H.includes||{}).reduce(function(ue,Me){return[].concat(Yo(ue),Yo(R.includes[Me]))},[]),J=[].concat(Yo(H.items),Yo(X)).filter(function(ue){return!!ue.sys}),de=new Map(J.reduce(function(ue,Me){var Se,me=(Se=Me.sys,Se.space&&Se.environment?[Se.type+"!"+Se.id,Se.space.sys.id+"!"+Se.environment.sys.id+"!"+Se.type+"!"+Se.id]:[Se.type+"!"+Se.id]).map(function(ze){return[ze,Me]});return ue.push.apply(ue,Yo(me)),ue},[]));return J.forEach(function(ue){var Me=function(Se,me){return Array.isArray(me)?Object.keys(Se).filter(function(ze){return me.indexOf(ze)!==-1}).reduce(function(ze,tt){return ze[tt]=Se[tt],ze},{}):Se}(ue,B.itemEntryPoints);Object.assign(ue,oo(Me,function(Se){return(me=Se)&&me.sys&&me.sys.type==="Link"||function(ze){return ze&&ze.sys&&ze.sys.type==="ResourceLink"}(Se);var me},function(Se){return function(me,ze,tt){var it=Nr(me,ze);return it===To?tt?it:ze:it}(de,Se,B.removeUnresolved)},B.removeUnresolved))}),H.items},Qc=i(9078),Jc=i.n(Qc);function Mi(R){return Object.defineProperty(R,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(B=null,H=""){return Jc()(this,B,H,(X,J)=>({sys:{type:"Link",linkType:"Entry",id:J.sys.id,circular:!0}}))}})}async function Ds(R,B,H){if(!B||!B.initial&&!B.nextSyncToken&&!B.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(B.content_type&&!B.type)B.type="Entry";else if(B.content_type&&B.type&&B.type!=="Entry")throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");const{withoutLinkResolution:X,withoutUnresolvableLinks:J,paginate:de}=Object.assign(Object.assign({},{withoutLinkResolution:!1,withoutUnresolvableLinks:!1,paginate:!0}),H),ue=await Ta(R,[],B,{paginate:de});X||(ue.items=Yr(ue,{removeUnresolved:J,itemEntryPoints:["fields"]}));const Me=function(me){const ze=tt=>(it,vt)=>(vt.sys.type===tt&&it.push(Dl(vt)),it);return{entries:me.reduce(ze("Entry"),[]),assets:me.reduce(ze("Asset"),[]),deletedEntries:me.reduce(ze("DeletedEntry"),[]),deletedAssets:me.reduce(ze("DeletedAsset"),[])}}(ue.items);return ue.nextSyncToken&&(Me.nextSyncToken=ue.nextSyncToken),ue.nextPageToken&&(Me.nextPageToken=ue.nextPageToken),Ou((Se=Mi(Dl(Me))).sys||{}),Se;var Se}async function Ta(R,B,H,{paginate:X}){const J=(de=H).nextPageToken?{sync_token:de.nextPageToken}:de.nextSyncToken?{sync_token:de.nextSyncToken}:de.sync_token?{sync_token:de.sync_token}:de;var de;const ue=(await R.get("sync",Ma({query:J}))).data||{};return B=B.concat(ue.items||[]),ue.nextPageUrl?X?(delete J.initial,J.sync_token=Er(ue.nextPageUrl),Ta(R,B,J,{paginate:X})):{items:B,nextPageToken:Er(ue.nextPageUrl)}:ue.nextSyncUrl?{items:B,nextSyncToken:Er(ue.nextSyncUrl)}:{items:[]}}function Er(R){const B=R.split("?");return B.length>0?B[1].replace("sync_token=",""):""}function ds(R){const B={};let H=!1;for(const X in R)Array.isArray(R[X])&&(B[X]=R[X].join(","),H=!0);return H?Object.assign(Object.assign({},R),B):R}function Bl(R){if(!R.select)return new Set;const B=Array.isArray(R.select)?R.select:R.select.split(",").map(H=>H.trim());return new Set(B)}function nl(R){if(!R.select)return R;const B=Bl(R);return B.has("sys")?R:(B.add("sys.id"),B.add("sys.type"),Object.assign(Object.assign({},R),{select:[...B].join(",")}))}function rl(R,{resolveLinks:B,removeUnresolved:H}){const X=Mi(R);return B&&(X.items=Yr(X,{removeUnresolved:H,itemEntryPoints:["fields"]})),X}class Ss extends Error{constructor(B,H){super(`Invalid "${B}" provided, `+H),this.name="ValidationError"}}function kl(R,B){B?function(H){if(H.locale)throw new Ss("locale","The `locale` parameter is not allowed")}(R):function(H){if(H.locale==="*")throw new Ss("locale",`The use of locale='*' is no longer supported.To fetch an entry in all existing locales,
      use client.withAllLocales instead of the locale='*' parameter.`)}(R)}function zl(R){if("resolveLinks"in R)throw new Ss("resolveLinks",`The use of the 'resolveLinks' parameter is no longer supported. By default, links are resolved.
      If you do not want to resolve links, use client.withoutLinkResolution.`)}function il(R){if("removeUnresolved"in R)throw new Ss("removeUnresolved",`The use of the 'removeUnresolved' parameter is no longer supported. By default, unresolved links are kept as link objects.
      If you do not want to include unresolved links, use client.withoutUnresolvableLinks.`)}function Us(R){for(const B in R){const H=R[B];if(typeof H=="object"&&H!==null&&!Array.isArray(H))throw new Error(`Objects are not supported as value for the "${B}" query parameter.`)}}class Fs extends Error{constructor(B,H,X){super("The resource could not be found."),this.sys={type:"Error",id:"NotFound"},this.details={type:"Entry",id:B,environment:H,space:X}}}function Aa({http:R,getGlobalOptions:B},H){const X=(Se="unknown")=>new Fs(Se,B().environment,B().space),J=Se=>{let me=Se==="space"?B().spaceBaseUrl:B().environmentBaseUrl;if(!me)throw new Error("Please define baseUrl for "+Se);return me.endsWith("/")||(me+="/"),me};function de(Se={}){var me,ze;const tt=(me=R.httpClientParams)===null||me===void 0?void 0:me.alphaFeatures;if(function(it,vt){if(!vt||Object.keys(vt).length===0)return!1;const ht=it==="preview.contentful.com";if(function(Et){if(!Et)return!1;if(!("includeContentSourceMaps"in Et)||typeof Et.includeContentSourceMaps!="boolean")throw new Ss("includeContentSourceMaps","The 'includeContentSourceMaps' parameter must be a boolean.");return!0}(vt)&&!ht)throw new Ss("includeContentSourceMaps",`The 'includeContentSourceMaps' parameter can only be used with the CPA. Please set host to 'preview.contentful.com' to include Content Source Maps.
      `);return vt.includeContentSourceMaps}((ze=R.httpClientParams)===null||ze===void 0?void 0:ze.host,tt)&&(Se.includeContentSourceMaps=!0,Se.select)){const it=Bl(Se);it.add("sys"),Se.select=Array.from(it).join(",")}return Se}async function ue({context:Se,path:me,config:ze}){const tt=J(Se);try{return function(it,vt){var ht;return!((ht=vt==null?void 0:vt.params)===null||ht===void 0)&&ht.includeContentSourceMaps?Du(it):it}((await R.get(tt+me,ze)).data,ze)}catch(it){Ui(it)}}async function Me(Se,me){var ze;const{withoutLinkResolution:tt,withoutUnresolvableLinks:it}=me;try{return rl(await ue({context:"environment",path:"entries",config:Ma({query:de(ds(nl(Se)))})}),{resolveLinks:(ze=!tt)===null||ze===void 0||ze,removeUnresolved:it!=null&&it})}catch(vt){Ui(vt)}}return{version:"10.12.7",getSpace:async function(){return ue({context:"space",path:""})},getContentType:async function(Se){return ue({context:"environment",path:`content_types/${Se}`})},getContentTypes:async function(Se={}){return ue({context:"environment",path:"content_types",config:Ma({query:Se})})},getAsset:async function(Se,me={}){return async function(ze,tt,it={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:vt}=it;return kl(tt,vt),Us(tt),async function(ht,Et){try{return ue({context:"environment",path:`assets/${ht}`,config:Ma({query:de(nl(Et))})})}catch(zt){Ui(zt)}}(ze,vt?Object.assign(Object.assign({},tt),{locale:"*"}):tt)}(Se,me,H)},getAssets:async function(Se={}){return async function(me,ze={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:tt}=ze;return kl(me,tt),Us(me),async function(it){try{return ue({context:"environment",path:"assets",config:Ma({query:de(ds(nl(it)))})})}catch(vt){Ui(vt)}}(tt?Object.assign(Object.assign({},me),{locale:"*"}):me)}(Se,H)},getTag:async function(Se){return ue({context:"environment",path:`tags/${Se}`})},getTags:async function(Se={}){return Us(Se),ue({context:"environment",path:"tags",config:Ma({query:ds(nl(Se))})})},getLocales:async function(Se={}){return Us(Se),ue({context:"environment",path:"locales",config:Ma({query:nl(Se)})})},parseEntries:function(Se){return function(me,ze={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){return function(tt,it){var vt;const{withoutLinkResolution:ht,withoutUnresolvableLinks:Et}=it;return rl(tt,{resolveLinks:(vt=!ht)===null||vt===void 0||vt,removeUnresolved:Et!=null&&Et})}(me,ze)}(Se,H)},sync:async function(Se,me={paginate:!0}){return async function(ze,tt,it={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){zl(ze),il(ze);const vt=Object.assign(Object.assign({},tt),it);return function(ht){ht.defaults.baseURL=B().environmentBaseUrl}(R),Ds(R,ze,vt)}(Se,me,H)},getEntry:async function(Se,me={}){return async function(ze,tt,it={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:vt}=it;return kl(tt,vt),zl(tt),il(tt),Us(tt),async function(ht,Et,zt){if(!ht)throw X(ht);try{const Zt=await Me(Object.assign({"sys.id":ht},de(Et)),zt);if(Zt.items.length>0)return Zt.items[0];throw X(ht)}catch(Zt){Ui(Zt)}}(ze,vt?Object.assign(Object.assign({},tt),{locale:"*"}):tt,it)}(Se,me,H)},getEntries:async function(Se={}){return async function(me,ze={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:tt}=ze;return kl(me,tt),zl(me),il(me),Us(me),Me(tt?Object.assign(Object.assign({},me),{locale:"*"}):me,ze)}(Se,H)},createAssetKey:async function(Se){try{const me=Math.floor(Date.now()/1e3);(function(ze,tt,it){if(it=it||{},typeof tt!="number")throw new Ss(ze,`only numeric values are allowed for timestamps, provided type was "${typeof tt}"`);if(it.maximum&&tt>it.maximum)throw new Ss(ze,`value (${tt}) cannot be further in the future than expected maximum (${it.maximum})`);if(it.now&&tt<it.now)throw new Ss(ze,`value (${tt}) cannot be in the past, current time was ${it.now}`)})("expiresAt",Se,{maximum:me+172800,now:me})}catch(me){Ui(me)}return async function({context:me,path:ze,data:tt,config:it}){const vt=J(me);try{return(await R.post(vt+ze,tt,it)).data}catch(ht){Ui(ht)}}({context:"environment",path:"asset_keys",data:{expiresAt:Se}})}}}const Hl=({http:R,getGlobalOptions:B})=>{function H(J){return function({http:de,getGlobalOptions:ue},Me,Se){const me=Aa({http:de,getGlobalOptions:ue},Me)||{};return Object.defineProperty(me,"withAllLocales",{get:()=>Se(Object.assign(Object.assign({},Me),{withAllLocales:!0}))}),Object.defineProperty(me,"withoutLinkResolution",{get:()=>Se(Object.assign(Object.assign({},Me),{withoutLinkResolution:!0}))}),Object.defineProperty(me,"withoutUnresolvableLinks",{get:()=>Se(Object.assign(Object.assign({},Me),{withoutUnresolvableLinks:!0}))}),Object.create(me)}({http:R,getGlobalOptions:B},J,H)}const X=Aa({http:R,getGlobalOptions:B},{withoutLinkResolution:!1,withAllLocales:!1,withoutUnresolvableLinks:!1});return Object.assign(Object.assign({},X),{get withAllLocales(){return H({withAllLocales:!0,withoutLinkResolution:!1,withoutUnresolvableLinks:!1})},get withoutLinkResolution(){return H({withAllLocales:!1,withoutLinkResolution:!0,withoutUnresolvableLinks:!1})},get withoutUnresolvableLinks(){return H({withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!0})}})};function Gl(R){if(!R.accessToken)throw new TypeError("Expected parameter accessToken");if(!R.space)throw new TypeError("Expected parameter space");zl(R),il(R);const B=Object.assign(Object.assign({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"}),R),H=function(de,ue,Me,Se){var me=[];ue&&me.push("app ".concat(ue)),Me&&me.push("integration ".concat(Me)),me.push("sdk ".concat(de));var ze=null;try{typeof window<"u"&&"navigator"in window&&"product"in window.navigator&&window.navigator.product==="ReactNative"?(ze=Ph(),me.push("platform ReactNative")):typeof process>"u"||process.browser?(ze=Ph(),me.push("platform browser")):(ze=function(){var tt=process.platform||"linux",it=process.version||"0.0.0",vt={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return tt in vt?"".concat(vt[tt]||"Linux","/").concat(it):null}(),me.push("platform node.js/".concat(process.versions&&process.versions.node?"v".concat(process.versions.node):process.version)))}catch{ze=null}return ze&&me.push("os ".concat(ze)),"".concat(me.filter(function(tt){return tt!==""}).join("; "),";")}("contentful.js/10.12.7",B.application,B.integration);B.headers=Object.assign(Object.assign({},B.headers),{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":H});const X=el(Qi,B);if(!X.defaults.baseURL)throw new Error("Please define a baseURL");const J=Ar({space:B.space,environment:B.environment,spaceBaseUrl:X.defaults.baseURL,environmentBaseUrl:`${X.defaults.baseURL}environments/${B.environment}`});return X.defaults.baseURL=J({}).environmentBaseUrl,Hl({http:X,getGlobalOptions:J})}}(),s}()})})(ZL);var u7=ZL.exports,c7={};(function(n){var e=Ae,t=function(){return t=Object.assign||function(G){for(var V,k=1,ie=arguments.length;k<ie;k++){V=arguments[k];for(var te in V)Object.prototype.hasOwnProperty.call(V,te)&&(G[te]=V[te])}return G},t.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof mc<"u"?mc:typeof self<"u"?self:{},i={},s={};Object.defineProperty(s,"__esModule",{value:!0}),s.BLOCKS=void 0;var a;(function(W){W.DOCUMENT="document",W.PARAGRAPH="paragraph",W.HEADING_1="heading-1",W.HEADING_2="heading-2",W.HEADING_3="heading-3",W.HEADING_4="heading-4",W.HEADING_5="heading-5",W.HEADING_6="heading-6",W.OL_LIST="ordered-list",W.UL_LIST="unordered-list",W.LIST_ITEM="list-item",W.HR="hr",W.QUOTE="blockquote",W.EMBEDDED_ENTRY="embedded-entry-block",W.EMBEDDED_ASSET="embedded-asset-block",W.EMBEDDED_RESOURCE="embedded-resource-block",W.TABLE="table",W.TABLE_ROW="table-row",W.TABLE_CELL="table-cell",W.TABLE_HEADER_CELL="table-header-cell"})(a||(s.BLOCKS=a={}));var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.INLINES=void 0;var o;(function(W){W.HYPERLINK="hyperlink",W.ENTRY_HYPERLINK="entry-hyperlink",W.ASSET_HYPERLINK="asset-hyperlink",W.RESOURCE_HYPERLINK="resource-hyperlink",W.EMBEDDED_ENTRY="embedded-entry-inline",W.EMBEDDED_RESOURCE="embedded-resource-inline"})(o||(l.INLINES=o={}));var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.MARKS=void 0;var c;(function(W){W.BOLD="bold",W.ITALIC="italic",W.UNDERLINE="underline",W.CODE="code",W.SUPERSCRIPT="superscript",W.SUBSCRIPT="subscript",W.STRIKETHROUGH="strikethrough"})(c||(u.MARKS=c={}));var f={};(function(W){var G=r&&r.__spreadArray||function(se,oe,ve){if(ve||arguments.length===2)for(var xe=0,he=oe.length,Ue;xe<he;xe++)(Ue||!(xe in oe))&&(Ue||(Ue=Array.prototype.slice.call(oe,0,xe)),Ue[xe]=oe[xe]);return se.concat(Ue||Array.prototype.slice.call(oe))},V;Object.defineProperty(W,"__esModule",{value:!0}),W.V1_MARKS=W.V1_NODE_TYPES=W.TEXT_CONTAINERS=W.HEADINGS=W.CONTAINERS=W.VOID_BLOCKS=W.TABLE_BLOCKS=W.LIST_ITEM_BLOCKS=W.TOP_LEVEL_BLOCKS=void 0;var k=s,ie=l,te=u;W.TOP_LEVEL_BLOCKS=[k.BLOCKS.PARAGRAPH,k.BLOCKS.HEADING_1,k.BLOCKS.HEADING_2,k.BLOCKS.HEADING_3,k.BLOCKS.HEADING_4,k.BLOCKS.HEADING_5,k.BLOCKS.HEADING_6,k.BLOCKS.OL_LIST,k.BLOCKS.UL_LIST,k.BLOCKS.HR,k.BLOCKS.QUOTE,k.BLOCKS.EMBEDDED_ENTRY,k.BLOCKS.EMBEDDED_ASSET,k.BLOCKS.EMBEDDED_RESOURCE,k.BLOCKS.TABLE],W.LIST_ITEM_BLOCKS=[k.BLOCKS.PARAGRAPH,k.BLOCKS.HEADING_1,k.BLOCKS.HEADING_2,k.BLOCKS.HEADING_3,k.BLOCKS.HEADING_4,k.BLOCKS.HEADING_5,k.BLOCKS.HEADING_6,k.BLOCKS.OL_LIST,k.BLOCKS.UL_LIST,k.BLOCKS.HR,k.BLOCKS.QUOTE,k.BLOCKS.EMBEDDED_ENTRY,k.BLOCKS.EMBEDDED_ASSET,k.BLOCKS.EMBEDDED_RESOURCE],W.TABLE_BLOCKS=[k.BLOCKS.TABLE,k.BLOCKS.TABLE_ROW,k.BLOCKS.TABLE_CELL,k.BLOCKS.TABLE_HEADER_CELL],W.VOID_BLOCKS=[k.BLOCKS.HR,k.BLOCKS.EMBEDDED_ENTRY,k.BLOCKS.EMBEDDED_ASSET,k.BLOCKS.EMBEDDED_RESOURCE],W.CONTAINERS=(V={},V[k.BLOCKS.OL_LIST]=[k.BLOCKS.LIST_ITEM],V[k.BLOCKS.UL_LIST]=[k.BLOCKS.LIST_ITEM],V[k.BLOCKS.LIST_ITEM]=W.LIST_ITEM_BLOCKS,V[k.BLOCKS.QUOTE]=[k.BLOCKS.PARAGRAPH],V[k.BLOCKS.TABLE]=[k.BLOCKS.TABLE_ROW],V[k.BLOCKS.TABLE_ROW]=[k.BLOCKS.TABLE_CELL,k.BLOCKS.TABLE_HEADER_CELL],V[k.BLOCKS.TABLE_CELL]=[k.BLOCKS.PARAGRAPH],V[k.BLOCKS.TABLE_HEADER_CELL]=[k.BLOCKS.PARAGRAPH],V),W.HEADINGS=[k.BLOCKS.HEADING_1,k.BLOCKS.HEADING_2,k.BLOCKS.HEADING_3,k.BLOCKS.HEADING_4,k.BLOCKS.HEADING_5,k.BLOCKS.HEADING_6],W.TEXT_CONTAINERS=G([k.BLOCKS.PARAGRAPH],W.HEADINGS,!0),W.V1_NODE_TYPES=[k.BLOCKS.DOCUMENT,k.BLOCKS.PARAGRAPH,k.BLOCKS.HEADING_1,k.BLOCKS.HEADING_2,k.BLOCKS.HEADING_3,k.BLOCKS.HEADING_4,k.BLOCKS.HEADING_5,k.BLOCKS.HEADING_6,k.BLOCKS.OL_LIST,k.BLOCKS.UL_LIST,k.BLOCKS.LIST_ITEM,k.BLOCKS.HR,k.BLOCKS.QUOTE,k.BLOCKS.EMBEDDED_ENTRY,k.BLOCKS.EMBEDDED_ASSET,ie.INLINES.HYPERLINK,ie.INLINES.ENTRY_HYPERLINK,ie.INLINES.ASSET_HYPERLINK,ie.INLINES.EMBEDDED_ENTRY,"text"],W.V1_MARKS=[te.MARKS.BOLD,te.MARKS.CODE,te.MARKS.ITALIC,te.MARKS.UNDERLINE]})(f);var p={};Object.defineProperty(p,"__esModule",{value:!0});var g={};Object.defineProperty(g,"__esModule",{value:!0});var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.EMPTY_DOCUMENT=void 0;var x=s;v.EMPTY_DOCUMENT={nodeType:x.BLOCKS.DOCUMENT,data:{},content:[{nodeType:x.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.isText=S.isBlock=S.isInline=void 0;var _=s,w=l;function E(W,G){for(var V=0,k=Object.keys(W);V<k.length;V++){var ie=k[V];if(G===W[ie])return!0}return!1}function T(W){return E(w.INLINES,W.nodeType)}S.isInline=T;function L(W){return E(_.BLOCKS,W.nodeType)}S.isBlock=L;function A(W){return W.nodeType==="text"}S.isText=A,function(W){var G=r&&r.__createBinding||(Object.create?function(he,Ue,ke,Qe){Qe===void 0&&(Qe=ke);var Le=Object.getOwnPropertyDescriptor(Ue,ke);(!Le||("get"in Le?!Ue.__esModule:Le.writable||Le.configurable))&&(Le={enumerable:!0,get:function(){return Ue[ke]}}),Object.defineProperty(he,Qe,Le)}:function(he,Ue,ke,Qe){Qe===void 0&&(Qe=ke),he[Qe]=Ue[ke]}),V=r&&r.__setModuleDefault||(Object.create?function(he,Ue){Object.defineProperty(he,"default",{enumerable:!0,value:Ue})}:function(he,Ue){he.default=Ue}),k=r&&r.__exportStar||function(he,Ue){for(var ke in he)ke!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,ke)&&G(Ue,he,ke)},ie=r&&r.__importStar||function(he){if(he&&he.__esModule)return he;var Ue={};if(he!=null)for(var ke in he)ke!=="default"&&Object.prototype.hasOwnProperty.call(he,ke)&&G(Ue,he,ke);return V(Ue,he),Ue};Object.defineProperty(W,"__esModule",{value:!0}),W.helpers=W.EMPTY_DOCUMENT=W.MARKS=W.INLINES=W.BLOCKS=void 0;var te=s;Object.defineProperty(W,"BLOCKS",{enumerable:!0,get:function(){return te.BLOCKS}});var se=l;Object.defineProperty(W,"INLINES",{enumerable:!0,get:function(){return se.INLINES}});var oe=u;Object.defineProperty(W,"MARKS",{enumerable:!0,get:function(){return oe.MARKS}}),k(f,W),k(p,W),k(g,W);var ve=v;Object.defineProperty(W,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return ve.EMPTY_DOCUMENT}});var xe=ie(S);W.helpers=xe}(i);function O(W,G){return e.isValidElement(W)&&W.key===null?e.cloneElement(W,{key:G}):W}function U(W,G){return W.map(function(V,k){return O(F(V,G),k)})}function F(W,G){var V=G.renderNode,k=G.renderMark,ie=G.renderText,te=G.preserveWhitespace;if(i.helpers.isText(W)){var se=ie?ie(W.value):W.value;if(te){se=se.replace(/ {2,}/g,function(he){return" ".repeat(he.length)});var oe=se.split(`
`),ve=[];oe.forEach(function(he,Ue){ve.push(he),Ue!==oe.length-1&&ve.push(e.createElement("br",null))}),se=ve}return W.marks.reduce(function(he,Ue){return k[Ue.type]?k[Ue.type](he):he},se)}else{var xe=U(W.content,G);return!W.nodeType||!V[W.nodeType]?e.createElement(e.Fragment,null,xe):V[W.nodeType](W,xe)}}var P,N,K=(P={},P[i.BLOCKS.DOCUMENT]=function(W,G){return G},P[i.BLOCKS.PARAGRAPH]=function(W,G){return e.createElement("p",null,G)},P[i.BLOCKS.HEADING_1]=function(W,G){return e.createElement("h1",null,G)},P[i.BLOCKS.HEADING_2]=function(W,G){return e.createElement("h2",null,G)},P[i.BLOCKS.HEADING_3]=function(W,G){return e.createElement("h3",null,G)},P[i.BLOCKS.HEADING_4]=function(W,G){return e.createElement("h4",null,G)},P[i.BLOCKS.HEADING_5]=function(W,G){return e.createElement("h5",null,G)},P[i.BLOCKS.HEADING_6]=function(W,G){return e.createElement("h6",null,G)},P[i.BLOCKS.EMBEDDED_ENTRY]=function(W,G){return e.createElement("div",null,G)},P[i.BLOCKS.EMBEDDED_RESOURCE]=function(W,G){return e.createElement("div",null,G)},P[i.BLOCKS.UL_LIST]=function(W,G){return e.createElement("ul",null,G)},P[i.BLOCKS.OL_LIST]=function(W,G){return e.createElement("ol",null,G)},P[i.BLOCKS.LIST_ITEM]=function(W,G){return e.createElement("li",null,G)},P[i.BLOCKS.QUOTE]=function(W,G){return e.createElement("blockquote",null,G)},P[i.BLOCKS.HR]=function(){return e.createElement("hr",null)},P[i.BLOCKS.TABLE]=function(W,G){return e.createElement("table",null,e.createElement("tbody",null,G))},P[i.BLOCKS.TABLE_ROW]=function(W,G){return e.createElement("tr",null,G)},P[i.BLOCKS.TABLE_HEADER_CELL]=function(W,G){return e.createElement("th",null,G)},P[i.BLOCKS.TABLE_CELL]=function(W,G){return e.createElement("td",null,G)},P[i.INLINES.ASSET_HYPERLINK]=function(W){return j(i.INLINES.ASSET_HYPERLINK,W)},P[i.INLINES.ENTRY_HYPERLINK]=function(W){return j(i.INLINES.ENTRY_HYPERLINK,W)},P[i.INLINES.RESOURCE_HYPERLINK]=function(W){return le(i.INLINES.RESOURCE_HYPERLINK,W)},P[i.INLINES.EMBEDDED_ENTRY]=function(W){return j(i.INLINES.EMBEDDED_ENTRY,W)},P[i.INLINES.EMBEDDED_RESOURCE]=function(W,G){return le(i.INLINES.EMBEDDED_RESOURCE,W)},P[i.INLINES.HYPERLINK]=function(W,G){return e.createElement("a",{href:W.data.uri},G)},P),$=(N={},N[i.MARKS.BOLD]=function(W){return e.createElement("b",null,W)},N[i.MARKS.ITALIC]=function(W){return e.createElement("i",null,W)},N[i.MARKS.UNDERLINE]=function(W){return e.createElement("u",null,W)},N[i.MARKS.CODE]=function(W){return e.createElement("code",null,W)},N[i.MARKS.SUPERSCRIPT]=function(W){return e.createElement("sup",null,W)},N[i.MARKS.SUBSCRIPT]=function(W){return e.createElement("sub",null,W)},N[i.MARKS.STRIKETHROUGH]=function(W){return e.createElement("s",null,W)},N);function j(W,G){return e.createElement("span",{key:G.data.target.sys.id},"type: ",G.nodeType," id: ",G.data.target.sys.id)}function le(W,G){return e.createElement("span",{key:G.data.target.sys.urn},"type: ",G.nodeType," urn: ",G.data.target.sys.urn)}function re(W,G){return G===void 0&&(G={}),W?F(W,{renderNode:t(t({},K),G.renderNode),renderMark:t(t({},$),G.renderMark),renderText:G.renderText,preserveWhitespace:G.preserveWhitespace}):null}n.documentToReactComponents=re})(c7);const f7=()=>u7.createClient({space:"8atb7a9mpajr",accessToken:"h0wdXspqiRwB18g2pZYWplLJbNXryLVki94KBLlEL7E",host:"cdn.contentful.com"});f7();function eO(n,e){return function(){return n.apply(e,arguments)}}const{toString:h7}=Object.prototype,{getPrototypeOf:fb}=Object,lx=(n=>e=>{const t=h7.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Pl=n=>(n=n.toLowerCase(),e=>lx(e)===n),ux=n=>e=>typeof e===n,{isArray:Ep}=Array,Pg=ux("undefined");function d7(n){return n!==null&&!Pg(n)&&n.constructor!==null&&!Pg(n.constructor)&&fa(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const tO=Pl("ArrayBuffer");function p7(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&tO(n.buffer),e}const m7=ux("string"),fa=ux("function"),nO=ux("number"),cx=n=>n!==null&&typeof n=="object",g7=n=>n===!0||n===!1,G0=n=>{if(lx(n)!=="object")return!1;const e=fb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},v7=Pl("Date"),y7=Pl("File"),_7=Pl("Blob"),x7=Pl("FileList"),S7=n=>cx(n)&&fa(n.pipe),w7=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||fa(n.append)&&((e=lx(n))==="formdata"||e==="object"&&fa(n.toString)&&n.toString()==="[object FormData]"))},E7=Pl("URLSearchParams"),M7=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lv(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Ep(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,n[l],l,n)}}function rO(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const iO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sO=n=>!Pg(n)&&n!==iO;function tE(){const{caseless:n}=sO(this)&&this||{},e={},t=(r,i)=>{const s=n&&rO(e,i)||i;G0(e[s])&&G0(r)?e[s]=tE(e[s],r):G0(r)?e[s]=tE({},r):Ep(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&lv(arguments[r],t);return e}const b7=(n,e,t,{allOwnKeys:r}={})=>(lv(e,(i,s)=>{t&&fa(i)?n[s]=eO(i,t):n[s]=i},{allOwnKeys:r}),n),T7=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),A7=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},C7=(n,e,t,r)=>{let i,s,a;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)a=i[s],(!r||r(a,n,e))&&!l[a]&&(e[a]=n[a],l[a]=!0);n=t!==!1&&fb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},R7=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},P7=n=>{if(!n)return null;if(Ep(n))return n;let e=n.length;if(!nO(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},L7=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&fb(Uint8Array)),O7=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},I7=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},N7=Pl("HTMLFormElement"),D7=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),H2=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),U7=Pl("RegExp"),oO=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};lv(t,(i,s)=>{let a;(a=e(i,s,n))!==!1&&(r[s]=a||i)}),Object.defineProperties(n,r)},F7=n=>{oO(n,(e,t)=>{if(fa(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(fa(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},B7=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Ep(n)?r(n):r(String(n).split(e)),t},k7=()=>{},z7=(n,e)=>(n=+n,Number.isFinite(n)?n:e),$1="abcdefghijklmnopqrstuvwxyz",G2="0123456789",aO={DIGIT:G2,ALPHA:$1,ALPHA_DIGIT:$1+$1.toUpperCase()+G2},H7=(n=16,e=aO.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function G7(n){return!!(n&&fa(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const V7=n=>{const e=new Array(10),t=(r,i)=>{if(cx(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ep(r)?[]:{};return lv(r,(a,l)=>{const o=t(a,i+1);!Pg(o)&&(s[l]=o)}),e[i]=void 0,s}}return r};return t(n,0)},W7=Pl("AsyncFunction"),j7=n=>n&&(cx(n)||fa(n))&&fa(n.then)&&fa(n.catch),xt={isArray:Ep,isArrayBuffer:tO,isBuffer:d7,isFormData:w7,isArrayBufferView:p7,isString:m7,isNumber:nO,isBoolean:g7,isObject:cx,isPlainObject:G0,isUndefined:Pg,isDate:v7,isFile:y7,isBlob:_7,isRegExp:U7,isFunction:fa,isStream:S7,isURLSearchParams:E7,isTypedArray:L7,isFileList:x7,forEach:lv,merge:tE,extend:b7,trim:M7,stripBOM:T7,inherits:A7,toFlatObject:C7,kindOf:lx,kindOfTest:Pl,endsWith:R7,toArray:P7,forEachEntry:O7,matchAll:I7,isHTMLForm:N7,hasOwnProperty:H2,hasOwnProp:H2,reduceDescriptors:oO,freezeMethods:F7,toObjectSet:B7,toCamelCase:D7,noop:k7,toFiniteNumber:z7,findKey:rO,global:iO,isContextDefined:sO,ALPHABET:aO,generateString:H7,isSpecCompliantForm:G7,toJSONObject:V7,isAsyncFn:W7,isThenable:j7};function hr(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}xt.inherits(hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lO=hr.prototype,uO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{uO[n]={value:n}});Object.defineProperties(hr,uO);Object.defineProperty(lO,"isAxiosError",{value:!0});hr.from=(n,e,t,r,i,s)=>{const a=Object.create(lO);return xt.toFlatObject(n,a,function(o){return o!==Error.prototype},l=>l!=="isAxiosError"),hr.call(a,n.message,e,t,r,i),a.cause=n,a.name=n.name,s&&Object.assign(a,s),a};const X7=null;function nE(n){return xt.isPlainObject(n)||xt.isArray(n)}function cO(n){return xt.endsWith(n,"[]")?n.slice(0,-2):n}function V2(n,e,t){return n?n.concat(e).map(function(i,s){return i=cO(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function q7(n){return xt.isArray(n)&&!n.some(nE)}const Y7=xt.toFlatObject(xt,{},null,function(e){return/^is[A-Z]/.test(e)});function fx(n,e,t){if(!xt.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=xt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!xt.isUndefined(S[x])});const r=t.metaTokens,i=t.visitor||c,s=t.dots,a=t.indexes,o=(t.Blob||typeof Blob<"u"&&Blob)&&xt.isSpecCompliantForm(e);if(!xt.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(xt.isDate(v))return v.toISOString();if(!o&&xt.isBlob(v))throw new hr("Blob is not supported. Use a Buffer instead.");return xt.isArrayBuffer(v)||xt.isTypedArray(v)?o&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,x,S){let _=v;if(v&&!S&&typeof v=="object"){if(xt.endsWith(x,"{}"))x=r?x:x.slice(0,-2),v=JSON.stringify(v);else if(xt.isArray(v)&&q7(v)||(xt.isFileList(v)||xt.endsWith(x,"[]"))&&(_=xt.toArray(v)))return x=cO(x),_.forEach(function(E,T){!(xt.isUndefined(E)||E===null)&&e.append(a===!0?V2([x],T,s):a===null?x:x+"[]",u(E))}),!1}return nE(v)?!0:(e.append(V2(S,x,s),u(v)),!1)}const f=[],p=Object.assign(Y7,{defaultVisitor:c,convertValue:u,isVisitable:nE});function g(v,x){if(!xt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(v),xt.forEach(v,function(_,w){(!(xt.isUndefined(_)||_===null)&&i.call(e,_,xt.isString(w)?w.trim():w,x,p))===!0&&g(_,x?x.concat(w):[w])}),f.pop()}}if(!xt.isObject(n))throw new TypeError("data must be an object");return g(n),e}function W2(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function hb(n,e){this._pairs=[],n&&fx(n,this,e)}const fO=hb.prototype;fO.append=function(e,t){this._pairs.push([e,t])};fO.toString=function(e){const t=e?function(r){return e.call(this,r,W2)}:W2;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function K7(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hO(n,e,t){if(!e)return n;const r=t&&t.encode||K7,i=t&&t.serialize;let s;if(i?s=i(e,t):s=xt.isURLSearchParams(e)?e.toString():new hb(e,t).toString(r),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class j2{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$7=typeof URLSearchParams<"u"?URLSearchParams:hb,Q7=typeof FormData<"u"?FormData:null,J7=typeof Blob<"u"?Blob:null,Z7={isBrowser:!0,classes:{URLSearchParams:$7,FormData:Q7,Blob:J7},protocols:["http","https","file","blob","url","data"]},pO=typeof window<"u"&&typeof document<"u",eH=(n=>pO&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),tH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pO,hasStandardBrowserEnv:eH,hasStandardBrowserWebWorkerEnv:tH},Symbol.toStringTag,{value:"Module"})),wl={...nH,...Z7};function rH(n,e){return fx(n,new wl.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return wl.isNode&&xt.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function iH(n){return xt.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sH(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function mO(n){function e(t,r,i,s){let a=t[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),o=s>=t.length;return a=!a&&xt.isArray(i)?i.length:a,o?(xt.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!xt.isObject(i[a]))&&(i[a]=[]),e(t,r,i[a],s)&&xt.isArray(i[a])&&(i[a]=sH(i[a])),!l)}if(xt.isFormData(n)&&xt.isFunction(n.entries)){const t={};return xt.forEachEntry(n,(r,i)=>{e(iH(r),i,t,0)}),t}return null}function oH(n,e,t){if(xt.isString(n))try{return(e||JSON.parse)(n),xt.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const uv={transitional:dO,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=xt.isObject(e);if(s&&xt.isHTMLForm(e)&&(e=new FormData(e)),xt.isFormData(e))return i?JSON.stringify(mO(e)):e;if(xt.isArrayBuffer(e)||xt.isBuffer(e)||xt.isStream(e)||xt.isFile(e)||xt.isBlob(e))return e;if(xt.isArrayBufferView(e))return e.buffer;if(xt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rH(e,this.formSerializer).toString();if((l=xt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return fx(l?{"files[]":e}:e,o&&new o,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),oH(e)):e}],transformResponse:[function(e){const t=this.transitional||uv.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&xt.isString(e)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?hr.from(l,hr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wl.classes.FormData,Blob:wl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xt.forEach(["delete","get","head","post","put","patch"],n=>{uv.headers[n]={}});const aH=xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lH=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||e[t]&&aH[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},X2=Symbol("internals");function Tm(n){return n&&String(n).trim().toLowerCase()}function V0(n){return n===!1||n==null?n:xt.isArray(n)?n.map(V0):String(n)}function uH(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const cH=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Q1(n,e,t,r,i){if(xt.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!xt.isString(e)){if(xt.isString(r))return e.indexOf(r)!==-1;if(xt.isRegExp(r))return r.test(e)}}function fH(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function hH(n,e){const t=xt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class ha{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(l,o,u){const c=Tm(o);if(!c)throw new Error("header name must be a non-empty string");const f=xt.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||o]=V0(l))}const a=(l,o)=>xt.forEach(l,(u,c)=>s(u,c,o));return xt.isPlainObject(e)||e instanceof this.constructor?a(e,t):xt.isString(e)&&(e=e.trim())&&!cH(e)?a(lH(e),t):e!=null&&s(t,e,r),this}get(e,t){if(e=Tm(e),e){const r=xt.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return uH(i);if(xt.isFunction(t))return t.call(this,i,r);if(xt.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tm(e),e){const r=xt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Q1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(a){if(a=Tm(a),a){const l=xt.findKey(r,a);l&&(!t||Q1(r,r[l],l,t))&&(delete r[l],i=!0)}}return xt.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Q1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return xt.forEach(this,(i,s)=>{const a=xt.findKey(r,s);if(a){t[a]=V0(i),delete t[s];return}const l=e?fH(s):String(s).trim();l!==s&&delete t[s],t[l]=V0(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return xt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&xt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[X2]=this[X2]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=Tm(a);r[l]||(hH(i,a),r[l]=!0)}return xt.isArray(e)?e.forEach(s):s(e),this}}ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xt.reduceDescriptors(ha.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});xt.freezeMethods(ha);function J1(n,e){const t=this||uv,r=e||t,i=ha.from(r.headers);let s=r.data;return xt.forEach(n,function(l){s=l.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function gO(n){return!!(n&&n.__CANCEL__)}function cv(n,e,t){hr.call(this,n??"canceled",hr.ERR_CANCELED,e,t),this.name="CanceledError"}xt.inherits(cv,hr,{__CANCEL__:!0});function dH(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new hr("Request failed with status code "+t.status,[hr.ERR_BAD_REQUEST,hr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const pH=wl.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const a=[n+"="+encodeURIComponent(e)];xt.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),xt.isString(r)&&a.push("path="+r),xt.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mH(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function gH(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function vO(n,e){return n&&!mH(e)?gH(n,e):e}const vH=wl.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let a=s;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(a){const l=xt.isString(a)?i(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function yH(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function _H(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(o){const u=Date.now(),c=r[s];a||(a=u),t[i]=o,r[i]=u;let f=s,p=0;for(;f!==i;)p+=t[f++],f=f%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-a<e)return;const g=c&&u-c;return g?Math.round(p*1e3/g):void 0}}function q2(n,e){let t=0;const r=_H(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-t,o=r(l),u=s<=a;t=s;const c={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:o||void 0,estimated:o&&a&&u?(a-s)/o:void 0,event:i};c[e?"download":"upload"]=!0,n(c)}}const xH=typeof XMLHttpRequest<"u",SH=xH&&function(n){return new Promise(function(t,r){let i=n.data;const s=ha.from(n.headers).normalize();let{responseType:a,withXSRFToken:l}=n,o;function u(){n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let c;if(xt.isFormData(i)){if(wl.hasStandardBrowserEnv||wl.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[x,...S]=c?c.split(";").map(_=>_.trim()).filter(Boolean):[];s.setContentType([x||"multipart/form-data",...S].join("; "))}}let f=new XMLHttpRequest;if(n.auth){const x=n.auth.username||"",S=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(x+":"+S))}const p=vO(n.baseURL,n.url);f.open(n.method.toUpperCase(),hO(p,n.params,n.paramsSerializer),!0),f.timeout=n.timeout;function g(){if(!f)return;const x=ha.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:x,config:n,request:f};dH(function(E){t(E),u()},function(E){r(E),u()},_),f=null}if("onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(g)},f.onabort=function(){f&&(r(new hr("Request aborted",hr.ECONNABORTED,n,f)),f=null)},f.onerror=function(){r(new hr("Network Error",hr.ERR_NETWORK,n,f)),f=null},f.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||dO;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new hr(S,_.clarifyTimeoutError?hr.ETIMEDOUT:hr.ECONNABORTED,n,f)),f=null},wl.hasStandardBrowserEnv&&(l&&xt.isFunction(l)&&(l=l(n)),l||l!==!1&&vH(p))){const x=n.xsrfHeaderName&&n.xsrfCookieName&&pH.read(n.xsrfCookieName);x&&s.set(n.xsrfHeaderName,x)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&xt.forEach(s.toJSON(),function(S,_){f.setRequestHeader(_,S)}),xt.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),a&&a!=="json"&&(f.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&f.addEventListener("progress",q2(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",q2(n.onUploadProgress)),(n.cancelToken||n.signal)&&(o=x=>{f&&(r(!x||x.type?new cv(null,n,f):x),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const v=yH(p);if(v&&wl.protocols.indexOf(v)===-1){r(new hr("Unsupported protocol "+v+":",hr.ERR_BAD_REQUEST,n));return}f.send(i||null)})},rE={http:X7,xhr:SH};xt.forEach(rE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Y2=n=>`- ${n}`,wH=n=>xt.isFunction(n)||n===null||n===!1,yO={getAdapter:n=>{n=xt.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let a;if(r=t,!wH(t)&&(r=rE[(a=String(t)).toLowerCase()],r===void 0))throw new hr(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,o])=>`adapter ${l} `+(o===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Y2).join(`
`):" "+Y2(s[0]):"as no adapter specified";throw new hr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:rE};function Z1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new cv(null,n)}function K2(n){return Z1(n),n.headers=ha.from(n.headers),n.data=J1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yO.getAdapter(n.adapter||uv.adapter)(n).then(function(r){return Z1(n),r.data=J1.call(n,n.transformResponse,r),r.headers=ha.from(r.headers),r},function(r){return gO(r)||(Z1(n),r&&r.response&&(r.response.data=J1.call(n,n.transformResponse,r.response),r.response.headers=ha.from(r.response.headers))),Promise.reject(r)})}const $2=n=>n instanceof ha?{...n}:n;function dp(n,e){e=e||{};const t={};function r(u,c,f){return xt.isPlainObject(u)&&xt.isPlainObject(c)?xt.merge.call({caseless:f},u,c):xt.isPlainObject(c)?xt.merge({},c):xt.isArray(c)?c.slice():c}function i(u,c,f){if(xt.isUndefined(c)){if(!xt.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function s(u,c){if(!xt.isUndefined(c))return r(void 0,c)}function a(u,c){if(xt.isUndefined(c)){if(!xt.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,f){if(f in e)return r(u,c);if(f in n)return r(void 0,u)}const o={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,c)=>i($2(u),$2(c),!0)};return xt.forEach(Object.keys(Object.assign({},n,e)),function(c){const f=o[c]||i,p=f(n[c],e[c],c);xt.isUndefined(p)&&f!==l||(t[c]=p)}),t}const _O="1.6.8",db={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{db[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Q2={};db.transitional=function(e,t,r){function i(s,a){return"[Axios v"+_O+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new hr(i(a," has been removed"+(t?" in "+t:"")),hr.ERR_DEPRECATED);return t&&!Q2[a]&&(Q2[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,l):!0}};function EH(n,e,t){if(typeof n!="object")throw new hr("options must be an object",hr.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=n[s],o=l===void 0||a(l,s,n);if(o!==!0)throw new hr("option "+s+" must be "+o,hr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new hr("Unknown option "+s,hr.ERR_BAD_OPTION)}}const iE={assertOptions:EH,validators:db},Zu=iE.validators;class nh{constructor(e){this.defaults=e,this.interceptors={request:new j2,response:new j2}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=dp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&iE.assertOptions(r,{silentJSONParsing:Zu.transitional(Zu.boolean),forcedJSONParsing:Zu.transitional(Zu.boolean),clarifyTimeoutError:Zu.transitional(Zu.boolean)},!1),i!=null&&(xt.isFunction(i)?t.paramsSerializer={serialize:i}:iE.assertOptions(i,{encode:Zu.function,serialize:Zu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&xt.merge(s.common,s[t.method]);s&&xt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=ha.concat(a,s);const l=[];let o=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(o=o&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let c,f=0,p;if(!o){const v=[K2.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,u),p=v.length,c=Promise.resolve(t);f<p;)c=c.then(v[f++],v[f++]);return c}p=l.length;let g=t;for(f=0;f<p;){const v=l[f++],x=l[f++];try{g=v(g)}catch(S){x.call(this,S);break}}try{c=K2.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,p=u.length;f<p;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=dp(this.defaults,e);const t=vO(e.baseURL,e.url);return hO(t,e.params,e.paramsSerializer)}}xt.forEach(["delete","get","head","options"],function(e){nh.prototype[e]=function(t,r){return this.request(dp(r||{},{method:e,url:t,data:(r||{}).data}))}});xt.forEach(["post","put","patch"],function(e){function t(r){return function(s,a,l){return this.request(dp(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}nh.prototype[e]=t(),nh.prototype[e+"Form"]=t(!0)});class pb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new cv(s,a,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new pb(function(i){e=i}),cancel:e}}}function MH(n){return function(t){return n.apply(null,t)}}function bH(n){return xt.isObject(n)&&n.isAxiosError===!0}const sE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sE).forEach(([n,e])=>{sE[e]=n});function xO(n){const e=new nh(n),t=eO(nh.prototype.request,e);return xt.extend(t,nh.prototype,e,{allOwnKeys:!0}),xt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return xO(dp(n,i))},t}const xi=xO(uv);xi.Axios=nh;xi.CanceledError=cv;xi.CancelToken=pb;xi.isCancel=gO;xi.VERSION=_O;xi.toFormData=fx;xi.AxiosError=hr;xi.Cancel=xi.CanceledError;xi.all=function(e){return Promise.all(e)};xi.spread=MH;xi.isAxiosError=bH;xi.mergeConfig=dp;xi.AxiosHeaders=ha;xi.formToJSON=n=>mO(xt.isHTMLForm(n)?new FormData(n):n);xi.getAdapter=yO.getAdapter;xi.HttpStatusCode=sE;xi.default=xi;const mb=async(n,e={})=>{try{return(await xi.get(wO(n,e),EO())).data}catch(t){return console.log(t),{}}},SO=async(n,e)=>{try{return(await xi.post(wO(n),e,EO())).data}catch(t){return console.log(t),{}}},TH="https://hyperdao.xyz/maytry",wO=(n,e)=>TH+n+(e&&Object.keys(e).length>0?`?${new URLSearchParams(e).toString()}`:""),EO=()=>({headers:{userId:CH()}}),AH="USER_ID",CH=()=>localStorage.getItem(AH),RH={sites:[],items:[],images:[],itemColorPrices:[],colors:[],categorys:[],sizes:[],links:[],pages:[]},PH=async()=>{const n=await mb("/data");if(!(n!=null&&n.items))return RH;const e=n.items.filter(r=>{var i;return!r.color_price_size||((i=r.color_price_size)==null?void 0:i.length)===0||r.color_price_size.some(s=>!s.color||!s.size)}).map(r=>r.id);return{...n,items:n.items.filter(r=>!e.includes(r.id)).map(r=>({...r,link:r.link.replace("/","")}))}},Eh=()=>lb("contentful",PH),LH=()=>{const{data:n}=Eh();let e;for(let t of(n==null?void 0:n.items)||[])t.images[0]&&(e=t.images[0].small.file.url);return e};class oE extends ii.Component{constructor(){super(...arguments);bf(this,"state",{portrait:void 0,containerRatio:0});bf(this,"imgRef",ii.createRef());bf(this,"containerRef",ii.createRef());bf(this,"resizeObs");bf(this,"setOrientation",()=>{var t,r,i,s,a,l,o,u;return this.setState({portrait:((r=(t=this.containerRef)==null?void 0:t.current)==null?void 0:r.offsetWidth)/((s=(i=this.containerRef)==null?void 0:i.current)==null?void 0:s.offsetHeight)>((l=(a=this.imgRef)==null?void 0:a.current)==null?void 0:l.width)/((u=(o=this.imgRef)==null?void 0:o.current)==null?void 0:u.height)})});bf(this,"render",()=>{var t,r,i,s,a,l;return ee.jsx("div",{ref:this.containerRef,className:`
        Img
        ${this.props.className}
        ${typeof this.state.portrait>"u"&&"Img--hidden"}
      `,onClick:this.props.onClick,children:ee.jsx("img",{ref:this.imgRef,alt:this.props.alt||((i=(r=(t=this.props)==null?void 0:t.file)==null?void 0:r.file)==null?void 0:i.fileName)||"",src:`${this.props.src||((l=(a=(s=this.props)==null?void 0:s.file)==null?void 0:a.file)==null?void 0:l.url)||""}${this.props.urlParams||""}`,className:`
          Img__img
        `,onLoad:this.setOrientation})})})}}const I_=({img:n,className:e,onClick:t})=>{const r=n==null?void 0:n.small.file.url,i=LH();return ee.jsx(oE,{src:r||i,className:`${e} ${!r&&"transparent"}`,onClick:t})},J2=({})=>{const{itemsInCart:n}=pt(),{setItemInCart:e}=pt(),t=wp();return ee.jsx("div",{className:"Cart",children:ee.jsx("div",{className:"container-2",children:ee.jsxs("div",{className:"row",children:[ee.jsx("h3",{className:"h3 mb-5",children:"Корзина"}),n.length===0?"Пусто":ee.jsxs(ee.Fragment,{children:[ee.jsxs("div",{className:"Cart__header",children:[ee.jsx("div",{className:"Cart__header__IMG",children:"IMG"}),ee.jsx("div",{className:"Cart__header__DETAILS",children:"DETAILS"}),ee.jsx("div",{className:"Cart__header__NAME"}),ee.jsx("div",{className:"Cart__header__PRICE",children:"PRICE"}),ee.jsx("div",{className:"Cart__header__SUBTOTAL",children:"SUBTOTAL"})]}),ee.jsx("div",{className:"Cart__items",children:n.map(r=>ee.jsxs("div",{className:"Cart__items__item",children:[ee.jsx("div",{className:"Cart__items__item__IMG",children:ee.jsx(gs,{to:"/item/"+r.link,className:"w-50 d-block",children:ee.jsx(I_,{img:r.images[0]})})}),ee.jsxs("div",{className:"Cart__items__item__NAME-DETAILS-PRICE",children:[ee.jsxs("div",{className:"Cart__items__item__NAME-DETAILS",children:[ee.jsxs("div",{className:"d-flex flex-row mb-2",children:[ee.jsx("div",{className:"Cart__items__item__DETAILS",children:"ИМЯ"}),ee.jsx("div",{className:"Cart__items__item__NAME",children:r.name})]}),ee.jsxs("div",{className:"d-flex flex-row mb-2",children:[ee.jsx("div",{className:"Cart__items__item__DETAILS",children:"ЦВЕТ И РАЗМЕР"}),ee.jsx("div",{className:"Cart__items__item__NAME",children:ee.jsx(YL,{color:r.color,sizes:[r.size]})})]}),ee.jsxs("div",{className:"d-flex flex-row mb-2",children:[ee.jsx("div",{className:"Cart__items__item__DETAILS",children:"КОЛИЧЕСТВО"}),ee.jsx("div",{className:"Cart__items__item__NAME",children:ee.jsx(QL,{value:r.quantity,onChange:i=>e(r,i),max:r.max_available})})]})]}),ee.jsx("div",{className:"Cart__items__item__PRICE",children:ee.jsx(cb,{price:r.price,salePrice:r.salePrice})})]}),ee.jsxs("div",{className:"Cart__items__item__SUBTOTAL",children:[r.quantity," × ",la(r.salePrice||r.price)," = ",la((r.salePrice||r.price)*r.quantity)]})]},r.id))}),ee.jsxs("div",{className:"d-flex flex-row justify-content-between py-3",children:[ee.jsx("div",{className:"",children:"TOTAL"}),ee.jsx("div",{className:"",children:la(t)})]}),ee.jsx("div",{className:"d-flex flex-row justify-content-between py-3",children:ee.jsx(gs,{to:"/checkout",children:ee.jsx(yr,{black:!0,children:"ЗАКАЗАТЬ"})})})]})]})})})},MO=n=>{let e=[];return n&&(e=Array.from(new Set(n.map(t=>{var r;return(r=t.color)==null?void 0:r.id}))).map(t=>{const r=n.find(i=>{var s;return((s=i.color)==null?void 0:s.id)===t}).color;return{color:r,sizes:n.filter(i=>JL.isEqual(i.color,r)).map(i=>({id:i.id,size:i.size,price:i.price,salePrice:i.salePrice,max_available:i.max_available}))}}).filter(t=>!!t.color)),e},OH=n=>{const e=KL(n)||1e4,t=$L(n),{name:r,color_price_size:i}=n,s=MO(i);return ee.jsxs("div",{className:"ItemData",children:[ee.jsx("div",{className:"col-sm-9 col-md-4",children:ee.jsxs("div",{className:"ItemData__price",children:[ee.jsx("div",{className:"mb-3",children:r}),ee.jsx(cb,{className:"mb-3",price:e,salePrice:t})]})}),ee.jsx("div",{className:"col-sm-9 col-md-4",children:s.map((a,l)=>ee.jsx(YL,{color:a.color,sizes:a.sizes.map(o=>({...o.size,available:o.max_available>0}))},l))})]})},IH=n=>{const{setHoveredItem:e}=pt();return ee.jsxs(gs,{to:"/item/"+n.link,className:"ItemCard",onMouseOver:()=>e(n),onMouseLeave:()=>e(void 0),children:[ee.jsx(I_,{img:n.images[0],className:"w-100"}),ee.jsx(OH,{...n})]})},NH=n=>{var t;const e=n.defaultPrice||((t=n.color_price_size)==null?void 0:t[0].price)||1e4;return ee.jsxs(gs,{to:"/item/"+n.link,className:"ItemLine",children:[ee.jsx("div",{className:"ItemLine__name",children:n.name}),ee.jsxs("div",{className:"ItemLine__price",children:[e," RUB"]})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Mp="161",DH={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},UH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bO=0,aE=1,TO=2,FH=3,AO=0,hx=1,ig=2,za=3,Rl=0,qi=1,yo=2,da=0,rh=1,lE=2,uE=3,cE=4,CO=5,yc=100,RO=101,PO=102,fE=103,hE=104,LO=200,OO=201,IO=202,NO=203,N_=204,D_=205,DO=206,UO=207,FO=208,BO=209,kO=210,zO=211,HO=212,GO=213,VO=214,WO=0,jO=1,XO=2,Lg=3,qO=4,YO=5,KO=6,$O=7,fv=0,QO=1,JO=2,qa=0,ZO=1,eI=2,tI=3,gb=4,nI=5,rI=6,dE="attached",iI="detached",dx=300,bu=301,Uc=302,Og=303,Ig=304,bp=306,Fc=1e3,Ls=1001,Ng=1002,Vr=1003,U_=1004,BH=1004,Hf=1005,kH=1005,kr=1006,sg=1007,zH=1007,El=1008,HH=1008,Os=1009,sI=1010,oI=1011,px=1012,vb=1013,Ml=1014,ko=1015,mh=1016,yb=1017,_b=1018,yu=1020,aI=1021,cs=1023,mx=1024,lI=1025,Pc=1026,Bc=1027,xb=1028,Sb=1029,wb=1030,Eb=1031,Mb=1033,W0=33776,j0=33777,X0=33778,q0=33779,pE=35840,mE=35841,gE=35842,vE=35843,bb=36196,yE=37492,_E=37496,xE=37808,SE=37809,wE=37810,EE=37811,ME=37812,bE=37813,TE=37814,AE=37815,CE=37816,RE=37817,PE=37818,LE=37819,OE=37820,IE=37821,Y0=36492,NE=36494,DE=36495,uI=36283,UE=36284,FE=36285,BE=36286,cI=2200,fI=2201,hI=2202,Dg=2300,Ug=2301,K0=2302,Kf=2400,$f=2401,Fg=2402,gx=2500,Tb=2501,GH=0,VH=1,WH=2,Ab=3e3,Lc=3001,Wc=3200,dI=3201,jc=0,pI=1,Qs="",Dr="srgb",ga="srgb-linear",vx="display-p3",hv="display-p3-linear",Bg="linear",zr="srgb",kg="rec709",zg="p3",jH=0,Bf=7680,XH=7681,qH=7682,YH=7683,KH=34055,$H=34056,QH=5386,JH=512,ZH=513,e9=514,t9=515,n9=516,r9=517,i9=518,kE=519,mI=512,gI=513,vI=514,Cb=515,yI=516,_I=517,xI=518,SI=519,Hg=35044,s9=35048,o9=35040,a9=35045,l9=35049,u9=35041,c9=35046,f9=35050,h9=35042,d9="100",zE="300 es",F_=1035,bl=2e3,Gg=2001;let va=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const bs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Z2=1234567;const ih=Math.PI/180,pp=180/Math.PI;function Vo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bs[n&255]+bs[n>>8&255]+bs[n>>16&255]+bs[n>>24&255]+"-"+bs[e&255]+bs[e>>8&255]+"-"+bs[e>>16&15|64]+bs[e>>24&255]+"-"+bs[t&63|128]+bs[t>>8&255]+"-"+bs[t>>16&255]+bs[t>>24&255]+bs[r&255]+bs[r>>8&255]+bs[r>>16&255]+bs[r>>24&255]).toLowerCase()}function _i(n,e,t){return Math.max(e,Math.min(t,n))}function Rb(n,e){return(n%e+e)%e}function p9(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function m9(n,e,t){return n!==e?(t-n)/(e-n):0}function og(n,e,t){return(1-t)*n+t*e}function g9(n,e,t,r){return og(n,e,1-Math.exp(-t*r))}function v9(n,e=1){return e-Math.abs(Rb(n,e*2)-e)}function y9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function _9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function x9(n,e){return n+Math.floor(Math.random()*(e-n+1))}function S9(n,e){return n+Math.random()*(e-n)}function w9(n){return n*(.5-Math.random())}function E9(n){n!==void 0&&(Z2=n);let e=Z2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function M9(n){return n*ih}function b9(n){return n*pp}function HE(n){return(n&n-1)===0&&n!==0}function T9(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function B_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function A9(n,e,t,r,i){const s=Math.cos,a=Math.sin,l=s(t/2),o=a(t/2),u=s((e+r)/2),c=a((e+r)/2),f=s((e-r)/2),p=a((e-r)/2),g=s((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":n.set(l*c,o*f,o*p,l*u);break;case"YZY":n.set(o*p,l*c,o*f,l*u);break;case"ZXZ":n.set(o*f,o*p,l*c,l*u);break;case"XZX":n.set(l*c,o*v,o*g,l*u);break;case"YXY":n.set(o*g,l*c,o*v,l*u);break;case"ZYZ":n.set(o*v,o*g,l*c,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Js(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const C9={DEG2RAD:ih,RAD2DEG:pp,generateUUID:Vo,clamp:_i,euclideanModulo:Rb,mapLinear:p9,inverseLerp:m9,lerp:og,damp:g9,pingpong:v9,smoothstep:y9,smootherstep:_9,randInt:x9,randFloat:S9,randFloatSpread:w9,seededRandom:E9,degToRad:M9,radToDeg:b9,isPowerOfTwo:HE,ceilPowerOfTwo:T9,floorPowerOfTwo:B_,setQuaternionFromProperEuler:A9,normalize:jn,denormalize:Js};let ft=class wI{constructor(e=0,t=0){wI.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(_i(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Zn=class EI{constructor(e,t,r,i,s,a,l,o,u){EI.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,l,o,u)}set(e,t,r,i,s,a,l,o,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=l,c[3]=t,c[4]=s,c[5]=o,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],l=r[3],o=r[6],u=r[1],c=r[4],f=r[7],p=r[2],g=r[5],v=r[8],x=i[0],S=i[3],_=i[6],w=i[1],E=i[4],T=i[7],L=i[2],A=i[5],O=i[8];return s[0]=a*x+l*w+o*L,s[3]=a*S+l*E+o*A,s[6]=a*_+l*T+o*O,s[1]=u*x+c*w+f*L,s[4]=u*S+c*E+f*A,s[7]=u*_+c*T+f*O,s[2]=p*x+g*w+v*L,s[5]=p*S+g*E+v*A,s[8]=p*_+g*T+v*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],o=e[6],u=e[7],c=e[8];return t*a*c-t*l*u-r*s*c+r*l*o+i*s*u-i*a*o}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],o=e[6],u=e[7],c=e[8],f=c*a-l*u,p=l*o-c*s,g=u*s-a*o,v=t*f+r*p+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(l*r-i*a)*x,e[3]=p*x,e[4]=(c*t-i*o)*x,e[5]=(i*s-l*t)*x,e[6]=g*x,e[7]=(r*o-u*t)*x,e[8]=(a*t-r*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,l){const o=Math.cos(s),u=Math.sin(s);return this.set(r*o,r*u,-r*(o*a+u*l)+a+e,-i*u,i*o,-i*(-u*a+o*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(eS.makeScale(e,t)),this}rotate(e){return this.premultiply(eS.makeRotation(-e)),this}translate(e,t){return this.premultiply(eS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};const eS=new Zn;function MI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const R9={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wd(n,e){return new R9[n](e)}function Vg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function bI(){const n=Vg("canvas");return n.style.display="block",n}const eC={};function sh(n){n in eC||(eC[n]=!0,console.warn(n))}const tC=new Zn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),nC=new Zn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Py={[ga]:{transfer:Bg,primaries:kg,toReference:n=>n,fromReference:n=>n},[Dr]:{transfer:zr,primaries:kg,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[hv]:{transfer:Bg,primaries:zg,toReference:n=>n.applyMatrix3(nC),fromReference:n=>n.applyMatrix3(tC)},[vx]:{transfer:zr,primaries:zg,toReference:n=>n.convertSRGBToLinear().applyMatrix3(nC),fromReference:n=>n.applyMatrix3(tC).convertLinearToSRGB()}},P9=new Set([ga,hv]),Lr={enabled:!0,_workingColorSpace:ga,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!P9.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=Py[e].toReference,i=Py[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Py[n].primaries},getTransfer:function(n){return n===Qs?Bg:Py[n].transfer}};function np(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function tS(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let od,Pb=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{od===void 0&&(od=Vg("canvas")),od.width=e.width,od.height=e.height;const r=od.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=od}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Vg("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=np(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(np(t[r]/255)*255):t[r]=np(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},L9=0,Qf=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:L9++}),this.uuid=Vo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,l=i.length;a<l;a++)i[a].isDataTexture?s.push(nS(i[a].image)):s.push(nS(i[a]))}else s=nS(i);r.url=s}return t||(e.images[this.uuid]=r),r}};function nS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Pb.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let O9=0,Di=class $0 extends va{constructor(e=$0.DEFAULT_IMAGE,t=$0.DEFAULT_MAPPING,r=Ls,i=Ls,s=kr,a=El,l=cs,o=Os,u=$0.DEFAULT_ANISOTROPY,c=Qs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:O9++}),this.uuid=Vo(),this.name="",this.source=new Qf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=o,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(sh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Lc?Dr:Qs),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==dx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fc:e.x=e.x-Math.floor(e.x);break;case Ls:e.x=e.x<0?0:1;break;case Ng:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fc:e.y=e.y-Math.floor(e.y);break;case Ls:e.y=e.y<0?0:1;break;case Ng:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return sh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Dr?Lc:Ab}set encoding(e){sh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Lc?Dr:Qs}};Di.DEFAULT_IMAGE=null;Di.DEFAULT_MAPPING=dx;Di.DEFAULT_ANISOTROPY=1;class Or{constructor(e=0,t=0,r=0,i=1){Or.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=e.elements,u=o[0],c=o[4],f=o[8],p=o[1],g=o[5],v=o[9],x=o[2],S=o[6],_=o[10];if(Math.abs(c-p)<.01&&Math.abs(f-x)<.01&&Math.abs(v-S)<.01){if(Math.abs(c+p)<.1&&Math.abs(f+x)<.1&&Math.abs(v+S)<.1&&Math.abs(u+g+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(u+1)/2,T=(g+1)/2,L=(_+1)/2,A=(c+p)/4,O=(f+x)/4,U=(v+S)/4;return E>T&&E>L?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=A/r,s=O/r):T>L?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=A/i,s=U/i):L<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(L),r=O/s,i=U/s),this.set(r,i,s,t),this}let w=Math.sqrt((S-v)*(S-v)+(f-x)*(f-x)+(p-c)*(p-c));return Math.abs(w)<.001&&(w=1),this.x=(S-v)/w,this.y=(f-x)/w,this.z=(p-c)/w,this.w=Math.acos((u+g+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class TI extends va{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Or(0,0,e,t),this.scissorTest=!1,this.viewport=new Or(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(sh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Lc?Dr:Qs),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:kr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Di(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Qf(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _s extends TI{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class yx extends Di{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vr,this.minFilter=Vr,this.wrapR=Ls,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class I9 extends _s{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new yx(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Lb extends Di{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vr,this.minFilter=Vr,this.wrapR=Ls,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class N9 extends _s{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Lb(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class D9 extends _s{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Eo{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,a,l){let o=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const p=s[a+0],g=s[a+1],v=s[a+2],x=s[a+3];if(l===0){e[t+0]=o,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(l===1){e[t+0]=p,e[t+1]=g,e[t+2]=v,e[t+3]=x;return}if(f!==x||o!==p||u!==g||c!==v){let S=1-l;const _=o*p+u*g+c*v+f*x,w=_>=0?1:-1,E=1-_*_;if(E>Number.EPSILON){const L=Math.sqrt(E),A=Math.atan2(L,_*w);S=Math.sin(S*A)/L,l=Math.sin(l*A)/L}const T=l*w;if(o=o*S+p*T,u=u*S+g*T,c=c*S+v*T,f=f*S+x*T,S===1-l){const L=1/Math.sqrt(o*o+u*u+c*c+f*f);o*=L,u*=L,c*=L,f*=L}}e[t]=o,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,a){const l=r[i],o=r[i+1],u=r[i+2],c=r[i+3],f=s[a],p=s[a+1],g=s[a+2],v=s[a+3];return e[t]=l*v+c*f+o*g-u*p,e[t+1]=o*v+c*p+u*f-l*g,e[t+2]=u*v+c*g+l*p-o*f,e[t+3]=c*v-l*f-o*p-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,a=e._order,l=Math.cos,o=Math.sin,u=l(r/2),c=l(i/2),f=l(s/2),p=o(r/2),g=o(i/2),v=o(s/2);switch(a){case"XYZ":this._x=p*c*f+u*g*v,this._y=u*g*f-p*c*v,this._z=u*c*v+p*g*f,this._w=u*c*f-p*g*v;break;case"YXZ":this._x=p*c*f+u*g*v,this._y=u*g*f-p*c*v,this._z=u*c*v-p*g*f,this._w=u*c*f+p*g*v;break;case"ZXY":this._x=p*c*f-u*g*v,this._y=u*g*f+p*c*v,this._z=u*c*v+p*g*f,this._w=u*c*f-p*g*v;break;case"ZYX":this._x=p*c*f-u*g*v,this._y=u*g*f+p*c*v,this._z=u*c*v-p*g*f,this._w=u*c*f+p*g*v;break;case"YZX":this._x=p*c*f+u*g*v,this._y=u*g*f+p*c*v,this._z=u*c*v-p*g*f,this._w=u*c*f-p*g*v;break;case"XZY":this._x=p*c*f-u*g*v,this._y=u*g*f-p*c*v,this._z=u*c*v+p*g*f,this._w=u*c*f+p*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],a=t[1],l=t[5],o=t[9],u=t[2],c=t[6],f=t[10],p=r+l+f;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(c-o)*g,this._y=(s-u)*g,this._z=(a-i)*g}else if(r>l&&r>f){const g=2*Math.sqrt(1+r-l-f);this._w=(c-o)/g,this._x=.25*g,this._y=(i+a)/g,this._z=(s+u)/g}else if(l>f){const g=2*Math.sqrt(1+l-r-f);this._w=(s-u)/g,this._x=(i+a)/g,this._y=.25*g,this._z=(o+c)/g}else{const g=2*Math.sqrt(1+f-r-l);this._w=(a-i)/g,this._x=(s+u)/g,this._y=(o+c)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(_i(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,a=e._w,l=t._x,o=t._y,u=t._z,c=t._w;return this._x=r*c+a*l+i*u-s*o,this._y=i*c+a*o+s*l-r*u,this._z=s*c+a*u+r*o-i*l,this._w=a*c-r*l-i*o-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let l=a*e._w+r*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const o=1-l*l;if(o<=Number.EPSILON){const g=1-t;return this._w=g*a+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*s+t*this._z,this.normalize(),this}const u=Math.sqrt(o),c=Math.atan2(u,l),f=Math.sin((1-t)*c)/u,p=Math.sin(t*c)/u;return this._w=a*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ge{constructor(e=0,t=0,r=0){ge.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,a=e.y,l=e.z,o=e.w,u=2*(a*i-l*r),c=2*(l*t-s*i),f=2*(s*r-a*t);return this.x=t+o*u+a*f-l*c,this.y=r+o*c+l*u-s*f,this.z=i+o*f+s*c-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,a=t.x,l=t.y,o=t.z;return this.x=i*o-s*l,this.y=s*a-r*o,this.z=r*l-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return rS.copy(this).projectOnVector(e),this.sub(rS)}reflect(e){return this.sub(rS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(_i(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const rS=new ge,rC=new Eo;class eo{constructor(e=new ge(1/0,1/0,1/0),t=new ge(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ua.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ua.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ua.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,Ua):Ua.fromBufferAttribute(s,a),Ua.applyMatrix4(e.matrixWorld),this.expandByPoint(Ua);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ly.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Ly.copy(r.boundingBox)),Ly.applyMatrix4(e.matrixWorld),this.union(Ly)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ua),Ua.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Am),Oy.subVectors(this.max,Am),ad.subVectors(e.a,Am),ld.subVectors(e.b,Am),ud.subVectors(e.c,Am),ec.subVectors(ld,ad),tc.subVectors(ud,ld),Tf.subVectors(ad,ud);let t=[0,-ec.z,ec.y,0,-tc.z,tc.y,0,-Tf.z,Tf.y,ec.z,0,-ec.x,tc.z,0,-tc.x,Tf.z,0,-Tf.x,-ec.y,ec.x,0,-tc.y,tc.x,0,-Tf.y,Tf.x,0];return!iS(t,ad,ld,ud,Oy)||(t=[1,0,0,0,1,0,0,0,1],!iS(t,ad,ld,ud,Oy))?!1:(Iy.crossVectors(ec,tc),t=[Iy.x,Iy.y,Iy.z],iS(t,ad,ld,ud,Oy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ua).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ua).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ru[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ru[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ru[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ru[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ru[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ru[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ru[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ru[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ru),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ru=[new ge,new ge,new ge,new ge,new ge,new ge,new ge,new ge],Ua=new ge,Ly=new eo,ad=new ge,ld=new ge,ud=new ge,ec=new ge,tc=new ge,Tf=new ge,Am=new ge,Oy=new ge,Iy=new ge,Af=new ge;function iS(n,e,t,r,i){for(let s=0,a=n.length-3;s<=a;s+=3){Af.fromArray(n,s);const l=i.x*Math.abs(Af.x)+i.y*Math.abs(Af.y)+i.z*Math.abs(Af.z),o=e.dot(Af),u=t.dot(Af),c=r.dot(Af);if(Math.max(-Math.max(o,u,c),Math.min(o,u,c))>l)return!1}return!0}const U9=new eo,Cm=new ge,sS=new ge;class Is{constructor(e=new ge,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):U9.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cm.subVectors(e,this.center);const t=Cm.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Cm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cm.copy(e.center).add(sS)),this.expandByPoint(Cm.copy(e.center).sub(sS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const iu=new ge,oS=new ge,Ny=new ge,nc=new ge,aS=new ge,Dy=new ge,lS=new ge;class Tp{constructor(e=new ge,t=new ge(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,iu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=iu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(iu.copy(this.origin).addScaledVector(this.direction,t),iu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){oS.copy(e).add(t).multiplyScalar(.5),Ny.copy(t).sub(e).normalize(),nc.copy(this.origin).sub(oS);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Ny),l=nc.dot(this.direction),o=-nc.dot(Ny),u=nc.lengthSq(),c=Math.abs(1-a*a);let f,p,g,v;if(c>0)if(f=a*o-l,p=a*l-o,v=s*c,f>=0)if(p>=-v)if(p<=v){const x=1/c;f*=x,p*=x,g=f*(f+a*p+2*l)+p*(a*f+p+2*o)+u}else p=s,f=Math.max(0,-(a*p+l)),g=-f*f+p*(p+2*o)+u;else p=-s,f=Math.max(0,-(a*p+l)),g=-f*f+p*(p+2*o)+u;else p<=-v?(f=Math.max(0,-(-a*s+l)),p=f>0?-s:Math.min(Math.max(-s,-o),s),g=-f*f+p*(p+2*o)+u):p<=v?(f=0,p=Math.min(Math.max(-s,-o),s),g=p*(p+2*o)+u):(f=Math.max(0,-(a*s+l)),p=f>0?s:Math.min(Math.max(-s,-o),s),g=-f*f+p*(p+2*o)+u);else p=a>0?-s:s,f=Math.max(0,-(a*p+l)),g=-f*f+p*(p+2*o)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(oS).addScaledVector(Ny,p),g}intersectSphere(e,t){iu.subVectors(e.center,this.origin);const r=iu.dot(this.direction),i=iu.dot(iu)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),l=r-a,o=r+a;return o<0?null:l<0?this.at(o,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,a,l,o;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,a=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,a=(e.min.y-p.y)*c),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(l=(e.min.z-p.z)*f,o=(e.max.z-p.z)*f):(l=(e.max.z-p.z)*f,o=(e.min.z-p.z)*f),r>o||l>i)||((l>r||r!==r)&&(r=l),(o<i||i!==i)&&(i=o),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,iu)!==null}intersectTriangle(e,t,r,i,s){aS.subVectors(t,e),Dy.subVectors(r,e),lS.crossVectors(aS,Dy);let a=this.direction.dot(lS),l;if(a>0){if(i)return null;l=1}else if(a<0)l=-1,a=-a;else return null;nc.subVectors(this.origin,e);const o=l*this.direction.dot(Dy.crossVectors(nc,Dy));if(o<0)return null;const u=l*this.direction.dot(aS.cross(nc));if(u<0||o+u>a)return null;const c=-l*nc.dot(lS);return c<0?null:this.at(c/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class In{constructor(e,t,r,i,s,a,l,o,u,c,f,p,g,v,x,S){In.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,l,o,u,c,f,p,g,v,x,S)}set(e,t,r,i,s,a,l,o,u,c,f,p,g,v,x,S){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=s,_[5]=a,_[9]=l,_[13]=o,_[2]=u,_[6]=c,_[10]=f,_[14]=p,_[3]=g,_[7]=v,_[11]=x,_[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new In().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/cd.setFromMatrixColumn(e,0).length(),s=1/cd.setFromMatrixColumn(e,1).length(),a=1/cd.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),l=Math.sin(r),o=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=a*c,g=a*f,v=l*c,x=l*f;t[0]=o*c,t[4]=-o*f,t[8]=u,t[1]=g+v*u,t[5]=p-x*u,t[9]=-l*o,t[2]=x-p*u,t[6]=v+g*u,t[10]=a*o}else if(e.order==="YXZ"){const p=o*c,g=o*f,v=u*c,x=u*f;t[0]=p+x*l,t[4]=v*l-g,t[8]=a*u,t[1]=a*f,t[5]=a*c,t[9]=-l,t[2]=g*l-v,t[6]=x+p*l,t[10]=a*o}else if(e.order==="ZXY"){const p=o*c,g=o*f,v=u*c,x=u*f;t[0]=p-x*l,t[4]=-a*f,t[8]=v+g*l,t[1]=g+v*l,t[5]=a*c,t[9]=x-p*l,t[2]=-a*u,t[6]=l,t[10]=a*o}else if(e.order==="ZYX"){const p=a*c,g=a*f,v=l*c,x=l*f;t[0]=o*c,t[4]=v*u-g,t[8]=p*u+x,t[1]=o*f,t[5]=x*u+p,t[9]=g*u-v,t[2]=-u,t[6]=l*o,t[10]=a*o}else if(e.order==="YZX"){const p=a*o,g=a*u,v=l*o,x=l*u;t[0]=o*c,t[4]=x-p*f,t[8]=v*f+g,t[1]=f,t[5]=a*c,t[9]=-l*c,t[2]=-u*c,t[6]=g*f+v,t[10]=p-x*f}else if(e.order==="XZY"){const p=a*o,g=a*u,v=l*o,x=l*u;t[0]=o*c,t[4]=-f,t[8]=u*c,t[1]=p*f+x,t[5]=a*c,t[9]=g*f-v,t[2]=v*f-g,t[6]=l*c,t[10]=x*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(F9,e,B9)}lookAt(e,t,r){const i=this.elements;return Do.subVectors(e,t),Do.lengthSq()===0&&(Do.z=1),Do.normalize(),rc.crossVectors(r,Do),rc.lengthSq()===0&&(Math.abs(r.z)===1?Do.x+=1e-4:Do.z+=1e-4,Do.normalize(),rc.crossVectors(r,Do)),rc.normalize(),Uy.crossVectors(Do,rc),i[0]=rc.x,i[4]=Uy.x,i[8]=Do.x,i[1]=rc.y,i[5]=Uy.y,i[9]=Do.y,i[2]=rc.z,i[6]=Uy.z,i[10]=Do.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],l=r[4],o=r[8],u=r[12],c=r[1],f=r[5],p=r[9],g=r[13],v=r[2],x=r[6],S=r[10],_=r[14],w=r[3],E=r[7],T=r[11],L=r[15],A=i[0],O=i[4],U=i[8],F=i[12],P=i[1],N=i[5],K=i[9],$=i[13],j=i[2],le=i[6],re=i[10],W=i[14],G=i[3],V=i[7],k=i[11],ie=i[15];return s[0]=a*A+l*P+o*j+u*G,s[4]=a*O+l*N+o*le+u*V,s[8]=a*U+l*K+o*re+u*k,s[12]=a*F+l*$+o*W+u*ie,s[1]=c*A+f*P+p*j+g*G,s[5]=c*O+f*N+p*le+g*V,s[9]=c*U+f*K+p*re+g*k,s[13]=c*F+f*$+p*W+g*ie,s[2]=v*A+x*P+S*j+_*G,s[6]=v*O+x*N+S*le+_*V,s[10]=v*U+x*K+S*re+_*k,s[14]=v*F+x*$+S*W+_*ie,s[3]=w*A+E*P+T*j+L*G,s[7]=w*O+E*N+T*le+L*V,s[11]=w*U+E*K+T*re+L*k,s[15]=w*F+E*$+T*W+L*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],a=e[1],l=e[5],o=e[9],u=e[13],c=e[2],f=e[6],p=e[10],g=e[14],v=e[3],x=e[7],S=e[11],_=e[15];return v*(+s*o*f-i*u*f-s*l*p+r*u*p+i*l*g-r*o*g)+x*(+t*o*g-t*u*p+s*a*p-i*a*g+i*u*c-s*o*c)+S*(+t*u*f-t*l*g-s*a*f+r*a*g+s*l*c-r*u*c)+_*(-i*l*c-t*o*f+t*l*p+i*a*f-r*a*p+r*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],o=e[6],u=e[7],c=e[8],f=e[9],p=e[10],g=e[11],v=e[12],x=e[13],S=e[14],_=e[15],w=f*S*u-x*p*u+x*o*g-l*S*g-f*o*_+l*p*_,E=v*p*u-c*S*u-v*o*g+a*S*g+c*o*_-a*p*_,T=c*x*u-v*f*u+v*l*g-a*x*g-c*l*_+a*f*_,L=v*f*o-c*x*o-v*l*p+a*x*p+c*l*S-a*f*S,A=t*w+r*E+i*T+s*L;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/A;return e[0]=w*O,e[1]=(x*p*s-f*S*s-x*i*g+r*S*g+f*i*_-r*p*_)*O,e[2]=(l*S*s-x*o*s+x*i*u-r*S*u-l*i*_+r*o*_)*O,e[3]=(f*o*s-l*p*s-f*i*u+r*p*u+l*i*g-r*o*g)*O,e[4]=E*O,e[5]=(c*S*s-v*p*s+v*i*g-t*S*g-c*i*_+t*p*_)*O,e[6]=(v*o*s-a*S*s-v*i*u+t*S*u+a*i*_-t*o*_)*O,e[7]=(a*p*s-c*o*s+c*i*u-t*p*u-a*i*g+t*o*g)*O,e[8]=T*O,e[9]=(v*f*s-c*x*s-v*r*g+t*x*g+c*r*_-t*f*_)*O,e[10]=(a*x*s-v*l*s+v*r*u-t*x*u-a*r*_+t*l*_)*O,e[11]=(c*l*s-a*f*s-c*r*u+t*f*u+a*r*g-t*l*g)*O,e[12]=L*O,e[13]=(c*x*i-v*f*i+v*r*p-t*x*p-c*r*S+t*f*S)*O,e[14]=(v*l*i-a*x*i-v*r*o+t*x*o+a*r*S-t*l*S)*O,e[15]=(a*f*i-c*l*i+c*r*o-t*f*o-a*r*p+t*l*p)*O,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,a=e.x,l=e.y,o=e.z,u=s*a,c=s*l;return this.set(u*a+r,u*l-i*o,u*o+i*l,0,u*l+i*o,c*l+r,c*o-i*a,0,u*o-i*l,c*o+i*a,s*o*o+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,a=t._y,l=t._z,o=t._w,u=s+s,c=a+a,f=l+l,p=s*u,g=s*c,v=s*f,x=a*c,S=a*f,_=l*f,w=o*u,E=o*c,T=o*f,L=r.x,A=r.y,O=r.z;return i[0]=(1-(x+_))*L,i[1]=(g+T)*L,i[2]=(v-E)*L,i[3]=0,i[4]=(g-T)*A,i[5]=(1-(p+_))*A,i[6]=(S+w)*A,i[7]=0,i[8]=(v+E)*O,i[9]=(S-w)*O,i[10]=(1-(p+x))*O,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=cd.set(i[0],i[1],i[2]).length();const a=cd.set(i[4],i[5],i[6]).length(),l=cd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Fa.copy(this);const u=1/s,c=1/a,f=1/l;return Fa.elements[0]*=u,Fa.elements[1]*=u,Fa.elements[2]*=u,Fa.elements[4]*=c,Fa.elements[5]*=c,Fa.elements[6]*=c,Fa.elements[8]*=f,Fa.elements[9]*=f,Fa.elements[10]*=f,t.setFromRotationMatrix(Fa),r.x=s,r.y=a,r.z=l,this}makePerspective(e,t,r,i,s,a,l=bl){const o=this.elements,u=2*s/(t-e),c=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let g,v;if(l===bl)g=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(l===Gg)g=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return o[0]=u,o[4]=0,o[8]=f,o[12]=0,o[1]=0,o[5]=c,o[9]=p,o[13]=0,o[2]=0,o[6]=0,o[10]=g,o[14]=v,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,i,s,a,l=bl){const o=this.elements,u=1/(t-e),c=1/(r-i),f=1/(a-s),p=(t+e)*u,g=(r+i)*c;let v,x;if(l===bl)v=(a+s)*f,x=-2*f;else if(l===Gg)v=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return o[0]=2*u,o[4]=0,o[8]=0,o[12]=-p,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-g,o[2]=0,o[6]=0,o[10]=x,o[14]=-v,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const cd=new ge,Fa=new In,F9=new ge(0,0,0),B9=new ge(1,1,1),rc=new ge,Uy=new ge,Do=new ge,iC=new In,sC=new Eo;class dv{constructor(e=0,t=0,r=0,i=dv.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],l=i[8],o=i[1],u=i[5],c=i[9],f=i[2],p=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(_i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,g),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-_i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(o,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(_i(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(o,s));break;case"ZYX":this._y=Math.asin(-_i(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(o,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(_i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-_i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-c,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return iC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(iC,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return sC.setFromEuler(this),this.setFromQuaternion(sC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}dv.DEFAULT_ORDER="XYZ";class oh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let k9=0;const oC=new ge,fd=new Eo,su=new In,Fy=new ge,Rm=new ge,z9=new ge,H9=new Eo,aC=new ge(1,0,0),lC=new ge(0,1,0),uC=new ge(0,0,1),G9={type:"added"},V9={type:"removed"};class xr extends va{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:k9++}),this.uuid=Vo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xr.DEFAULT_UP.clone();const e=new ge,t=new dv,r=new Eo,i=new ge(1,1,1);function s(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new In},normalMatrix:{value:new Zn}}),this.matrix=new In,this.matrixWorld=new In,this.matrixAutoUpdate=xr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new oh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return fd.setFromAxisAngle(e,t),this.quaternion.multiply(fd),this}rotateOnWorldAxis(e,t){return fd.setFromAxisAngle(e,t),this.quaternion.premultiply(fd),this}rotateX(e){return this.rotateOnAxis(aC,e)}rotateY(e){return this.rotateOnAxis(lC,e)}rotateZ(e){return this.rotateOnAxis(uC,e)}translateOnAxis(e,t){return oC.copy(e).applyQuaternion(this.quaternion),this.position.add(oC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(aC,e)}translateY(e){return this.translateOnAxis(lC,e)}translateZ(e){return this.translateOnAxis(uC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(su.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Fy.copy(e):Fy.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Rm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?su.lookAt(Rm,Fy,this.up):su.lookAt(Fy,Rm,this.up),this.quaternion.setFromRotationMatrix(su),i&&(su.extractRotation(i.matrixWorld),fd.setFromRotationMatrix(su),this.quaternion.premultiply(fd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(G9)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(V9)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),su.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),su.multiply(e.parent.matrixWorld)),e.applyMatrix4(su),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rm,e,z9),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rm,H9,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const l=i[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(l,o){return l[o.uuid]===void 0&&(l[o.uuid]=o.toJSON(e)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const o=l.shapes;if(Array.isArray(o))for(let u=0,c=o.length;u<c;u++){const f=o[u];s(e.shapes,f)}else s(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let o=0,u=this.material.length;o<u;o++)l.push(s(e.materials,this.material[o]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const o=this.animations[l];i.animations.push(s(e.animations,o))}}if(t){const l=a(e.geometries),o=a(e.materials),u=a(e.textures),c=a(e.images),f=a(e.shapes),p=a(e.skeletons),g=a(e.animations),v=a(e.nodes);l.length>0&&(r.geometries=l),o.length>0&&(r.materials=o),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(l){const o=[];for(const u in l){const c=l[u];delete c.metadata,o.push(c)}return o}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xr.DEFAULT_UP=new ge(0,1,0);xr.DEFAULT_MATRIX_AUTO_UPDATE=!0;xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ba=new ge,ou=new ge,uS=new ge,au=new ge,hd=new ge,dd=new ge,cC=new ge,cS=new ge,fS=new ge,hS=new ge;class zo{constructor(e=new ge,t=new ge,r=new ge){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ba.subVectors(e,t),i.cross(Ba);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ba.subVectors(i,t),ou.subVectors(r,t),uS.subVectors(e,t);const a=Ba.dot(Ba),l=Ba.dot(ou),o=Ba.dot(uS),u=ou.dot(ou),c=ou.dot(uS),f=a*u-l*l;if(f===0)return s.set(0,0,0),null;const p=1/f,g=(u*o-l*c)*p,v=(a*c-l*o)*p;return s.set(1-g-v,v,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,au)===null?!1:au.x>=0&&au.y>=0&&au.x+au.y<=1}static getInterpolation(e,t,r,i,s,a,l,o){return this.getBarycoord(e,t,r,i,au)===null?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(s,au.x),o.addScaledVector(a,au.y),o.addScaledVector(l,au.z),o)}static isFrontFacing(e,t,r,i){return Ba.subVectors(r,t),ou.subVectors(e,t),Ba.cross(ou).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ba.subVectors(this.c,this.b),ou.subVectors(this.a,this.b),Ba.cross(ou).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return zo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return zo.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let a,l;hd.subVectors(i,r),dd.subVectors(s,r),cS.subVectors(e,r);const o=hd.dot(cS),u=dd.dot(cS);if(o<=0&&u<=0)return t.copy(r);fS.subVectors(e,i);const c=hd.dot(fS),f=dd.dot(fS);if(c>=0&&f<=c)return t.copy(i);const p=o*f-c*u;if(p<=0&&o>=0&&c<=0)return a=o/(o-c),t.copy(r).addScaledVector(hd,a);hS.subVectors(e,s);const g=hd.dot(hS),v=dd.dot(hS);if(v>=0&&g<=v)return t.copy(s);const x=g*u-o*v;if(x<=0&&u>=0&&v<=0)return l=u/(u-v),t.copy(r).addScaledVector(dd,l);const S=c*v-g*f;if(S<=0&&f-c>=0&&g-v>=0)return cC.subVectors(s,i),l=(f-c)/(f-c+(g-v)),t.copy(i).addScaledVector(cC,l);const _=1/(S+x+p);return a=x*_,l=p*_,t.copy(r).addScaledVector(hd,a).addScaledVector(dd,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const AI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ic={h:0,s:0,l:0},By={h:0,s:0,l:0};function dS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class $t{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Dr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Lr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Lr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Lr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Lr.workingColorSpace){if(e=Rb(e,1),t=_i(t,0,1),r=_i(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,a=2*r-s;this.r=dS(a,s,e+1/3),this.g=dS(a,s,e),this.b=dS(a,s,e-1/3)}return Lr.toWorkingColorSpace(this,i),this}setStyle(e,t=Dr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],l=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Dr){const r=AI[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=np(e.r),this.g=np(e.g),this.b=np(e.b),this}copyLinearToSRGB(e){return this.r=tS(e.r),this.g=tS(e.g),this.b=tS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Dr){return Lr.fromWorkingColorSpace(Ts.copy(this),e),Math.round(_i(Ts.r*255,0,255))*65536+Math.round(_i(Ts.g*255,0,255))*256+Math.round(_i(Ts.b*255,0,255))}getHexString(e=Dr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Lr.workingColorSpace){Lr.fromWorkingColorSpace(Ts.copy(this),t);const r=Ts.r,i=Ts.g,s=Ts.b,a=Math.max(r,i,s),l=Math.min(r,i,s);let o,u;const c=(l+a)/2;if(l===a)o=0,u=0;else{const f=a-l;switch(u=c<=.5?f/(a+l):f/(2-a-l),a){case r:o=(i-s)/f+(i<s?6:0);break;case i:o=(s-r)/f+2;break;case s:o=(r-i)/f+4;break}o/=6}return e.h=o,e.s=u,e.l=c,e}getRGB(e,t=Lr.workingColorSpace){return Lr.fromWorkingColorSpace(Ts.copy(this),t),e.r=Ts.r,e.g=Ts.g,e.b=Ts.b,e}getStyle(e=Dr){Lr.fromWorkingColorSpace(Ts.copy(this),e);const t=Ts.r,r=Ts.g,i=Ts.b;return e!==Dr?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(ic),this.setHSL(ic.h+e,ic.s+t,ic.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ic),e.getHSL(By);const r=og(ic.h,By.h,t),i=og(ic.s,By.s,t),s=og(ic.l,By.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ts=new $t;$t.NAMES=AI;let W9=0;class $i extends va{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:W9++}),this.uuid=Vo(),this.name="",this.type="Material",this.blending=rh,this.side=Rl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=N_,this.blendDst=D_,this.blendEquation=yc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new $t(0,0,0),this.blendAlpha=0,this.depthFunc=Lg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bf,this.stencilZFail=Bf,this.stencilZPass=Bf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==rh&&(r.blending=this.blending),this.side!==Rl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==N_&&(r.blendSrc=this.blendSrc),this.blendDst!==D_&&(r.blendDst=this.blendDst),this.blendEquation!==yc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Lg&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==kE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Bf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Bf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const l in s){const o=s[l];delete o.metadata,a.push(o)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xc extends $i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const hu=j9();function j9(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let o=0;o<256;++o){const u=o-127;u<-27?(r[o]=0,r[o|256]=32768,i[o]=24,i[o|256]=24):u<-14?(r[o]=1024>>-u-14,r[o|256]=1024>>-u-14|32768,i[o]=-u-1,i[o|256]=-u-1):u<=15?(r[o]=u+15<<10,r[o|256]=u+15<<10|32768,i[o]=13,i[o|256]=13):u<128?(r[o]=31744,r[o|256]=64512,i[o]=24,i[o|256]=24):(r[o]=31744,r[o|256]=64512,i[o]=13,i[o|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let o=1;o<1024;++o){let u=o<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[o]=u|c}for(let o=1024;o<2048;++o)s[o]=939524096+(o-1024<<13);for(let o=1;o<31;++o)a[o]=o<<23;a[31]=1199570944,a[32]=2147483648;for(let o=33;o<63;++o)a[o]=2147483648+(o-32<<23);a[63]=3347054592;for(let o=1;o<64;++o)o!==32&&(l[o]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:l}}function go(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=_i(n,-65504,65504),hu.floatView[0]=n;const e=hu.uint32View[0],t=e>>23&511;return hu.baseTable[t]+((e&8388607)>>hu.shiftTable[t])}function Xm(n){const e=n>>10;return hu.uint32View[0]=hu.mantissaTable[hu.offsetTable[e]+(n&1023)]+hu.exponentTable[e],hu.floatView[0]}const X9={toHalfFloat:go,fromHalfFloat:Xm},zi=new ge,ky=new ft;class vr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Hg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ko,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return sh("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)ky.fromBufferAttribute(this,t),ky.applyMatrix3(e),this.setXY(t,ky.x,ky.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.applyMatrix3(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.applyMatrix4(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.applyNormalMatrix(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.transformDirection(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Js(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=jn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Js(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Js(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Js(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Js(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Hg&&(e.usage=this.usage),e}}class q9 extends vr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Y9 extends vr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class K9 extends vr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class $9 extends vr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Ob extends vr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Q9 extends vr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Ib extends vr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class J9 extends vr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Xm(this.array[e*this.itemSize]);return this.normalized&&(t=Js(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=go(t),this}getY(e){let t=Xm(this.array[e*this.itemSize+1]);return this.normalized&&(t=Js(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=go(t),this}getZ(e){let t=Xm(this.array[e*this.itemSize+2]);return this.normalized&&(t=Js(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=go(t),this}getW(e){let t=Xm(this.array[e*this.itemSize+3]);return this.normalized&&(t=Js(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=go(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array)),this.array[e+0]=go(t),this.array[e+1]=go(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.array[e+0]=go(t),this.array[e+1]=go(r),this.array[e+2]=go(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.array[e+0]=go(t),this.array[e+1]=go(r),this.array[e+2]=go(i),this.array[e+3]=go(s),this}}class hn extends vr{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Z9 extends vr{constructor(e,t,r){super(new Float64Array(e),t,r)}}let eG=0;const sa=new In,pS=new xr,pd=new ge,Uo=new eo,Pm=new eo,ls=new ge;class Xn extends va{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:eG++}),this.uuid=Vo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(MI(e)?Ib:Ob)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Zn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return sa.makeRotationFromQuaternion(e),this.applyMatrix4(sa),this}rotateX(e){return sa.makeRotationX(e),this.applyMatrix4(sa),this}rotateY(e){return sa.makeRotationY(e),this.applyMatrix4(sa),this}rotateZ(e){return sa.makeRotationZ(e),this.applyMatrix4(sa),this}translate(e,t,r){return sa.makeTranslation(e,t,r),this.applyMatrix4(sa),this}scale(e,t,r){return sa.makeScale(e,t,r),this.applyMatrix4(sa),this}lookAt(e){return pS.lookAt(e),pS.updateMatrix(),this.applyMatrix4(pS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pd).negate(),this.translate(pd.x,pd.y,pd.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new hn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new eo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ge(-1/0,-1/0,-1/0),new ge(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Uo.setFromBufferAttribute(s),this.morphTargetsRelative?(ls.addVectors(this.boundingBox.min,Uo.min),this.boundingBox.expandByPoint(ls),ls.addVectors(this.boundingBox.max,Uo.max),this.boundingBox.expandByPoint(ls)):(this.boundingBox.expandByPoint(Uo.min),this.boundingBox.expandByPoint(Uo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ge,1/0);return}if(e){const r=this.boundingSphere.center;if(Uo.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];Pm.setFromBufferAttribute(l),this.morphTargetsRelative?(ls.addVectors(Uo.min,Pm.min),Uo.expandByPoint(ls),ls.addVectors(Uo.max,Pm.max),Uo.expandByPoint(ls)):(Uo.expandByPoint(Pm.min),Uo.expandByPoint(Pm.max))}Uo.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)ls.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ls));if(t)for(let s=0,a=t.length;s<a;s++){const l=t[s],o=this.morphTargetsRelative;for(let u=0,c=l.count;u<c;u++)ls.fromBufferAttribute(l,u),o&&(pd.fromBufferAttribute(e,u),ls.add(pd)),i=Math.max(i,r.distanceToSquared(ls))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,a=t.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vr(new Float32Array(4*l),4));const o=this.getAttribute("tangent").array,u=[],c=[];for(let P=0;P<l;P++)u[P]=new ge,c[P]=new ge;const f=new ge,p=new ge,g=new ge,v=new ft,x=new ft,S=new ft,_=new ge,w=new ge;function E(P,N,K){f.fromArray(i,P*3),p.fromArray(i,N*3),g.fromArray(i,K*3),v.fromArray(a,P*2),x.fromArray(a,N*2),S.fromArray(a,K*2),p.sub(f),g.sub(f),x.sub(v),S.sub(v);const $=1/(x.x*S.y-S.x*x.y);isFinite($)&&(_.copy(p).multiplyScalar(S.y).addScaledVector(g,-x.y).multiplyScalar($),w.copy(g).multiplyScalar(x.x).addScaledVector(p,-S.x).multiplyScalar($),u[P].add(_),u[N].add(_),u[K].add(_),c[P].add(w),c[N].add(w),c[K].add(w))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let P=0,N=T.length;P<N;++P){const K=T[P],$=K.start,j=K.count;for(let le=$,re=$+j;le<re;le+=3)E(r[le+0],r[le+1],r[le+2])}const L=new ge,A=new ge,O=new ge,U=new ge;function F(P){O.fromArray(s,P*3),U.copy(O);const N=u[P];L.copy(N),L.sub(O.multiplyScalar(O.dot(N))).normalize(),A.crossVectors(U,N);const $=A.dot(c[P])<0?-1:1;o[P*4]=L.x,o[P*4+1]=L.y,o[P*4+2]=L.z,o[P*4+3]=$}for(let P=0,N=T.length;P<N;++P){const K=T[P],$=K.start,j=K.count;for(let le=$,re=$+j;le<re;le+=3)F(r[le+0]),F(r[le+1]),F(r[le+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new vr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new ge,s=new ge,a=new ge,l=new ge,o=new ge,u=new ge,c=new ge,f=new ge;if(e)for(let p=0,g=e.count;p<g;p+=3){const v=e.getX(p+0),x=e.getX(p+1),S=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),a.fromBufferAttribute(t,S),c.subVectors(a,s),f.subVectors(i,s),c.cross(f),l.fromBufferAttribute(r,v),o.fromBufferAttribute(r,x),u.fromBufferAttribute(r,S),l.add(c),o.add(c),u.add(c),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(x,o.x,o.y,o.z),r.setXYZ(S,u.x,u.y,u.z)}else for(let p=0,g=t.count;p<g;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),a.fromBufferAttribute(t,p+2),c.subVectors(a,s),f.subVectors(i,s),c.cross(f),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ls.fromBufferAttribute(e,t),ls.normalize(),e.setXYZ(t,ls.x,ls.y,ls.z)}toNonIndexed(){function e(l,o){const u=l.array,c=l.itemSize,f=l.normalized,p=new u.constructor(o.length*c);let g=0,v=0;for(let x=0,S=o.length;x<S;x++){l.isInterleavedBufferAttribute?g=o[x]*l.data.stride+l.offset:g=o[x]*c;for(let _=0;_<c;_++)p[v++]=u[g++]}return new vr(p,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xn,r=this.index.array,i=this.attributes;for(const l in i){const o=i[l],u=e(o,r);t.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const o=[],u=s[l];for(let c=0,f=u.length;c<f;c++){const p=u[c],g=e(p,r);o.push(g)}t.morphAttributes[l]=o}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,o=a.length;l<o;l++){const u=a[l];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const u in o)o[u]!==void 0&&(e[u]=o[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const o in r){const u=r[o];e.data.attributes[o]=u.toJSON(e.data)}const i={};let s=!1;for(const o in this.morphAttributes){const u=this.morphAttributes[o],c=[];for(let f=0,p=u.length;f<p;f++){const g=u[f];c.push(g.toJSON(e.data))}c.length>0&&(i[o]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let p=0,g=f.length;p<g;p++)c.push(f[p].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fC=new In,Cf=new Tp,zy=new Is,hC=new ge,md=new ge,gd=new ge,vd=new ge,mS=new ge,Hy=new ge,Gy=new ft,Vy=new ft,Wy=new ft,dC=new ge,pC=new ge,mC=new ge,jy=new ge,Xy=new ge;class Ni extends xr{constructor(e=new Xn,t=new Xc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){Hy.set(0,0,0);for(let o=0,u=s.length;o<u;o++){const c=l[o],f=s[o];c!==0&&(mS.fromBufferAttribute(f,e),a?Hy.addScaledVector(mS,c):Hy.addScaledVector(mS.sub(t),c))}t.add(Hy)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),zy.copy(r.boundingSphere),zy.applyMatrix4(s),Cf.copy(e.ray).recast(e.near),!(zy.containsPoint(Cf.origin)===!1&&(Cf.intersectSphere(zy,hC)===null||Cf.origin.distanceToSquared(hC)>(e.far-e.near)**2))&&(fC.copy(s).invert(),Cf.copy(e.ray).applyMatrix4(fC),!(r.boundingBox!==null&&Cf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Cf)))}_computeIntersections(e,t,r){let i;const s=this.geometry,a=this.material,l=s.index,o=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,p=s.groups,g=s.drawRange;if(l!==null)if(Array.isArray(a))for(let v=0,x=p.length;v<x;v++){const S=p[v],_=a[S.materialIndex],w=Math.max(S.start,g.start),E=Math.min(l.count,Math.min(S.start+S.count,g.start+g.count));for(let T=w,L=E;T<L;T+=3){const A=l.getX(T),O=l.getX(T+1),U=l.getX(T+2);i=qy(this,_,e,r,u,c,f,A,O,U),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let S=v,_=x;S<_;S+=3){const w=l.getX(S),E=l.getX(S+1),T=l.getX(S+2);i=qy(this,a,e,r,u,c,f,w,E,T),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}else if(o!==void 0)if(Array.isArray(a))for(let v=0,x=p.length;v<x;v++){const S=p[v],_=a[S.materialIndex],w=Math.max(S.start,g.start),E=Math.min(o.count,Math.min(S.start+S.count,g.start+g.count));for(let T=w,L=E;T<L;T+=3){const A=T,O=T+1,U=T+2;i=qy(this,_,e,r,u,c,f,A,O,U),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(o.count,g.start+g.count);for(let S=v,_=x;S<_;S+=3){const w=S,E=S+1,T=S+2;i=qy(this,a,e,r,u,c,f,w,E,T),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}}}function tG(n,e,t,r,i,s,a,l){let o;if(e.side===qi?o=r.intersectTriangle(a,s,i,!0,l):o=r.intersectTriangle(i,s,a,e.side===Rl,l),o===null)return null;Xy.copy(l),Xy.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Xy);return u<t.near||u>t.far?null:{distance:u,point:Xy.clone(),object:n}}function qy(n,e,t,r,i,s,a,l,o,u){n.getVertexPosition(l,md),n.getVertexPosition(o,gd),n.getVertexPosition(u,vd);const c=tG(n,e,t,r,md,gd,vd,jy);if(c){i&&(Gy.fromBufferAttribute(i,l),Vy.fromBufferAttribute(i,o),Wy.fromBufferAttribute(i,u),c.uv=zo.getInterpolation(jy,md,gd,vd,Gy,Vy,Wy,new ft)),s&&(Gy.fromBufferAttribute(s,l),Vy.fromBufferAttribute(s,o),Wy.fromBufferAttribute(s,u),c.uv1=zo.getInterpolation(jy,md,gd,vd,Gy,Vy,Wy,new ft),c.uv2=c.uv1),a&&(dC.fromBufferAttribute(a,l),pC.fromBufferAttribute(a,o),mC.fromBufferAttribute(a,u),c.normal=zo.getInterpolation(jy,md,gd,vd,dC,pC,mC,new ge),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:l,b:o,c:u,normal:new ge,materialIndex:0};zo.getNormal(md,gd,vd,f.normal),c.face=f}return c}class Mh extends Xn{constructor(e=1,t=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const l=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const o=[],u=[],c=[],f=[];let p=0,g=0;v("z","y","x",-1,-1,r,t,e,a,s,0),v("z","y","x",1,-1,r,t,-e,a,s,1),v("x","z","y",1,1,e,r,t,i,a,2),v("x","z","y",1,-1,e,r,-t,i,a,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(o),this.setAttribute("position",new hn(u,3)),this.setAttribute("normal",new hn(c,3)),this.setAttribute("uv",new hn(f,2));function v(x,S,_,w,E,T,L,A,O,U,F){const P=T/O,N=L/U,K=T/2,$=L/2,j=A/2,le=O+1,re=U+1;let W=0,G=0;const V=new ge;for(let k=0;k<re;k++){const ie=k*N-$;for(let te=0;te<le;te++){const se=te*P-K;V[x]=se*w,V[S]=ie*E,V[_]=j,u.push(V.x,V.y,V.z),V[x]=0,V[S]=0,V[_]=A>0?1:-1,c.push(V.x,V.y,V.z),f.push(te/O),f.push(1-k/U),W+=1}}for(let k=0;k<U;k++)for(let ie=0;ie<O;ie++){const te=p+ie+le*k,se=p+ie+le*(k+1),oe=p+(ie+1)+le*(k+1),ve=p+(ie+1)+le*k;o.push(te,se,ve),o.push(se,oe,ve),G+=6}l.addGroup(g,G,F),g+=G,p+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function mp(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ys(n){const e={};for(let t=0;t<n.length;t++){const r=mp(n[t]);for(const i in r)e[i]=r[i]}return e}function nG(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function CI(n){return n.getRenderTarget()===null?n.outputColorSpace:Lr.workingColorSpace}const RI={clone:mp,merge:Ys};var rG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class to extends $i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=rG,this.fragmentShader=iG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mp(e.uniforms),this.uniformsGroups=nG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Ap extends xr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new In,this.projectionMatrix=new In,this.projectionMatrixInverse=new In,this.coordinateSystem=bl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const sc=new ge,gC=new ft,vC=new ft;class ji extends Ap{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=pp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ih*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return pp*2*Math.atan(Math.tan(ih*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){sc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(sc.x,sc.y).multiplyScalar(-e/sc.z),sc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(sc.x,sc.y).multiplyScalar(-e/sc.z)}getViewSize(e,t){return this.getViewBounds(e,gC,vC),t.subVectors(vC,gC)}setViewOffset(e,t,r,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ih*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const o=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/o,t-=a.offsetY*r/u,i*=a.width/o,r*=a.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const yd=-90,_d=1;class PI extends xr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ji(yd,_d,e,t);i.layers=this.layers,this.add(i);const s=new ji(yd,_d,e,t);s.layers=this.layers,this.add(s);const a=new ji(yd,_d,e,t);a.layers=this.layers,this.add(a);const l=new ji(yd,_d,e,t);l.layers=this.layers,this.add(l);const o=new ji(yd,_d,e,t);o.layers=this.layers,this.add(o);const u=new ji(yd,_d,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,a,l,o]=t;for(const u of t)this.remove(u);if(e===bl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else if(e===Gg)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,l,o,u,c]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,a),e.setRenderTarget(r,2,i),e.render(t,l),e.setRenderTarget(r,3,i),e.render(t,o),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(t,c),e.setRenderTarget(f,p,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class pv extends Di{constructor(e,t,r,i,s,a,l,o,u,c){e=e!==void 0?e:[],t=t!==void 0?t:bu,super(e,t,r,i,s,a,l,o,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class LI extends _s{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(sh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Lc?Dr:Qs),this.texture=new pv(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:kr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Mh(5,5,5),s=new to({name:"CubemapFromEquirect",uniforms:mp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:qi,blending:da});s.uniforms.tEquirect.value=t;const a=new Ni(i,s),l=t.minFilter;return t.minFilter===El&&(t.minFilter=kr),new PI(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(s)}}const gS=new ge,sG=new ge,oG=new Zn;let pc=class{constructor(e=new ge(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=gS.subVectors(r,t).cross(sG.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(gS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||oG.getNormalMatrix(e),i=this.coplanarPoint(gS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const Rf=new Is,Yy=new ge;class mv{constructor(e=new pc,t=new pc,r=new pc,i=new pc,s=new pc,a=new pc){this.planes=[e,t,r,i,s,a]}set(e,t,r,i,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(r),l[3].copy(i),l[4].copy(s),l[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=bl){const r=this.planes,i=e.elements,s=i[0],a=i[1],l=i[2],o=i[3],u=i[4],c=i[5],f=i[6],p=i[7],g=i[8],v=i[9],x=i[10],S=i[11],_=i[12],w=i[13],E=i[14],T=i[15];if(r[0].setComponents(o-s,p-u,S-g,T-_).normalize(),r[1].setComponents(o+s,p+u,S+g,T+_).normalize(),r[2].setComponents(o+a,p+c,S+v,T+w).normalize(),r[3].setComponents(o-a,p-c,S-v,T-w).normalize(),r[4].setComponents(o-l,p-f,S-x,T-E).normalize(),t===bl)r[5].setComponents(o+l,p+f,S+x,T+E).normalize();else if(t===Gg)r[5].setComponents(l,f,x,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Rf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Rf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rf)}intersectsSprite(e){return Rf.center.set(0,0,0),Rf.radius=.7071067811865476,Rf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rf)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Yy.x=i.normal.x>0?e.max.x:e.min.x,Yy.y=i.normal.y>0?e.max.y:e.min.y,Yy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Yy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function OI(){let n=null,e=!1,t=null,r=null;function i(s,a){t(s,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function aG(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,p=u.usage,g=f.byteLength,v=n.createBuffer();n.bindBuffer(c,v),n.bufferData(c,f,p),u.onUploadCallback();let x;if(f instanceof Float32Array)x=n.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)x=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=n.SHORT;else if(f instanceof Uint32Array)x=n.UNSIGNED_INT;else if(f instanceof Int32Array)x=n.INT;else if(f instanceof Int8Array)x=n.BYTE;else if(f instanceof Uint8Array)x=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:g}}function s(u,c,f){const p=c.array,g=c._updateRange,v=c.updateRanges;if(n.bindBuffer(f,u),g.count===-1&&v.length===0&&n.bufferSubData(f,0,p),v.length!==0){for(let x=0,S=v.length;x<S;x++){const _=v[x];t?n.bufferSubData(f,_.start*p.BYTES_PER_ELEMENT,p,_.start,_.count):n.bufferSubData(f,_.start*p.BYTES_PER_ELEMENT,p.subarray(_.start,_.start+_.count))}c.clearUpdateRanges()}g.count!==-1&&(t?n.bufferSubData(f,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(f,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),c.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function l(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function o(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,c));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,u,c),f.version=u.version}}return{get:a,remove:l,update:o}}class Cp extends Xn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,a=t/2,l=Math.floor(r),o=Math.floor(i),u=l+1,c=o+1,f=e/l,p=t/o,g=[],v=[],x=[],S=[];for(let _=0;_<c;_++){const w=_*p-a;for(let E=0;E<u;E++){const T=E*f-s;v.push(T,-w,0),x.push(0,0,1),S.push(E/l),S.push(1-_/o)}}for(let _=0;_<o;_++)for(let w=0;w<l;w++){const E=w+u*_,T=w+u*(_+1),L=w+1+u*(_+1),A=w+1+u*_;g.push(E,T,A),g.push(T,L,A)}this.setIndex(g),this.setAttribute("position",new hn(v,3)),this.setAttribute("normal",new hn(x,3)),this.setAttribute("uv",new hn(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cp(e.width,e.height,e.widthSegments,e.heightSegments)}}var lG=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,uG=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cG=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,fG=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hG=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,dG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gG=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vG=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,yG=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,_G=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,SG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,MG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,TG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,AG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,CG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,RG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,PG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,LG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,OG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,IG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,NG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,DG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,UG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,FG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,BG="gl_FragColor = linearToOutputTexel( gl_FragColor );",kG=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,zG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,HG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,GG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,VG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,WG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,XG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,YG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,KG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$G=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,QG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,JG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ZG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,eV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,tV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,nV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,sV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,oV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,aV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,fV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,pV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,mV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_V=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,SV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,EV=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,MV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,bV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,TV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,AV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,CV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,RV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,PV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,LV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,OV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,IV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,NV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,DV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,UV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,FV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,HV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,GV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,VV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,WV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,XV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,KV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$V=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,QV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,JV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ZV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,rW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,oW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const aW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,mW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,yW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_W=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bW=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,TW=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,CW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,RW=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PW=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LW=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,OW=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IW=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,UW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FW=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Yn={alphahash_fragment:lG,alphahash_pars_fragment:uG,alphamap_fragment:cG,alphamap_pars_fragment:fG,alphatest_fragment:hG,alphatest_pars_fragment:dG,aomap_fragment:pG,aomap_pars_fragment:mG,batching_pars_vertex:gG,batching_vertex:vG,begin_vertex:yG,beginnormal_vertex:_G,bsdfs:xG,iridescence_fragment:SG,bumpmap_pars_fragment:wG,clipping_planes_fragment:EG,clipping_planes_pars_fragment:MG,clipping_planes_pars_vertex:bG,clipping_planes_vertex:TG,color_fragment:AG,color_pars_fragment:CG,color_pars_vertex:RG,color_vertex:PG,common:LG,cube_uv_reflection_fragment:OG,defaultnormal_vertex:IG,displacementmap_pars_vertex:NG,displacementmap_vertex:DG,emissivemap_fragment:UG,emissivemap_pars_fragment:FG,colorspace_fragment:BG,colorspace_pars_fragment:kG,envmap_fragment:zG,envmap_common_pars_fragment:HG,envmap_pars_fragment:GG,envmap_pars_vertex:VG,envmap_physical_pars_fragment:tV,envmap_vertex:WG,fog_vertex:jG,fog_pars_vertex:XG,fog_fragment:qG,fog_pars_fragment:YG,gradientmap_pars_fragment:KG,lightmap_fragment:$G,lightmap_pars_fragment:QG,lights_lambert_fragment:JG,lights_lambert_pars_fragment:ZG,lights_pars_begin:eV,lights_toon_fragment:nV,lights_toon_pars_fragment:rV,lights_phong_fragment:iV,lights_phong_pars_fragment:sV,lights_physical_fragment:oV,lights_physical_pars_fragment:aV,lights_fragment_begin:lV,lights_fragment_maps:uV,lights_fragment_end:cV,logdepthbuf_fragment:fV,logdepthbuf_pars_fragment:hV,logdepthbuf_pars_vertex:dV,logdepthbuf_vertex:pV,map_fragment:mV,map_pars_fragment:gV,map_particle_fragment:vV,map_particle_pars_fragment:yV,metalnessmap_fragment:_V,metalnessmap_pars_fragment:xV,morphcolor_vertex:SV,morphnormal_vertex:wV,morphtarget_pars_vertex:EV,morphtarget_vertex:MV,normal_fragment_begin:bV,normal_fragment_maps:TV,normal_pars_fragment:AV,normal_pars_vertex:CV,normal_vertex:RV,normalmap_pars_fragment:PV,clearcoat_normal_fragment_begin:LV,clearcoat_normal_fragment_maps:OV,clearcoat_pars_fragment:IV,iridescence_pars_fragment:NV,opaque_fragment:DV,packing:UV,premultiplied_alpha_fragment:FV,project_vertex:BV,dithering_fragment:kV,dithering_pars_fragment:zV,roughnessmap_fragment:HV,roughnessmap_pars_fragment:GV,shadowmap_pars_fragment:VV,shadowmap_pars_vertex:WV,shadowmap_vertex:jV,shadowmask_pars_fragment:XV,skinbase_vertex:qV,skinning_pars_vertex:YV,skinning_vertex:KV,skinnormal_vertex:$V,specularmap_fragment:QV,specularmap_pars_fragment:JV,tonemapping_fragment:ZV,tonemapping_pars_fragment:eW,transmission_fragment:tW,transmission_pars_fragment:nW,uv_pars_fragment:rW,uv_pars_vertex:iW,uv_vertex:sW,worldpos_vertex:oW,background_vert:aW,background_frag:lW,backgroundCube_vert:uW,backgroundCube_frag:cW,cube_vert:fW,cube_frag:hW,depth_vert:dW,depth_frag:pW,distanceRGBA_vert:mW,distanceRGBA_frag:gW,equirect_vert:vW,equirect_frag:yW,linedashed_vert:_W,linedashed_frag:xW,meshbasic_vert:SW,meshbasic_frag:wW,meshlambert_vert:EW,meshlambert_frag:MW,meshmatcap_vert:bW,meshmatcap_frag:TW,meshnormal_vert:AW,meshnormal_frag:CW,meshphong_vert:RW,meshphong_frag:PW,meshphysical_vert:LW,meshphysical_frag:OW,meshtoon_vert:IW,meshtoon_frag:NW,points_vert:DW,points_frag:UW,shadow_vert:FW,shadow_frag:BW,sprite_vert:kW,sprite_frag:zW},Vt={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Zn},alphaMap:{value:null},alphaMapTransform:{value:new Zn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Zn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Zn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Zn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Zn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Zn},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Zn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Zn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Zn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Zn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Zn},alphaTest:{value:0},uvTransform:{value:new Zn}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Zn},alphaMap:{value:null},alphaMapTransform:{value:new Zn},alphaTest:{value:0}}},Wa={basic:{uniforms:Ys([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.fog]),vertexShader:Yn.meshbasic_vert,fragmentShader:Yn.meshbasic_frag},lambert:{uniforms:Ys([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,Vt.lights,{emissive:{value:new $t(0)}}]),vertexShader:Yn.meshlambert_vert,fragmentShader:Yn.meshlambert_frag},phong:{uniforms:Ys([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,Vt.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:Yn.meshphong_vert,fragmentShader:Yn.meshphong_frag},standard:{uniforms:Ys([Vt.common,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.roughnessmap,Vt.metalnessmap,Vt.fog,Vt.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag},toon:{uniforms:Ys([Vt.common,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.gradientmap,Vt.fog,Vt.lights,{emissive:{value:new $t(0)}}]),vertexShader:Yn.meshtoon_vert,fragmentShader:Yn.meshtoon_frag},matcap:{uniforms:Ys([Vt.common,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,{matcap:{value:null}}]),vertexShader:Yn.meshmatcap_vert,fragmentShader:Yn.meshmatcap_frag},points:{uniforms:Ys([Vt.points,Vt.fog]),vertexShader:Yn.points_vert,fragmentShader:Yn.points_frag},dashed:{uniforms:Ys([Vt.common,Vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yn.linedashed_vert,fragmentShader:Yn.linedashed_frag},depth:{uniforms:Ys([Vt.common,Vt.displacementmap]),vertexShader:Yn.depth_vert,fragmentShader:Yn.depth_frag},normal:{uniforms:Ys([Vt.common,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,{opacity:{value:1}}]),vertexShader:Yn.meshnormal_vert,fragmentShader:Yn.meshnormal_frag},sprite:{uniforms:Ys([Vt.sprite,Vt.fog]),vertexShader:Yn.sprite_vert,fragmentShader:Yn.sprite_frag},background:{uniforms:{uvTransform:{value:new Zn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Yn.background_vert,fragmentShader:Yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Yn.backgroundCube_vert,fragmentShader:Yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Yn.cube_vert,fragmentShader:Yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yn.equirect_vert,fragmentShader:Yn.equirect_frag},distanceRGBA:{uniforms:Ys([Vt.common,Vt.displacementmap,{referencePosition:{value:new ge},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yn.distanceRGBA_vert,fragmentShader:Yn.distanceRGBA_frag},shadow:{uniforms:Ys([Vt.lights,Vt.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:Yn.shadow_vert,fragmentShader:Yn.shadow_frag}};Wa.physical={uniforms:Ys([Wa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Zn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Zn},clearcoatNormalScale:{value:new ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Zn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Zn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Zn},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Zn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Zn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Zn},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Zn},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Zn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Zn},anisotropyVector:{value:new ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Zn}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag};const Ky={r:0,b:0,g:0};function HW(n,e,t,r,i,s,a){const l=new $t(0);let o=s===!0?0:1,u,c,f=null,p=0,g=null;function v(S,_){let w=!1,E=_.isScene===!0?_.background:null;E&&E.isTexture&&(E=(_.backgroundBlurriness>0?t:e).get(E)),E===null?x(l,o):E&&E.isColor&&(x(E,1),w=!0);const T=n.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,a):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),E&&(E.isCubeTexture||E.mapping===bp)?(c===void 0&&(c=new Ni(new Mh(1,1,1),new to({name:"BackgroundCubeMaterial",uniforms:mp(Wa.backgroundCube.uniforms),vertexShader:Wa.backgroundCube.vertexShader,fragmentShader:Wa.backgroundCube.fragmentShader,side:qi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(L,A,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=Lr.getTransfer(E.colorSpace)!==zr,(f!==E||p!==E.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,f=E,p=E.version,g=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new Ni(new Cp(2,2),new to({name:"BackgroundMaterial",uniforms:mp(Wa.background.uniforms),vertexShader:Wa.background.vertexShader,fragmentShader:Wa.background.fragmentShader,side:Rl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=Lr.getTransfer(E.colorSpace)!==zr,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(f!==E||p!==E.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,f=E,p=E.version,g=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function x(S,_){S.getRGB(Ky,CI(n)),r.buffers.color.setClear(Ky.r,Ky.g,Ky.b,_,a)}return{getClearColor:function(){return l},setClearColor:function(S,_=1){l.set(S),o=_,x(l,o)},getClearAlpha:function(){return o},setClearAlpha:function(S){o=S,x(l,o)},render:v}}function GW(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,l={},o=S(null);let u=o,c=!1;function f(j,le,re,W,G){let V=!1;if(a){const k=x(W,re,le);u!==k&&(u=k,g(u.object)),V=_(j,W,re,G),V&&w(j,W,re,G)}else{const k=le.wireframe===!0;(u.geometry!==W.id||u.program!==re.id||u.wireframe!==k)&&(u.geometry=W.id,u.program=re.id,u.wireframe=k,V=!0)}G!==null&&t.update(G,n.ELEMENT_ARRAY_BUFFER),(V||c)&&(c=!1,U(j,le,re,W),G!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(G).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(j){return r.isWebGL2?n.bindVertexArray(j):s.bindVertexArrayOES(j)}function v(j){return r.isWebGL2?n.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function x(j,le,re){const W=re.wireframe===!0;let G=l[j.id];G===void 0&&(G={},l[j.id]=G);let V=G[le.id];V===void 0&&(V={},G[le.id]=V);let k=V[W];return k===void 0&&(k=S(p()),V[W]=k),k}function S(j){const le=[],re=[],W=[];for(let G=0;G<i;G++)le[G]=0,re[G]=0,W[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:le,enabledAttributes:re,attributeDivisors:W,object:j,attributes:{},index:null}}function _(j,le,re,W){const G=u.attributes,V=le.attributes;let k=0;const ie=re.getAttributes();for(const te in ie)if(ie[te].location>=0){const oe=G[te];let ve=V[te];if(ve===void 0&&(te==="instanceMatrix"&&j.instanceMatrix&&(ve=j.instanceMatrix),te==="instanceColor"&&j.instanceColor&&(ve=j.instanceColor)),oe===void 0||oe.attribute!==ve||ve&&oe.data!==ve.data)return!0;k++}return u.attributesNum!==k||u.index!==W}function w(j,le,re,W){const G={},V=le.attributes;let k=0;const ie=re.getAttributes();for(const te in ie)if(ie[te].location>=0){let oe=V[te];oe===void 0&&(te==="instanceMatrix"&&j.instanceMatrix&&(oe=j.instanceMatrix),te==="instanceColor"&&j.instanceColor&&(oe=j.instanceColor));const ve={};ve.attribute=oe,oe&&oe.data&&(ve.data=oe.data),G[te]=ve,k++}u.attributes=G,u.attributesNum=k,u.index=W}function E(){const j=u.newAttributes;for(let le=0,re=j.length;le<re;le++)j[le]=0}function T(j){L(j,0)}function L(j,le){const re=u.newAttributes,W=u.enabledAttributes,G=u.attributeDivisors;re[j]=1,W[j]===0&&(n.enableVertexAttribArray(j),W[j]=1),G[j]!==le&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,le),G[j]=le)}function A(){const j=u.newAttributes,le=u.enabledAttributes;for(let re=0,W=le.length;re<W;re++)le[re]!==j[re]&&(n.disableVertexAttribArray(re),le[re]=0)}function O(j,le,re,W,G,V,k){k===!0?n.vertexAttribIPointer(j,le,re,G,V):n.vertexAttribPointer(j,le,re,W,G,V)}function U(j,le,re,W){if(r.isWebGL2===!1&&(j.isInstancedMesh||W.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const G=W.attributes,V=re.getAttributes(),k=le.defaultAttributeValues;for(const ie in V){const te=V[ie];if(te.location>=0){let se=G[ie];if(se===void 0&&(ie==="instanceMatrix"&&j.instanceMatrix&&(se=j.instanceMatrix),ie==="instanceColor"&&j.instanceColor&&(se=j.instanceColor)),se!==void 0){const oe=se.normalized,ve=se.itemSize,xe=t.get(se);if(xe===void 0)continue;const he=xe.buffer,Ue=xe.type,ke=xe.bytesPerElement,Qe=r.isWebGL2===!0&&(Ue===n.INT||Ue===n.UNSIGNED_INT||se.gpuType===vb);if(se.isInterleavedBufferAttribute){const Le=se.data,Q=Le.stride,He=se.offset;if(Le.isInstancedInterleavedBuffer){for(let Pe=0;Pe<te.locationSize;Pe++)L(te.location+Pe,Le.meshPerAttribute);j.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let Pe=0;Pe<te.locationSize;Pe++)T(te.location+Pe);n.bindBuffer(n.ARRAY_BUFFER,he);for(let Pe=0;Pe<te.locationSize;Pe++)O(te.location+Pe,ve/te.locationSize,Ue,oe,Q*ke,(He+ve/te.locationSize*Pe)*ke,Qe)}else{if(se.isInstancedBufferAttribute){for(let Le=0;Le<te.locationSize;Le++)L(te.location+Le,se.meshPerAttribute);j.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Le=0;Le<te.locationSize;Le++)T(te.location+Le);n.bindBuffer(n.ARRAY_BUFFER,he);for(let Le=0;Le<te.locationSize;Le++)O(te.location+Le,ve/te.locationSize,Ue,oe,ve*ke,ve/te.locationSize*Le*ke,Qe)}}else if(k!==void 0){const oe=k[ie];if(oe!==void 0)switch(oe.length){case 2:n.vertexAttrib2fv(te.location,oe);break;case 3:n.vertexAttrib3fv(te.location,oe);break;case 4:n.vertexAttrib4fv(te.location,oe);break;default:n.vertexAttrib1fv(te.location,oe)}}}}A()}function F(){K();for(const j in l){const le=l[j];for(const re in le){const W=le[re];for(const G in W)v(W[G].object),delete W[G];delete le[re]}delete l[j]}}function P(j){if(l[j.id]===void 0)return;const le=l[j.id];for(const re in le){const W=le[re];for(const G in W)v(W[G].object),delete W[G];delete le[re]}delete l[j.id]}function N(j){for(const le in l){const re=l[le];if(re[j.id]===void 0)continue;const W=re[j.id];for(const G in W)v(W[G].object),delete W[G];delete re[j.id]}}function K(){$(),c=!0,u!==o&&(u=o,g(u.object))}function $(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:f,reset:K,resetDefaultState:$,dispose:F,releaseStatesOfGeometry:P,releaseStatesOfProgram:N,initAttributes:E,enableAttribute:T,disableUnusedAttributes:A}}function VW(n,e,t,r){const i=r.isWebGL2;let s;function a(c){s=c}function l(c,f){n.drawArrays(s,c,f),t.update(f,s,1)}function o(c,f,p){if(p===0)return;let g,v;if(i)g=n,v="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,c,f,p),t.update(f,s,p)}function u(c,f,p){if(p===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<p;v++)this.render(c[v],f[v]);else{g.multiDrawArraysWEBGL(s,c,0,f,0,p);let v=0;for(let x=0;x<p;x++)v+=f[x];t.update(v,s,1)}}this.setMode=a,this.render=l,this.renderInstances=o,this.renderMultiDraw=u}function WW(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(O){if(O==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let l=t.precision!==void 0?t.precision:"highp";const o=s(l);o!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",o,"instead."),l=o);const u=a||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),S=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),_=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),E=p>0,T=a||e.has("OES_texture_float"),L=E&&T,A=a?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:S,maxVaryings:_,maxFragmentUniforms:w,vertexTextures:E,floatFragmentTextures:T,floatVertexTextures:L,maxSamples:A}}function jW(n){const e=this;let t=null,r=0,i=!1,s=!1;const a=new pc,l=new Zn,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const g=f.length!==0||p||r!==0||i;return i=p,r=f.length,g},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=c(f,p,0)},this.setState=function(f,p,g){const v=f.clippingPlanes,x=f.clipIntersection,S=f.clipShadows,_=n.get(f);if(!i||v===null||v.length===0||s&&!S)s?c(null):u();else{const w=s?0:r,E=w*4;let T=_.clippingState||null;o.value=T,T=c(v,p,E,g);for(let L=0;L!==E;++L)T[L]=t[L];_.clippingState=T,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function u(){o.value!==t&&(o.value=t,o.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,p,g,v){const x=f!==null?f.length:0;let S=null;if(x!==0){if(S=o.value,v!==!0||S===null){const _=g+x*4,w=p.matrixWorldInverse;l.getNormalMatrix(w),(S===null||S.length<_)&&(S=new Float32Array(_));for(let E=0,T=g;E!==x;++E,T+=4)a.copy(f[E]).applyMatrix4(w,l),a.normal.toArray(S,T),S[T+3]=a.constant}o.value=S,o.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,S}}function XW(n){let e=new WeakMap;function t(a,l){return l===Og?a.mapping=bu:l===Ig&&(a.mapping=Uc),a}function r(a){if(a&&a.isTexture){const l=a.mapping;if(l===Og||l===Ig)if(e.has(a)){const o=e.get(a).texture;return t(o,a.mapping)}else{const o=a.image;if(o&&o.height>0){const u=new LI(o.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",i),t(u.texture,a.mapping)}else return null}}return a}function i(a){const l=a.target;l.removeEventListener("dispose",i);const o=e.get(l);o!==void 0&&(e.delete(l),o.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class gv extends Ap{constructor(e=-1,t=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,l=i+t,o=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,l-=c*this.view.offsetY,o=l-c*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const jd=4,yC=[.125,.215,.35,.446,.526,.582],Gf=20,vS=new gv,_C=new $t;let yS=null,_S=0,xS=0;const kf=(1+Math.sqrt(5))/2,xd=1/kf,xC=[new ge(1,1,1),new ge(-1,1,1),new ge(1,1,-1),new ge(-1,1,-1),new ge(0,kf,xd),new ge(0,kf,-xd),new ge(xd,0,kf),new ge(-xd,0,kf),new ge(kf,xd,0),new ge(-kf,xd,0)];class GE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){yS=this._renderer.getRenderTarget(),_S=this._renderer.getActiveCubeFace(),xS=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(yS,_S,xS),e.scissorTest=!1,$y(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===bu||e.mapping===Uc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yS=this._renderer.getRenderTarget(),_S=this._renderer.getActiveCubeFace(),xS=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:kr,minFilter:kr,generateMipmaps:!1,type:mh,format:cs,colorSpace:ga,depthBuffer:!1},i=SC(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SC(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qW(s)),this._blurMaterial=YW(s,e,t)}return i}_compileMaterial(e){const t=new Ni(this._lodPlanes[0],e);this._renderer.compile(t,vS)}_sceneToCubeUV(e,t,r,i){const l=new ji(90,1,t,r),o=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,p=c.toneMapping;c.getClearColor(_C),c.toneMapping=qa,c.autoClear=!1;const g=new Xc({name:"PMREM.Background",side:qi,depthWrite:!1,depthTest:!1}),v=new Ni(new Mh,g);let x=!1;const S=e.background;S?S.isColor&&(g.color.copy(S),e.background=null,x=!0):(g.color.copy(_C),x=!0);for(let _=0;_<6;_++){const w=_%3;w===0?(l.up.set(0,o[_],0),l.lookAt(u[_],0,0)):w===1?(l.up.set(0,0,o[_]),l.lookAt(0,u[_],0)):(l.up.set(0,o[_],0),l.lookAt(0,0,u[_]));const E=this._cubeSize;$y(i,w*E,_>2?E:0,E,E),c.setRenderTarget(i),x&&c.render(v,l),c.render(e,l)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=p,c.autoClear=f,e.background=S}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===bu||e.mapping===Uc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wC());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Ni(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const o=this._cubeSize;$y(t,0,0,3*o,2*o),r.setRenderTarget(t),r.render(a,vS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=xC[(i-1)%xC.length];this._blur(e,i-1,i,s,a)}t.autoClear=r}_blur(e,t,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,a,l){const o=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Ni(this._lodPlanes[i],u),p=u.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Gf-1),x=s/v,S=isFinite(s)?1+Math.floor(c*x):Gf;S>Gf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Gf}`);const _=[];let w=0;for(let O=0;O<Gf;++O){const U=O/x,F=Math.exp(-U*U/2);_.push(F),O===0?w+=F:O<S&&(w+=2*F)}for(let O=0;O<_.length;O++)_[O]=_[O]/w;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=_,p.latitudinal.value=a==="latitudinal",l&&(p.poleAxis.value=l);const{_lodMax:E}=this;p.dTheta.value=v,p.mipInt.value=E-r;const T=this._sizeLods[i],L=3*T*(i>E-jd?i-E+jd:0),A=4*(this._cubeSize-T);$y(t,L,A,3*T,2*T),o.setRenderTarget(t),o.render(f,vS)}}function qW(n){const e=[],t=[],r=[];let i=n;const s=n-jd+1+yC.length;for(let a=0;a<s;a++){const l=Math.pow(2,i);t.push(l);let o=1/l;a>n-jd?o=yC[a-n+jd-1]:a===0&&(o=0),r.push(o);const u=1/(l-2),c=-u,f=1+u,p=[c,c,f,c,f,f,c,c,f,f,c,f],g=6,v=6,x=3,S=2,_=1,w=new Float32Array(x*v*g),E=new Float32Array(S*v*g),T=new Float32Array(_*v*g);for(let A=0;A<g;A++){const O=A%3*2/3-1,U=A>2?0:-1,F=[O,U,0,O+2/3,U,0,O+2/3,U+1,0,O,U,0,O+2/3,U+1,0,O,U+1,0];w.set(F,x*v*A),E.set(p,S*v*A);const P=[A,A,A,A,A,A];T.set(P,_*v*A)}const L=new Xn;L.setAttribute("position",new vr(w,x)),L.setAttribute("uv",new vr(E,S)),L.setAttribute("faceIndex",new vr(T,_)),e.push(L),i>jd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function SC(n,e,t){const r=new _s(n,e,t);return r.texture.mapping=bp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $y(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function YW(n,e,t){const r=new Float32Array(Gf),i=new ge(0,1,0);return new to({name:"SphericalGaussianBlur",defines:{n:Gf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Nb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:da,depthTest:!1,depthWrite:!1})}function wC(){return new to({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Nb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:da,depthTest:!1,depthWrite:!1})}function EC(){return new to({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Nb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:da,depthTest:!1,depthWrite:!1})}function Nb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KW(n){let e=new WeakMap,t=null;function r(l){if(l&&l.isTexture){const o=l.mapping,u=o===Og||o===Ig,c=o===bu||o===Uc;if(u||c)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let f=e.get(l);return t===null&&(t=new GE(n)),f=u?t.fromEquirectangular(l,f):t.fromCubemap(l,f),e.set(l,f),f.texture}else{if(e.has(l))return e.get(l).texture;{const f=l.image;if(u&&f&&f.height>0||c&&f&&i(f)){t===null&&(t=new GE(n));const p=u?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,p),l.addEventListener("dispose",s),p.texture}else return null}}}return l}function i(l){let o=0;const u=6;for(let c=0;c<u;c++)l[c]!==void 0&&o++;return o===u}function s(l){const o=l.target;o.removeEventListener("dispose",s);const u=e.get(o);u!==void 0&&(e.delete(o),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:a}}function $W(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function QW(n,e,t,r){const i={},s=new WeakMap;function a(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let S=0,_=x.length;S<_;S++)e.remove(x[S])}p.removeEventListener("dispose",a),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function l(f,p){return i[p.id]===!0||(p.addEventListener("dispose",a),i[p.id]=!0,t.memory.geometries++),p}function o(f){const p=f.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const g=f.morphAttributes;for(const v in g){const x=g[v];for(let S=0,_=x.length;S<_;S++)e.update(x[S],n.ARRAY_BUFFER)}}function u(f){const p=[],g=f.index,v=f.attributes.position;let x=0;if(g!==null){const w=g.array;x=g.version;for(let E=0,T=w.length;E<T;E+=3){const L=w[E+0],A=w[E+1],O=w[E+2];p.push(L,A,A,O,O,L)}}else if(v!==void 0){const w=v.array;x=v.version;for(let E=0,T=w.length/3-1;E<T;E+=3){const L=E+0,A=E+1,O=E+2;p.push(L,A,A,O,O,L)}}else return;const S=new(MI(p)?Ib:Ob)(p,1);S.version=x;const _=s.get(f);_&&e.remove(_),s.set(f,S)}function c(f){const p=s.get(f);if(p){const g=f.index;g!==null&&p.version<g.version&&u(f)}else u(f);return s.get(f)}return{get:l,update:o,getWireframeAttribute:c}}function JW(n,e,t,r){const i=r.isWebGL2;let s;function a(g){s=g}let l,o;function u(g){l=g.type,o=g.bytesPerElement}function c(g,v){n.drawElements(s,v,l,g*o),t.update(v,s,1)}function f(g,v,x){if(x===0)return;let S,_;if(i)S=n,_="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[_](s,v,l,g*o,x),t.update(v,s,x)}function p(g,v,x){if(x===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let _=0;_<x;_++)this.render(g[_]/o,v[_]);else{S.multiDrawElementsWEBGL(s,v,0,l,g,0,x);let _=0;for(let w=0;w<x;w++)_+=v[w];t.update(_,s,1)}}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=f,this.renderMultiDraw=p}function ZW(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,l){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=l*(s/3);break;case n.LINES:t.lines+=l*(s/2);break;case n.LINE_STRIP:t.lines+=l*(s-1);break;case n.LINE_LOOP:t.lines+=l*s;break;case n.POINTS:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function ej(n,e){return n[0]-e[0]}function tj(n,e){return Math.abs(e[1])-Math.abs(n[1])}function nj(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,a=new Or,l=[];for(let u=0;u<8;u++)l[u]=[u,0];function o(u,c,f){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,x=v!==void 0?v.length:0;let S=s.get(c);if(S===void 0||S.count!==x){let le=function(){$.dispose(),s.delete(c),c.removeEventListener("dispose",le)};var g=le;S!==void 0&&S.texture.dispose();const E=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,L=c.morphAttributes.color!==void 0,A=c.morphAttributes.position||[],O=c.morphAttributes.normal||[],U=c.morphAttributes.color||[];let F=0;E===!0&&(F=1),T===!0&&(F=2),L===!0&&(F=3);let P=c.attributes.position.count*F,N=1;P>e.maxTextureSize&&(N=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const K=new Float32Array(P*N*4*x),$=new yx(K,P,N,x);$.type=ko,$.needsUpdate=!0;const j=F*4;for(let re=0;re<x;re++){const W=A[re],G=O[re],V=U[re],k=P*N*4*re;for(let ie=0;ie<W.count;ie++){const te=ie*j;E===!0&&(a.fromBufferAttribute(W,ie),K[k+te+0]=a.x,K[k+te+1]=a.y,K[k+te+2]=a.z,K[k+te+3]=0),T===!0&&(a.fromBufferAttribute(G,ie),K[k+te+4]=a.x,K[k+te+5]=a.y,K[k+te+6]=a.z,K[k+te+7]=0),L===!0&&(a.fromBufferAttribute(V,ie),K[k+te+8]=a.x,K[k+te+9]=a.y,K[k+te+10]=a.z,K[k+te+11]=V.itemSize===4?a.w:1)}}S={count:x,texture:$,size:new ft(P,N)},s.set(c,S),c.addEventListener("dispose",le)}let _=0;for(let E=0;E<p.length;E++)_+=p[E];const w=c.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",w),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",S.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",S.size)}else{const v=p===void 0?0:p.length;let x=r[c.id];if(x===void 0||x.length!==v){x=[];for(let T=0;T<v;T++)x[T]=[T,0];r[c.id]=x}for(let T=0;T<v;T++){const L=x[T];L[0]=T,L[1]=p[T]}x.sort(tj);for(let T=0;T<8;T++)T<v&&x[T][1]?(l[T][0]=x[T][0],l[T][1]=x[T][1]):(l[T][0]=Number.MAX_SAFE_INTEGER,l[T][1]=0);l.sort(ej);const S=c.morphAttributes.position,_=c.morphAttributes.normal;let w=0;for(let T=0;T<8;T++){const L=l[T],A=L[0],O=L[1];A!==Number.MAX_SAFE_INTEGER&&O?(S&&c.getAttribute("morphTarget"+T)!==S[A]&&c.setAttribute("morphTarget"+T,S[A]),_&&c.getAttribute("morphNormal"+T)!==_[A]&&c.setAttribute("morphNormal"+T,_[A]),i[T]=O,w+=O):(S&&c.hasAttribute("morphTarget"+T)===!0&&c.deleteAttribute("morphTarget"+T),_&&c.hasAttribute("morphNormal"+T)===!0&&c.deleteAttribute("morphNormal"+T),i[T]=0)}const E=c.morphTargetsRelative?1:1-w;f.getUniforms().setValue(n,"morphTargetBaseInfluence",E),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:o}}function rj(n,e,t,r){let i=new WeakMap;function s(o){const u=r.render.frame,c=o.geometry,f=e.get(o,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),o.isInstancedMesh&&(o.hasEventListener("dispose",l)===!1&&o.addEventListener("dispose",l),i.get(o)!==u&&(t.update(o.instanceMatrix,n.ARRAY_BUFFER),o.instanceColor!==null&&t.update(o.instanceColor,n.ARRAY_BUFFER),i.set(o,u))),o.isSkinnedMesh){const p=o.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return f}function a(){i=new WeakMap}function l(o){const u=o.target;u.removeEventListener("dispose",l),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}class _x extends Di{constructor(e,t,r,i,s,a,l,o,u,c){if(c=c!==void 0?c:Pc,c!==Pc&&c!==Bc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Pc&&(r=Ml),r===void 0&&c===Bc&&(r=yu),super(null,i,s,a,l,o,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:Vr,this.minFilter=o!==void 0?o:Vr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const II=new Di,NI=new _x(1,1);NI.compareFunction=Cb;const DI=new yx,UI=new Lb,FI=new pv,MC=[],bC=[],TC=new Float32Array(16),AC=new Float32Array(9),CC=new Float32Array(4);function Rp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=MC[i];if(s===void 0&&(s=new Float32Array(i),MC[i]=s),e!==0){r.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=t,n[a].toArray(s,l)}return s}function Yi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ki(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function xx(n,e){let t=bC[e];t===void 0&&(t=new Int32Array(e),bC[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function ij(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function sj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yi(t,e))return;n.uniform2fv(this.addr,e),Ki(t,e)}}function oj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Yi(t,e))return;n.uniform3fv(this.addr,e),Ki(t,e)}}function aj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yi(t,e))return;n.uniform4fv(this.addr,e),Ki(t,e)}}function lj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Yi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ki(t,e)}else{if(Yi(t,r))return;CC.set(r),n.uniformMatrix2fv(this.addr,!1,CC),Ki(t,r)}}function uj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Yi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ki(t,e)}else{if(Yi(t,r))return;AC.set(r),n.uniformMatrix3fv(this.addr,!1,AC),Ki(t,r)}}function cj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Yi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ki(t,e)}else{if(Yi(t,r))return;TC.set(r),n.uniformMatrix4fv(this.addr,!1,TC),Ki(t,r)}}function fj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function hj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yi(t,e))return;n.uniform2iv(this.addr,e),Ki(t,e)}}function dj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yi(t,e))return;n.uniform3iv(this.addr,e),Ki(t,e)}}function pj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yi(t,e))return;n.uniform4iv(this.addr,e),Ki(t,e)}}function mj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function gj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yi(t,e))return;n.uniform2uiv(this.addr,e),Ki(t,e)}}function vj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yi(t,e))return;n.uniform3uiv(this.addr,e),Ki(t,e)}}function yj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yi(t,e))return;n.uniform4uiv(this.addr,e),Ki(t,e)}}function _j(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const s=this.type===n.SAMPLER_2D_SHADOW?NI:II;t.setTexture2D(e||s,i)}function xj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||UI,i)}function Sj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||FI,i)}function wj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||DI,i)}function Ej(n){switch(n){case 5126:return ij;case 35664:return sj;case 35665:return oj;case 35666:return aj;case 35674:return lj;case 35675:return uj;case 35676:return cj;case 5124:case 35670:return fj;case 35667:case 35671:return hj;case 35668:case 35672:return dj;case 35669:case 35673:return pj;case 5125:return mj;case 36294:return gj;case 36295:return vj;case 36296:return yj;case 35678:case 36198:case 36298:case 36306:case 35682:return _j;case 35679:case 36299:case 36307:return xj;case 35680:case 36300:case 36308:case 36293:return Sj;case 36289:case 36303:case 36311:case 36292:return wj}}function Mj(n,e){n.uniform1fv(this.addr,e)}function bj(n,e){const t=Rp(e,this.size,2);n.uniform2fv(this.addr,t)}function Tj(n,e){const t=Rp(e,this.size,3);n.uniform3fv(this.addr,t)}function Aj(n,e){const t=Rp(e,this.size,4);n.uniform4fv(this.addr,t)}function Cj(n,e){const t=Rp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Rj(n,e){const t=Rp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Pj(n,e){const t=Rp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Lj(n,e){n.uniform1iv(this.addr,e)}function Oj(n,e){n.uniform2iv(this.addr,e)}function Ij(n,e){n.uniform3iv(this.addr,e)}function Nj(n,e){n.uniform4iv(this.addr,e)}function Dj(n,e){n.uniform1uiv(this.addr,e)}function Uj(n,e){n.uniform2uiv(this.addr,e)}function Fj(n,e){n.uniform3uiv(this.addr,e)}function Bj(n,e){n.uniform4uiv(this.addr,e)}function kj(n,e,t){const r=this.cache,i=e.length,s=xx(t,i);Yi(r,s)||(n.uniform1iv(this.addr,s),Ki(r,s));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||II,s[a])}function zj(n,e,t){const r=this.cache,i=e.length,s=xx(t,i);Yi(r,s)||(n.uniform1iv(this.addr,s),Ki(r,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||UI,s[a])}function Hj(n,e,t){const r=this.cache,i=e.length,s=xx(t,i);Yi(r,s)||(n.uniform1iv(this.addr,s),Ki(r,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||FI,s[a])}function Gj(n,e,t){const r=this.cache,i=e.length,s=xx(t,i);Yi(r,s)||(n.uniform1iv(this.addr,s),Ki(r,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||DI,s[a])}function Vj(n){switch(n){case 5126:return Mj;case 35664:return bj;case 35665:return Tj;case 35666:return Aj;case 35674:return Cj;case 35675:return Rj;case 35676:return Pj;case 5124:case 35670:return Lj;case 35667:case 35671:return Oj;case 35668:case 35672:return Ij;case 35669:case 35673:return Nj;case 5125:return Dj;case 36294:return Uj;case 36295:return Fj;case 36296:return Bj;case 35678:case 36198:case 36298:case 36306:case 35682:return kj;case 35679:case 36299:case 36307:return zj;case 35680:case 36300:case 36308:case 36293:return Hj;case 36289:case 36303:case 36311:case 36292:return Gj}}class Wj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Ej(t.type)}}class jj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Vj(t.type)}}class Xj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const l=i[s];l.setValue(e,t[l.id],r)}}}const SS=/(\w+)(\])?(\[|\.)?/g;function RC(n,e){n.seq.push(e),n.map[e.id]=e}function qj(n,e,t){const r=n.name,i=r.length;for(SS.lastIndex=0;;){const s=SS.exec(r),a=SS.lastIndex;let l=s[1];const o=s[2]==="]",u=s[3];if(o&&(l=l|0),u===void 0||u==="["&&a+2===i){RC(t,u===void 0?new Wj(l,n,e):new jj(l,n,e));break}else{let f=t.map[l];f===void 0&&(f=new Xj(l),RC(t,f)),t=f}}}class Q0{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),a=e.getUniformLocation(t,s.name);qj(s,a,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,a=t.length;s!==a;++s){const l=t[s],o=r[l.id];o.needsUpdate!==!1&&l.setValue(e,o.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&r.push(a)}return r}}function PC(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Yj=37297;let Kj=0;function $j(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const l=a+1;r.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return r.join(`
`)}function Qj(n){const e=Lr.getPrimaries(Lr.workingColorSpace),t=Lr.getPrimaries(n);let r;switch(e===t?r="":e===zg&&t===kg?r="LinearDisplayP3ToLinearSRGB":e===kg&&t===zg&&(r="LinearSRGBToLinearDisplayP3"),n){case ga:case hv:return[r,"LinearTransferOETF"];case Dr:case vx:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function LC(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+$j(n.getShaderSource(e),a)}else return i}function Jj(n,e){const t=Qj(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Zj(n,e){let t;switch(e){case ZO:t="Linear";break;case eI:t="Reinhard";break;case tI:t="OptimizedCineon";break;case gb:t="ACESFilmic";break;case rI:t="AgX";break;case nI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function eX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.alphaToCoverage||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Xd).join(`
`)}function tX(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Xd).join(`
`)}function nX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function rX(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),a=s.name;let l=1;s.type===n.FLOAT_MAT2&&(l=2),s.type===n.FLOAT_MAT3&&(l=3),s.type===n.FLOAT_MAT4&&(l=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:l}}return t}function Xd(n){return n!==""}function OC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function IC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const iX=/^[ \t]*#include +<([\w\d./]+)>/gm;function VE(n){return n.replace(iX,oX)}const sX=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function oX(n,e){let t=Yn[e];if(t===void 0){const r=sX.get(e);if(r!==void 0)t=Yn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return VE(t)}const aX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function NC(n){return n.replace(aX,lX)}function lX(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function DC(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	`;return n.isWebGL2&&(e+=`precision ${n.precision} sampler3D;
		precision ${n.precision} sampler2DArray;
		precision ${n.precision} sampler2DShadow;
		precision ${n.precision} samplerCubeShadow;
		precision ${n.precision} sampler2DArrayShadow;
		precision ${n.precision} isampler2D;
		precision ${n.precision} isampler3D;
		precision ${n.precision} isamplerCube;
		precision ${n.precision} isampler2DArray;
		precision ${n.precision} usampler2D;
		precision ${n.precision} usampler3D;
		precision ${n.precision} usamplerCube;
		precision ${n.precision} usampler2DArray;
		`),n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===hx?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ig?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===za&&(e="SHADOWMAP_TYPE_VSM"),e}function cX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case bu:case Uc:e="ENVMAP_TYPE_CUBE";break;case bp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Uc:e="ENVMAP_MODE_REFRACTION";break}return e}function hX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fv:e="ENVMAP_BLENDING_MULTIPLY";break;case QO:e="ENVMAP_BLENDING_MIX";break;case JO:e="ENVMAP_BLENDING_ADD";break}return e}function dX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function pX(n,e,t,r){const i=n.getContext(),s=t.defines;let a=t.vertexShader,l=t.fragmentShader;const o=uX(t),u=cX(t),c=fX(t),f=hX(t),p=dX(t),g=t.isWebGL2?"":eX(t),v=tX(t),x=nX(s),S=i.createProgram();let _,w,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Xd).join(`
`),_.length>0&&(_+=`
`),w=[g,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Xd).join(`
`),w.length>0&&(w+=`
`)):(_=[DC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xd).join(`
`),w=[g,DC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qa?"#define TONE_MAPPING":"",t.toneMapping!==qa?Yn.tonemapping_pars_fragment:"",t.toneMapping!==qa?Zj("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Yn.colorspace_pars_fragment,Jj("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Xd).join(`
`)),a=VE(a),a=OC(a,t),a=IC(a,t),l=VE(l),l=OC(l,t),l=IC(l,t),a=NC(a),l=NC(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,_=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,w=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===zE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===zE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const T=E+_+a,L=E+w+l,A=PC(i,i.VERTEX_SHADER,T),O=PC(i,i.FRAGMENT_SHADER,L);i.attachShader(S,A),i.attachShader(S,O),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function U(K){if(n.debug.checkShaderErrors){const $=i.getProgramInfoLog(S).trim(),j=i.getShaderInfoLog(A).trim(),le=i.getShaderInfoLog(O).trim();let re=!0,W=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(re=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,S,A,O);else{const G=LC(i,A,"vertex"),V=LC(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+K.name+`
Material Type: `+K.type+`

Program Info Log: `+$+`
`+G+`
`+V)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(j===""||le==="")&&(W=!1);W&&(K.diagnostics={runnable:re,programLog:$,vertexShader:{log:j,prefix:_},fragmentShader:{log:le,prefix:w}})}i.deleteShader(A),i.deleteShader(O),F=new Q0(i,S),P=rX(i,S)}let F;this.getUniforms=function(){return F===void 0&&U(this),F};let P;this.getAttributes=function(){return P===void 0&&U(this),P};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(S,Yj)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Kj++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=A,this.fragmentShader=O,this}let mX=0;class gX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new vX(e),t.set(e,r)),r}}class vX{constructor(e){this.id=mX++,this.code=e,this.usedTimes=0}}function yX(n,e,t,r,i,s,a){const l=new oh,o=new gX,u=new Set,c=[],f=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(P){return u.add(P),P===0?"uv":`uv${P}`}function _(P,N,K,$,j){const le=$.fog,re=j.geometry,W=P.isMeshStandardMaterial?$.environment:null,G=(P.isMeshStandardMaterial?t:e).get(P.envMap||W),V=G&&G.mapping===bp?G.image.height:null,k=x[P.type];P.precision!==null&&(v=i.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const ie=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,te=ie!==void 0?ie.length:0;let se=0;re.morphAttributes.position!==void 0&&(se=1),re.morphAttributes.normal!==void 0&&(se=2),re.morphAttributes.color!==void 0&&(se=3);let oe,ve,xe,he;if(k){const Qt=Wa[k];oe=Qt.vertexShader,ve=Qt.fragmentShader}else oe=P.vertexShader,ve=P.fragmentShader,o.update(P),xe=o.getVertexShaderID(P),he=o.getFragmentShaderID(P);const Ue=n.getRenderTarget(),ke=j.isInstancedMesh===!0,Qe=j.isBatchedMesh===!0,Le=!!P.map,Q=!!P.matcap,He=!!G,Pe=!!P.aoMap,Je=!!P.lightMap,Ye=!!P.bumpMap,mt=!!P.normalMap,gt=!!P.displacementMap,ne=!!P.emissiveMap,Y=!!P.metalnessMap,Ie=!!P.roughnessMap,st=P.anisotropy>0,ot=P.clearcoat>0,be=P.iridescence>0,pe=P.sheen>0,Ge=P.transmission>0,Fe=st&&!!P.anisotropyMap,nt=ot&&!!P.clearcoatMap,Ce=ot&&!!P.clearcoatNormalMap,De=ot&&!!P.clearcoatRoughnessMap,Ut=be&&!!P.iridescenceMap,Bt=be&&!!P.iridescenceThicknessMap,Ct=pe&&!!P.sheenColorMap,wt=pe&&!!P.sheenRoughnessMap,ut=!!P.specularMap,It=!!P.specularColorMap,Kt=!!P.specularIntensityMap,Mn=Ge&&!!P.transmissionMap,Tt=Ge&&!!P.thicknessMap,Rt=!!P.gradientMap,ce=!!P.alphaMap,Re=P.alphaTest>0,We=!!P.alphaHash,dt=!!P.extensions;let St=qa;P.toneMapped&&(Ue===null||Ue.isXRRenderTarget===!0)&&(St=n.toneMapping);const Gt={isWebGL2:f,shaderID:k,shaderType:P.type,shaderName:P.name,vertexShader:oe,fragmentShader:ve,defines:P.defines,customVertexShaderID:xe,customFragmentShaderID:he,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,batching:Qe,instancing:ke,instancingColor:ke&&j.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:Ue===null?n.outputColorSpace:Ue.isXRRenderTarget===!0?Ue.texture.colorSpace:ga,alphaToCoverage:!!P.alphaToCoverage,map:Le,matcap:Q,envMap:He,envMapMode:He&&G.mapping,envMapCubeUVHeight:V,aoMap:Pe,lightMap:Je,bumpMap:Ye,normalMap:mt,displacementMap:g&&gt,emissiveMap:ne,normalMapObjectSpace:mt&&P.normalMapType===pI,normalMapTangentSpace:mt&&P.normalMapType===jc,metalnessMap:Y,roughnessMap:Ie,anisotropy:st,anisotropyMap:Fe,clearcoat:ot,clearcoatMap:nt,clearcoatNormalMap:Ce,clearcoatRoughnessMap:De,iridescence:be,iridescenceMap:Ut,iridescenceThicknessMap:Bt,sheen:pe,sheenColorMap:Ct,sheenRoughnessMap:wt,specularMap:ut,specularColorMap:It,specularIntensityMap:Kt,transmission:Ge,transmissionMap:Mn,thicknessMap:Tt,gradientMap:Rt,opaque:P.transparent===!1&&P.blending===rh&&P.alphaToCoverage===!1,alphaMap:ce,alphaTest:Re,alphaHash:We,combine:P.combine,mapUv:Le&&S(P.map.channel),aoMapUv:Pe&&S(P.aoMap.channel),lightMapUv:Je&&S(P.lightMap.channel),bumpMapUv:Ye&&S(P.bumpMap.channel),normalMapUv:mt&&S(P.normalMap.channel),displacementMapUv:gt&&S(P.displacementMap.channel),emissiveMapUv:ne&&S(P.emissiveMap.channel),metalnessMapUv:Y&&S(P.metalnessMap.channel),roughnessMapUv:Ie&&S(P.roughnessMap.channel),anisotropyMapUv:Fe&&S(P.anisotropyMap.channel),clearcoatMapUv:nt&&S(P.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&S(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:De&&S(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Ut&&S(P.iridescenceMap.channel),iridescenceThicknessMapUv:Bt&&S(P.iridescenceThicknessMap.channel),sheenColorMapUv:Ct&&S(P.sheenColorMap.channel),sheenRoughnessMapUv:wt&&S(P.sheenRoughnessMap.channel),specularMapUv:ut&&S(P.specularMap.channel),specularColorMapUv:It&&S(P.specularColorMap.channel),specularIntensityMapUv:Kt&&S(P.specularIntensityMap.channel),transmissionMapUv:Mn&&S(P.transmissionMap.channel),thicknessMapUv:Tt&&S(P.thicknessMap.channel),alphaMapUv:ce&&S(P.alphaMap.channel),vertexTangents:!!re.attributes.tangent&&(mt||st),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!re.attributes.uv&&(Le||ce),fog:!!le,useFog:P.fog===!0,fogExp2:!!le&&le.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:j.isSkinnedMesh===!0,morphTargets:re.morphAttributes.position!==void 0,morphNormals:re.morphAttributes.normal!==void 0,morphColors:re.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:se,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&K.length>0,shadowMapType:n.shadowMap.type,toneMapping:St,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Le&&P.map.isVideoTexture===!0&&Lr.getTransfer(P.map.colorSpace)===zr,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===yo,flipSided:P.side===qi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:dt&&P.extensions.derivatives===!0,extensionFragDepth:dt&&P.extensions.fragDepth===!0,extensionDrawBuffers:dt&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:dt&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:dt&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:dt&&P.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Gt.vertexUv1s=u.has(1),Gt.vertexUv2s=u.has(2),Gt.vertexUv3s=u.has(3),u.clear(),Gt}function w(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const K in P.defines)N.push(K),N.push(P.defines[K]);return P.isRawShaderMaterial===!1&&(E(N,P),T(N,P),N.push(n.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function E(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function T(P,N){l.disableAll(),N.isWebGL2&&l.enable(0),N.supportsVertexTextures&&l.enable(1),N.instancing&&l.enable(2),N.instancingColor&&l.enable(3),N.matcap&&l.enable(4),N.envMap&&l.enable(5),N.normalMapObjectSpace&&l.enable(6),N.normalMapTangentSpace&&l.enable(7),N.clearcoat&&l.enable(8),N.iridescence&&l.enable(9),N.alphaTest&&l.enable(10),N.vertexColors&&l.enable(11),N.vertexAlphas&&l.enable(12),N.vertexUv1s&&l.enable(13),N.vertexUv2s&&l.enable(14),N.vertexUv3s&&l.enable(15),N.vertexTangents&&l.enable(16),N.anisotropy&&l.enable(17),N.alphaHash&&l.enable(18),N.batching&&l.enable(19),P.push(l.mask),l.disableAll(),N.fog&&l.enable(0),N.useFog&&l.enable(1),N.flatShading&&l.enable(2),N.logarithmicDepthBuffer&&l.enable(3),N.skinning&&l.enable(4),N.morphTargets&&l.enable(5),N.morphNormals&&l.enable(6),N.morphColors&&l.enable(7),N.premultipliedAlpha&&l.enable(8),N.shadowMapEnabled&&l.enable(9),N.useLegacyLights&&l.enable(10),N.doubleSided&&l.enable(11),N.flipSided&&l.enable(12),N.useDepthPacking&&l.enable(13),N.dithering&&l.enable(14),N.transmission&&l.enable(15),N.sheen&&l.enable(16),N.opaque&&l.enable(17),N.pointsUvs&&l.enable(18),N.decodeVideoTexture&&l.enable(19),N.alphaToCoverage&&l.enable(20),P.push(l.mask)}function L(P){const N=x[P.type];let K;if(N){const $=Wa[N];K=RI.clone($.uniforms)}else K=P.uniforms;return K}function A(P,N){let K;for(let $=0,j=c.length;$<j;$++){const le=c[$];if(le.cacheKey===N){K=le,++K.usedTimes;break}}return K===void 0&&(K=new pX(n,N,P,s),c.push(K)),K}function O(P){if(--P.usedTimes===0){const N=c.indexOf(P);c[N]=c[c.length-1],c.pop(),P.destroy()}}function U(P){o.remove(P)}function F(){o.dispose()}return{getParameters:_,getProgramCacheKey:w,getUniforms:L,acquireProgram:A,releaseProgram:O,releaseShaderCache:U,programs:c,dispose:F}}function _X(){let n=new WeakMap;function e(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function t(s){n.delete(s)}function r(s,a,l){n.get(s)[a]=l}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function xX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function UC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function FC(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function a(f,p,g,v,x,S){let _=n[e];return _===void 0?(_={id:f.id,object:f,geometry:p,material:g,groupOrder:v,renderOrder:f.renderOrder,z:x,group:S},n[e]=_):(_.id=f.id,_.object=f,_.geometry=p,_.material=g,_.groupOrder=v,_.renderOrder=f.renderOrder,_.z=x,_.group=S),e++,_}function l(f,p,g,v,x,S){const _=a(f,p,g,v,x,S);g.transmission>0?r.push(_):g.transparent===!0?i.push(_):t.push(_)}function o(f,p,g,v,x,S){const _=a(f,p,g,v,x,S);g.transmission>0?r.unshift(_):g.transparent===!0?i.unshift(_):t.unshift(_)}function u(f,p){t.length>1&&t.sort(f||xX),r.length>1&&r.sort(p||UC),i.length>1&&i.sort(p||UC)}function c(){for(let f=e,p=n.length;f<p;f++){const g=n[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:l,unshift:o,finish:c,sort:u}}function SX(){let n=new WeakMap;function e(r,i){const s=n.get(r);let a;return s===void 0?(a=new FC,n.set(r,[a])):i>=s.length?(a=new FC,s.push(a)):a=s[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function wX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ge,color:new $t};break;case"SpotLight":t={position:new ge,direction:new ge,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ge,color:new $t,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ge,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":t={color:new $t,position:new ge,halfWidth:new ge,halfHeight:new ge};break}return n[e.id]=t,t}}}function EX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let MX=0;function bX(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function TX(n,e){const t=new wX,r=EX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ge);const s=new ge,a=new In,l=new In;function o(c,f){let p=0,g=0,v=0;for(let K=0;K<9;K++)i.probe[K].set(0,0,0);let x=0,S=0,_=0,w=0,E=0,T=0,L=0,A=0,O=0,U=0,F=0;c.sort(bX);const P=f===!0?Math.PI:1;for(let K=0,$=c.length;K<$;K++){const j=c[K],le=j.color,re=j.intensity,W=j.distance,G=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)p+=le.r*re*P,g+=le.g*re*P,v+=le.b*re*P;else if(j.isLightProbe){for(let V=0;V<9;V++)i.probe[V].addScaledVector(j.sh.coefficients[V],re);F++}else if(j.isDirectionalLight){const V=t.get(j);if(V.color.copy(j.color).multiplyScalar(j.intensity*P),j.castShadow){const k=j.shadow,ie=r.get(j);ie.shadowBias=k.bias,ie.shadowNormalBias=k.normalBias,ie.shadowRadius=k.radius,ie.shadowMapSize=k.mapSize,i.directionalShadow[x]=ie,i.directionalShadowMap[x]=G,i.directionalShadowMatrix[x]=j.shadow.matrix,T++}i.directional[x]=V,x++}else if(j.isSpotLight){const V=t.get(j);V.position.setFromMatrixPosition(j.matrixWorld),V.color.copy(le).multiplyScalar(re*P),V.distance=W,V.coneCos=Math.cos(j.angle),V.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),V.decay=j.decay,i.spot[_]=V;const k=j.shadow;if(j.map&&(i.spotLightMap[O]=j.map,O++,k.updateMatrices(j),j.castShadow&&U++),i.spotLightMatrix[_]=k.matrix,j.castShadow){const ie=r.get(j);ie.shadowBias=k.bias,ie.shadowNormalBias=k.normalBias,ie.shadowRadius=k.radius,ie.shadowMapSize=k.mapSize,i.spotShadow[_]=ie,i.spotShadowMap[_]=G,A++}_++}else if(j.isRectAreaLight){const V=t.get(j);V.color.copy(le).multiplyScalar(re),V.halfWidth.set(j.width*.5,0,0),V.halfHeight.set(0,j.height*.5,0),i.rectArea[w]=V,w++}else if(j.isPointLight){const V=t.get(j);if(V.color.copy(j.color).multiplyScalar(j.intensity*P),V.distance=j.distance,V.decay=j.decay,j.castShadow){const k=j.shadow,ie=r.get(j);ie.shadowBias=k.bias,ie.shadowNormalBias=k.normalBias,ie.shadowRadius=k.radius,ie.shadowMapSize=k.mapSize,ie.shadowCameraNear=k.camera.near,ie.shadowCameraFar=k.camera.far,i.pointShadow[S]=ie,i.pointShadowMap[S]=G,i.pointShadowMatrix[S]=j.shadow.matrix,L++}i.point[S]=V,S++}else if(j.isHemisphereLight){const V=t.get(j);V.skyColor.copy(j.color).multiplyScalar(re*P),V.groundColor.copy(j.groundColor).multiplyScalar(re*P),i.hemi[E]=V,E++}}w>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Vt.LTC_FLOAT_1,i.rectAreaLTC2=Vt.LTC_FLOAT_2):(i.rectAreaLTC1=Vt.LTC_HALF_1,i.rectAreaLTC2=Vt.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Vt.LTC_FLOAT_1,i.rectAreaLTC2=Vt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Vt.LTC_HALF_1,i.rectAreaLTC2=Vt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const N=i.hash;(N.directionalLength!==x||N.pointLength!==S||N.spotLength!==_||N.rectAreaLength!==w||N.hemiLength!==E||N.numDirectionalShadows!==T||N.numPointShadows!==L||N.numSpotShadows!==A||N.numSpotMaps!==O||N.numLightProbes!==F)&&(i.directional.length=x,i.spot.length=_,i.rectArea.length=w,i.point.length=S,i.hemi.length=E,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=L,i.pointShadowMap.length=L,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=L,i.spotLightMatrix.length=A+O-U,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=F,N.directionalLength=x,N.pointLength=S,N.spotLength=_,N.rectAreaLength=w,N.hemiLength=E,N.numDirectionalShadows=T,N.numPointShadows=L,N.numSpotShadows=A,N.numSpotMaps=O,N.numLightProbes=F,i.version=MX++)}function u(c,f){let p=0,g=0,v=0,x=0,S=0;const _=f.matrixWorldInverse;for(let w=0,E=c.length;w<E;w++){const T=c[w];if(T.isDirectionalLight){const L=i.directional[p];L.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(_),p++}else if(T.isSpotLight){const L=i.spot[v];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(_),L.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(_),v++}else if(T.isRectAreaLight){const L=i.rectArea[x];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(_),l.identity(),a.copy(T.matrixWorld),a.premultiply(_),l.extractRotation(a),L.halfWidth.set(T.width*.5,0,0),L.halfHeight.set(0,T.height*.5,0),L.halfWidth.applyMatrix4(l),L.halfHeight.applyMatrix4(l),x++}else if(T.isPointLight){const L=i.point[g];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(_),g++}else if(T.isHemisphereLight){const L=i.hemi[S];L.direction.setFromMatrixPosition(T.matrixWorld),L.direction.transformDirection(_),S++}}}return{setup:o,setupView:u,state:i}}function BC(n,e){const t=new TX(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(f){r.push(f)}function l(f){i.push(f)}function o(f){t.setup(r,f)}function u(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:o,setupLightsView:u,pushLight:a,pushShadow:l}}function AX(n,e){let t=new WeakMap;function r(s,a=0){const l=t.get(s);let o;return l===void 0?(o=new BC(n,e),t.set(s,[o])):a>=l.length?(o=new BC(n,e),l.push(o)):o=l[a],o}function i(){t=new WeakMap}return{get:r,dispose:i}}class Db extends $i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Wc,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ub extends $i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const CX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,RX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function PX(n,e,t){let r=new mv;const i=new ft,s=new ft,a=new Or,l=new Db({depthPacking:dI}),o=new Ub,u={},c=t.maxTextureSize,f={[Rl]:qi,[qi]:Rl,[yo]:yo},p=new to({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:CX,fragmentShader:RX}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const v=new Xn;v.setAttribute("position",new vr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ni(v,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=hx;let _=this.type;this.render=function(A,O,U){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||A.length===0)return;const F=n.getRenderTarget(),P=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),K=n.state;K.setBlending(da),K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const $=_!==za&&this.type===za,j=_===za&&this.type!==za;for(let le=0,re=A.length;le<re;le++){const W=A[le],G=W.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;i.copy(G.mapSize);const V=G.getFrameExtents();if(i.multiply(V),s.copy(G.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/V.x),i.x=s.x*V.x,G.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/V.y),i.y=s.y*V.y,G.mapSize.y=s.y)),G.map===null||$===!0||j===!0){const ie=this.type!==za?{minFilter:Vr,magFilter:Vr}:{};G.map!==null&&G.map.dispose(),G.map=new _s(i.x,i.y,ie),G.map.texture.name=W.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const k=G.getViewportCount();for(let ie=0;ie<k;ie++){const te=G.getViewport(ie);a.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),K.viewport(a),G.updateMatrices(W,ie),r=G.getFrustum(),T(O,U,G.camera,W,this.type)}G.isPointLightShadow!==!0&&this.type===za&&w(G,U),G.needsUpdate=!1}_=this.type,S.needsUpdate=!1,n.setRenderTarget(F,P,N)};function w(A,O){const U=e.update(x);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,g.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new _s(i.x,i.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(O,null,U,p,x,null),g.uniforms.shadow_pass.value=A.mapPass.texture,g.uniforms.resolution.value=A.mapSize,g.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(O,null,U,g,x,null)}function E(A,O,U,F){let P=null;const N=U.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(N!==void 0)P=N;else if(P=U.isPointLight===!0?o:l,n.localClippingEnabled&&O.clipShadows===!0&&Array.isArray(O.clippingPlanes)&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0){const K=P.uuid,$=O.uuid;let j=u[K];j===void 0&&(j={},u[K]=j);let le=j[$];le===void 0&&(le=P.clone(),j[$]=le,O.addEventListener("dispose",L)),P=le}if(P.visible=O.visible,P.wireframe=O.wireframe,F===za?P.side=O.shadowSide!==null?O.shadowSide:O.side:P.side=O.shadowSide!==null?O.shadowSide:f[O.side],P.alphaMap=O.alphaMap,P.alphaTest=O.alphaTest,P.map=O.map,P.clipShadows=O.clipShadows,P.clippingPlanes=O.clippingPlanes,P.clipIntersection=O.clipIntersection,P.displacementMap=O.displacementMap,P.displacementScale=O.displacementScale,P.displacementBias=O.displacementBias,P.wireframeLinewidth=O.wireframeLinewidth,P.linewidth=O.linewidth,U.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const K=n.properties.get(P);K.light=U}return P}function T(A,O,U,F,P){if(A.visible===!1)return;if(A.layers.test(O.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===za)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,A.matrixWorld);const $=e.update(A),j=A.material;if(Array.isArray(j)){const le=$.groups;for(let re=0,W=le.length;re<W;re++){const G=le[re],V=j[G.materialIndex];if(V&&V.visible){const k=E(A,V,F,P);A.onBeforeShadow(n,A,O,U,$,k,G),n.renderBufferDirect(U,null,$,k,A,G),A.onAfterShadow(n,A,O,U,$,k,G)}}}else if(j.visible){const le=E(A,j,F,P);A.onBeforeShadow(n,A,O,U,$,le,null),n.renderBufferDirect(U,null,$,le,A,null),A.onAfterShadow(n,A,O,U,$,le,null)}}const K=A.children;for(let $=0,j=K.length;$<j;$++)T(K[$],O,U,F,P)}function L(A){A.target.removeEventListener("dispose",L);for(const U in u){const F=u[U],P=A.target.uuid;P in F&&(F[P].dispose(),delete F[P])}}}function LX(n,e,t){const r=t.isWebGL2;function i(){let ce=!1;const Re=new Or;let We=null;const dt=new Or(0,0,0,0);return{setMask:function(St){We!==St&&!ce&&(n.colorMask(St,St,St,St),We=St)},setLocked:function(St){ce=St},setClear:function(St,Gt,Qt,En,Nn){Nn===!0&&(St*=En,Gt*=En,Qt*=En),Re.set(St,Gt,Qt,En),dt.equals(Re)===!1&&(n.clearColor(St,Gt,Qt,En),dt.copy(Re))},reset:function(){ce=!1,We=null,dt.set(-1,0,0,0)}}}function s(){let ce=!1,Re=null,We=null,dt=null;return{setTest:function(St){St?ke(n.DEPTH_TEST):Qe(n.DEPTH_TEST)},setMask:function(St){Re!==St&&!ce&&(n.depthMask(St),Re=St)},setFunc:function(St){if(We!==St){switch(St){case WO:n.depthFunc(n.NEVER);break;case jO:n.depthFunc(n.ALWAYS);break;case XO:n.depthFunc(n.LESS);break;case Lg:n.depthFunc(n.LEQUAL);break;case qO:n.depthFunc(n.EQUAL);break;case YO:n.depthFunc(n.GEQUAL);break;case KO:n.depthFunc(n.GREATER);break;case $O:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}We=St}},setLocked:function(St){ce=St},setClear:function(St){dt!==St&&(n.clearDepth(St),dt=St)},reset:function(){ce=!1,Re=null,We=null,dt=null}}}function a(){let ce=!1,Re=null,We=null,dt=null,St=null,Gt=null,Qt=null,En=null,Nn=null;return{setTest:function(Tn){ce||(Tn?ke(n.STENCIL_TEST):Qe(n.STENCIL_TEST))},setMask:function(Tn){Re!==Tn&&!ce&&(n.stencilMask(Tn),Re=Tn)},setFunc:function(Tn,lr,Te){(We!==Tn||dt!==lr||St!==Te)&&(n.stencilFunc(Tn,lr,Te),We=Tn,dt=lr,St=Te)},setOp:function(Tn,lr,Te){(Gt!==Tn||Qt!==lr||En!==Te)&&(n.stencilOp(Tn,lr,Te),Gt=Tn,Qt=lr,En=Te)},setLocked:function(Tn){ce=Tn},setClear:function(Tn){Nn!==Tn&&(n.clearStencil(Tn),Nn=Tn)},reset:function(){ce=!1,Re=null,We=null,dt=null,St=null,Gt=null,Qt=null,En=null,Nn=null}}}const l=new i,o=new s,u=new a,c=new WeakMap,f=new WeakMap;let p={},g={},v=new WeakMap,x=[],S=null,_=!1,w=null,E=null,T=null,L=null,A=null,O=null,U=null,F=new $t(0,0,0),P=0,N=!1,K=null,$=null,j=null,le=null,re=null;const W=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,V=0;const k=n.getParameter(n.VERSION);k.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(k)[1]),G=V>=1):k.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),G=V>=2);let ie=null,te={};const se=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),ve=new Or().fromArray(se),xe=new Or().fromArray(oe);function he(ce,Re,We,dt){const St=new Uint8Array(4),Gt=n.createTexture();n.bindTexture(ce,Gt),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<We;Qt++)r&&(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)?n.texImage3D(Re,0,n.RGBA,1,1,dt,0,n.RGBA,n.UNSIGNED_BYTE,St):n.texImage2D(Re+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,St);return Gt}const Ue={};Ue[n.TEXTURE_2D]=he(n.TEXTURE_2D,n.TEXTURE_2D,1),Ue[n.TEXTURE_CUBE_MAP]=he(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ue[n.TEXTURE_2D_ARRAY]=he(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ue[n.TEXTURE_3D]=he(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),o.setClear(1),u.setClear(0),ke(n.DEPTH_TEST),o.setFunc(Lg),gt(!1),ne(aE),ke(n.CULL_FACE),Ye(da);function ke(ce){p[ce]!==!0&&(n.enable(ce),p[ce]=!0)}function Qe(ce){p[ce]!==!1&&(n.disable(ce),p[ce]=!1)}function Le(ce,Re){return g[ce]!==Re?(n.bindFramebuffer(ce,Re),g[ce]=Re,r&&(ce===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Re),ce===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Re)),!0):!1}function Q(ce,Re){let We=x,dt=!1;if(ce)if(We=v.get(Re),We===void 0&&(We=[],v.set(Re,We)),ce.isWebGLMultipleRenderTargets){const St=ce.texture;if(We.length!==St.length||We[0]!==n.COLOR_ATTACHMENT0){for(let Gt=0,Qt=St.length;Gt<Qt;Gt++)We[Gt]=n.COLOR_ATTACHMENT0+Gt;We.length=St.length,dt=!0}}else We[0]!==n.COLOR_ATTACHMENT0&&(We[0]=n.COLOR_ATTACHMENT0,dt=!0);else We[0]!==n.BACK&&(We[0]=n.BACK,dt=!0);dt&&(t.isWebGL2?n.drawBuffers(We):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(We))}function He(ce){return S!==ce?(n.useProgram(ce),S=ce,!0):!1}const Pe={[yc]:n.FUNC_ADD,[RO]:n.FUNC_SUBTRACT,[PO]:n.FUNC_REVERSE_SUBTRACT};if(r)Pe[fE]=n.MIN,Pe[hE]=n.MAX;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(Pe[fE]=ce.MIN_EXT,Pe[hE]=ce.MAX_EXT)}const Je={[LO]:n.ZERO,[OO]:n.ONE,[IO]:n.SRC_COLOR,[N_]:n.SRC_ALPHA,[kO]:n.SRC_ALPHA_SATURATE,[FO]:n.DST_COLOR,[DO]:n.DST_ALPHA,[NO]:n.ONE_MINUS_SRC_COLOR,[D_]:n.ONE_MINUS_SRC_ALPHA,[BO]:n.ONE_MINUS_DST_COLOR,[UO]:n.ONE_MINUS_DST_ALPHA,[zO]:n.CONSTANT_COLOR,[HO]:n.ONE_MINUS_CONSTANT_COLOR,[GO]:n.CONSTANT_ALPHA,[VO]:n.ONE_MINUS_CONSTANT_ALPHA};function Ye(ce,Re,We,dt,St,Gt,Qt,En,Nn,Tn){if(ce===da){_===!0&&(Qe(n.BLEND),_=!1);return}if(_===!1&&(ke(n.BLEND),_=!0),ce!==CO){if(ce!==w||Tn!==N){if((E!==yc||A!==yc)&&(n.blendEquation(n.FUNC_ADD),E=yc,A=yc),Tn)switch(ce){case rh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case lE:n.blendFunc(n.ONE,n.ONE);break;case uE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case cE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case rh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case lE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case uE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case cE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}T=null,L=null,O=null,U=null,F.set(0,0,0),P=0,w=ce,N=Tn}return}St=St||Re,Gt=Gt||We,Qt=Qt||dt,(Re!==E||St!==A)&&(n.blendEquationSeparate(Pe[Re],Pe[St]),E=Re,A=St),(We!==T||dt!==L||Gt!==O||Qt!==U)&&(n.blendFuncSeparate(Je[We],Je[dt],Je[Gt],Je[Qt]),T=We,L=dt,O=Gt,U=Qt),(En.equals(F)===!1||Nn!==P)&&(n.blendColor(En.r,En.g,En.b,Nn),F.copy(En),P=Nn),w=ce,N=!1}function mt(ce,Re){ce.side===yo?Qe(n.CULL_FACE):ke(n.CULL_FACE);let We=ce.side===qi;Re&&(We=!We),gt(We),ce.blending===rh&&ce.transparent===!1?Ye(da):Ye(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),o.setFunc(ce.depthFunc),o.setTest(ce.depthTest),o.setMask(ce.depthWrite),l.setMask(ce.colorWrite);const dt=ce.stencilWrite;u.setTest(dt),dt&&(u.setMask(ce.stencilWriteMask),u.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),u.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Ie(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?ke(n.SAMPLE_ALPHA_TO_COVERAGE):Qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function gt(ce){K!==ce&&(ce?n.frontFace(n.CW):n.frontFace(n.CCW),K=ce)}function ne(ce){ce!==bO?(ke(n.CULL_FACE),ce!==$&&(ce===aE?n.cullFace(n.BACK):ce===TO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Qe(n.CULL_FACE),$=ce}function Y(ce){ce!==j&&(G&&n.lineWidth(ce),j=ce)}function Ie(ce,Re,We){ce?(ke(n.POLYGON_OFFSET_FILL),(le!==Re||re!==We)&&(n.polygonOffset(Re,We),le=Re,re=We)):Qe(n.POLYGON_OFFSET_FILL)}function st(ce){ce?ke(n.SCISSOR_TEST):Qe(n.SCISSOR_TEST)}function ot(ce){ce===void 0&&(ce=n.TEXTURE0+W-1),ie!==ce&&(n.activeTexture(ce),ie=ce)}function be(ce,Re,We){We===void 0&&(ie===null?We=n.TEXTURE0+W-1:We=ie);let dt=te[We];dt===void 0&&(dt={type:void 0,texture:void 0},te[We]=dt),(dt.type!==ce||dt.texture!==Re)&&(ie!==We&&(n.activeTexture(We),ie=We),n.bindTexture(ce,Re||Ue[ce]),dt.type=ce,dt.texture=Re)}function pe(){const ce=te[ie];ce!==void 0&&ce.type!==void 0&&(n.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Ge(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Fe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function nt(){try{n.texSubImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ce(){try{n.texSubImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function De(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ut(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Bt(){try{n.texStorage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ct(){try{n.texStorage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function wt(){try{n.texImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ut(){try{n.texImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function It(ce){ve.equals(ce)===!1&&(n.scissor(ce.x,ce.y,ce.z,ce.w),ve.copy(ce))}function Kt(ce){xe.equals(ce)===!1&&(n.viewport(ce.x,ce.y,ce.z,ce.w),xe.copy(ce))}function Mn(ce,Re){let We=f.get(Re);We===void 0&&(We=new WeakMap,f.set(Re,We));let dt=We.get(ce);dt===void 0&&(dt=n.getUniformBlockIndex(Re,ce.name),We.set(ce,dt))}function Tt(ce,Re){const dt=f.get(Re).get(ce);c.get(Re)!==dt&&(n.uniformBlockBinding(Re,dt,ce.__bindingPointIndex),c.set(Re,dt))}function Rt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},ie=null,te={},g={},v=new WeakMap,x=[],S=null,_=!1,w=null,E=null,T=null,L=null,A=null,O=null,U=null,F=new $t(0,0,0),P=0,N=!1,K=null,$=null,j=null,le=null,re=null,ve.set(0,0,n.canvas.width,n.canvas.height),xe.set(0,0,n.canvas.width,n.canvas.height),l.reset(),o.reset(),u.reset()}return{buffers:{color:l,depth:o,stencil:u},enable:ke,disable:Qe,bindFramebuffer:Le,drawBuffers:Q,useProgram:He,setBlending:Ye,setMaterial:mt,setFlipSided:gt,setCullFace:ne,setLineWidth:Y,setPolygonOffset:Ie,setScissorTest:st,activeTexture:ot,bindTexture:be,unbindTexture:pe,compressedTexImage2D:Ge,compressedTexImage3D:Fe,texImage2D:wt,texImage3D:ut,updateUBOMapping:Mn,uniformBlockBinding:Tt,texStorage2D:Bt,texStorage3D:Ct,texSubImage2D:nt,texSubImage3D:Ce,compressedTexSubImage2D:De,compressedTexSubImage3D:Ut,scissor:It,viewport:Kt,reset:Rt}}function OX(n,e,t,r,i,s,a){const l=i.isWebGL2,o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new WeakMap;let f;const p=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ne,Y){return g?new OffscreenCanvas(ne,Y):Vg("canvas")}function x(ne,Y,Ie,st){let ot=1;if((ne.width>st||ne.height>st)&&(ot=st/Math.max(ne.width,ne.height)),ot<1||Y===!0)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap){const be=Y?B_:Math.floor,pe=be(ot*ne.width),Ge=be(ot*ne.height);f===void 0&&(f=v(pe,Ge));const Fe=Ie?v(pe,Ge):f;return Fe.width=pe,Fe.height=Ge,Fe.getContext("2d").drawImage(ne,0,0,pe,Ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+pe+"x"+Ge+")."),Fe}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne;return ne}function S(ne){return HE(ne.width)&&HE(ne.height)}function _(ne){return l?!1:ne.wrapS!==Ls||ne.wrapT!==Ls||ne.minFilter!==Vr&&ne.minFilter!==kr}function w(ne,Y){return ne.generateMipmaps&&Y&&ne.minFilter!==Vr&&ne.minFilter!==kr}function E(ne){n.generateMipmap(ne)}function T(ne,Y,Ie,st,ot=!1){if(l===!1)return Y;if(ne!==null){if(n[ne]!==void 0)return n[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let be=Y;if(Y===n.RED&&(Ie===n.FLOAT&&(be=n.R32F),Ie===n.HALF_FLOAT&&(be=n.R16F),Ie===n.UNSIGNED_BYTE&&(be=n.R8)),Y===n.RED_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(be=n.R8UI),Ie===n.UNSIGNED_SHORT&&(be=n.R16UI),Ie===n.UNSIGNED_INT&&(be=n.R32UI),Ie===n.BYTE&&(be=n.R8I),Ie===n.SHORT&&(be=n.R16I),Ie===n.INT&&(be=n.R32I)),Y===n.RG&&(Ie===n.FLOAT&&(be=n.RG32F),Ie===n.HALF_FLOAT&&(be=n.RG16F),Ie===n.UNSIGNED_BYTE&&(be=n.RG8)),Y===n.RGBA){const pe=ot?Bg:Lr.getTransfer(st);Ie===n.FLOAT&&(be=n.RGBA32F),Ie===n.HALF_FLOAT&&(be=n.RGBA16F),Ie===n.UNSIGNED_BYTE&&(be=pe===zr?n.SRGB8_ALPHA8:n.RGBA8),Ie===n.UNSIGNED_SHORT_4_4_4_4&&(be=n.RGBA4),Ie===n.UNSIGNED_SHORT_5_5_5_1&&(be=n.RGB5_A1)}return(be===n.R16F||be===n.R32F||be===n.RG16F||be===n.RG32F||be===n.RGBA16F||be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function L(ne,Y,Ie){return w(ne,Ie)===!0||ne.isFramebufferTexture&&ne.minFilter!==Vr&&ne.minFilter!==kr?Math.log2(Math.max(Y.width,Y.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?Y.mipmaps.length:1}function A(ne){return ne===Vr||ne===U_||ne===Hf?n.NEAREST:n.LINEAR}function O(ne){const Y=ne.target;Y.removeEventListener("dispose",O),F(Y),Y.isVideoTexture&&c.delete(Y)}function U(ne){const Y=ne.target;Y.removeEventListener("dispose",U),N(Y)}function F(ne){const Y=r.get(ne);if(Y.__webglInit===void 0)return;const Ie=ne.source,st=p.get(Ie);if(st){const ot=st[Y.__cacheKey];ot.usedTimes--,ot.usedTimes===0&&P(ne),Object.keys(st).length===0&&p.delete(Ie)}r.remove(ne)}function P(ne){const Y=r.get(ne);n.deleteTexture(Y.__webglTexture);const Ie=ne.source,st=p.get(Ie);delete st[Y.__cacheKey],a.memory.textures--}function N(ne){const Y=ne.texture,Ie=r.get(ne),st=r.get(Y);if(st.__webglTexture!==void 0&&(n.deleteTexture(st.__webglTexture),a.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let ot=0;ot<6;ot++){if(Array.isArray(Ie.__webglFramebuffer[ot]))for(let be=0;be<Ie.__webglFramebuffer[ot].length;be++)n.deleteFramebuffer(Ie.__webglFramebuffer[ot][be]);else n.deleteFramebuffer(Ie.__webglFramebuffer[ot]);Ie.__webglDepthbuffer&&n.deleteRenderbuffer(Ie.__webglDepthbuffer[ot])}else{if(Array.isArray(Ie.__webglFramebuffer))for(let ot=0;ot<Ie.__webglFramebuffer.length;ot++)n.deleteFramebuffer(Ie.__webglFramebuffer[ot]);else n.deleteFramebuffer(Ie.__webglFramebuffer);if(Ie.__webglDepthbuffer&&n.deleteRenderbuffer(Ie.__webglDepthbuffer),Ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ie.__webglMultisampledFramebuffer),Ie.__webglColorRenderbuffer)for(let ot=0;ot<Ie.__webglColorRenderbuffer.length;ot++)Ie.__webglColorRenderbuffer[ot]&&n.deleteRenderbuffer(Ie.__webglColorRenderbuffer[ot]);Ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ie.__webglDepthRenderbuffer)}if(ne.isWebGLMultipleRenderTargets)for(let ot=0,be=Y.length;ot<be;ot++){const pe=r.get(Y[ot]);pe.__webglTexture&&(n.deleteTexture(pe.__webglTexture),a.memory.textures--),r.remove(Y[ot])}r.remove(Y),r.remove(ne)}let K=0;function $(){K=0}function j(){const ne=K;return ne>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+i.maxTextures),K+=1,ne}function le(ne){const Y=[];return Y.push(ne.wrapS),Y.push(ne.wrapT),Y.push(ne.wrapR||0),Y.push(ne.magFilter),Y.push(ne.minFilter),Y.push(ne.anisotropy),Y.push(ne.internalFormat),Y.push(ne.format),Y.push(ne.type),Y.push(ne.generateMipmaps),Y.push(ne.premultiplyAlpha),Y.push(ne.flipY),Y.push(ne.unpackAlignment),Y.push(ne.colorSpace),Y.join()}function re(ne,Y){const Ie=r.get(ne);if(ne.isVideoTexture&&mt(ne),ne.isRenderTargetTexture===!1&&ne.version>0&&Ie.__version!==ne.version){const st=ne.image;if(st===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(st.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(Ie,ne,Y);return}}t.bindTexture(n.TEXTURE_2D,Ie.__webglTexture,n.TEXTURE0+Y)}function W(ne,Y){const Ie=r.get(ne);if(ne.version>0&&Ie.__version!==ne.version){ve(Ie,ne,Y);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ie.__webglTexture,n.TEXTURE0+Y)}function G(ne,Y){const Ie=r.get(ne);if(ne.version>0&&Ie.__version!==ne.version){ve(Ie,ne,Y);return}t.bindTexture(n.TEXTURE_3D,Ie.__webglTexture,n.TEXTURE0+Y)}function V(ne,Y){const Ie=r.get(ne);if(ne.version>0&&Ie.__version!==ne.version){xe(Ie,ne,Y);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ie.__webglTexture,n.TEXTURE0+Y)}const k={[Fc]:n.REPEAT,[Ls]:n.CLAMP_TO_EDGE,[Ng]:n.MIRRORED_REPEAT},ie={[Vr]:n.NEAREST,[U_]:n.NEAREST_MIPMAP_NEAREST,[Hf]:n.NEAREST_MIPMAP_LINEAR,[kr]:n.LINEAR,[sg]:n.LINEAR_MIPMAP_NEAREST,[El]:n.LINEAR_MIPMAP_LINEAR},te={[mI]:n.NEVER,[SI]:n.ALWAYS,[gI]:n.LESS,[Cb]:n.LEQUAL,[vI]:n.EQUAL,[xI]:n.GEQUAL,[yI]:n.GREATER,[_I]:n.NOTEQUAL};function se(ne,Y,Ie){if(Y.type===ko&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===kr||Y.magFilter===sg||Y.magFilter===Hf||Y.magFilter===El||Y.minFilter===kr||Y.minFilter===sg||Y.minFilter===Hf||Y.minFilter===El)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),Ie?(n.texParameteri(ne,n.TEXTURE_WRAP_S,k[Y.wrapS]),n.texParameteri(ne,n.TEXTURE_WRAP_T,k[Y.wrapT]),(ne===n.TEXTURE_3D||ne===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ne,n.TEXTURE_WRAP_R,k[Y.wrapR]),n.texParameteri(ne,n.TEXTURE_MAG_FILTER,ie[Y.magFilter]),n.texParameteri(ne,n.TEXTURE_MIN_FILTER,ie[Y.minFilter])):(n.texParameteri(ne,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(ne,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(ne===n.TEXTURE_3D||ne===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ne,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(Y.wrapS!==Ls||Y.wrapT!==Ls)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(ne,n.TEXTURE_MAG_FILTER,A(Y.magFilter)),n.texParameteri(ne,n.TEXTURE_MIN_FILTER,A(Y.minFilter)),Y.minFilter!==Vr&&Y.minFilter!==kr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Y.compareFunction&&(n.texParameteri(ne,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ne,n.TEXTURE_COMPARE_FUNC,te[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const st=e.get("EXT_texture_filter_anisotropic");if(Y.magFilter===Vr||Y.minFilter!==Hf&&Y.minFilter!==El||Y.type===ko&&e.has("OES_texture_float_linear")===!1||l===!1&&Y.type===mh&&e.has("OES_texture_half_float_linear")===!1)return;(Y.anisotropy>1||r.get(Y).__currentAnisotropy)&&(n.texParameterf(ne,st.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy)}}function oe(ne,Y){let Ie=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,Y.addEventListener("dispose",O));const st=Y.source;let ot=p.get(st);ot===void 0&&(ot={},p.set(st,ot));const be=le(Y);if(be!==ne.__cacheKey){ot[be]===void 0&&(ot[be]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Ie=!0),ot[be].usedTimes++;const pe=ot[ne.__cacheKey];pe!==void 0&&(ot[ne.__cacheKey].usedTimes--,pe.usedTimes===0&&P(Y)),ne.__cacheKey=be,ne.__webglTexture=ot[be].texture}return Ie}function ve(ne,Y,Ie){let st=n.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(st=n.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(st=n.TEXTURE_3D);const ot=oe(ne,Y),be=Y.source;t.bindTexture(st,ne.__webglTexture,n.TEXTURE0+Ie);const pe=r.get(be);if(be.version!==pe.__version||ot===!0){t.activeTexture(n.TEXTURE0+Ie);const Ge=Lr.getPrimaries(Lr.workingColorSpace),Fe=Y.colorSpace===Qs?null:Lr.getPrimaries(Y.colorSpace),nt=Y.colorSpace===Qs||Ge===Fe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,nt);const Ce=_(Y)&&S(Y.image)===!1;let De=x(Y.image,Ce,!1,i.maxTextureSize);De=gt(Y,De);const Ut=S(De)||l,Bt=s.convert(Y.format,Y.colorSpace);let Ct=s.convert(Y.type),wt=T(Y.internalFormat,Bt,Ct,Y.colorSpace,Y.isVideoTexture);se(st,Y,Ut);let ut;const It=Y.mipmaps,Kt=l&&Y.isVideoTexture!==!0&&wt!==bb,Mn=pe.__version===void 0||ot===!0,Tt=be.dataReady,Rt=L(Y,De,Ut);if(Y.isDepthTexture)wt=n.DEPTH_COMPONENT,l?Y.type===ko?wt=n.DEPTH_COMPONENT32F:Y.type===Ml?wt=n.DEPTH_COMPONENT24:Y.type===yu?wt=n.DEPTH24_STENCIL8:wt=n.DEPTH_COMPONENT16:Y.type===ko&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Y.format===Pc&&wt===n.DEPTH_COMPONENT&&Y.type!==px&&Y.type!==Ml&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Y.type=Ml,Ct=s.convert(Y.type)),Y.format===Bc&&wt===n.DEPTH_COMPONENT&&(wt=n.DEPTH_STENCIL,Y.type!==yu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Y.type=yu,Ct=s.convert(Y.type))),Mn&&(Kt?t.texStorage2D(n.TEXTURE_2D,1,wt,De.width,De.height):t.texImage2D(n.TEXTURE_2D,0,wt,De.width,De.height,0,Bt,Ct,null));else if(Y.isDataTexture)if(It.length>0&&Ut){Kt&&Mn&&t.texStorage2D(n.TEXTURE_2D,Rt,wt,It[0].width,It[0].height);for(let ce=0,Re=It.length;ce<Re;ce++)ut=It[ce],Kt?Tt&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,ut.width,ut.height,Bt,Ct,ut.data):t.texImage2D(n.TEXTURE_2D,ce,wt,ut.width,ut.height,0,Bt,Ct,ut.data);Y.generateMipmaps=!1}else Kt?(Mn&&t.texStorage2D(n.TEXTURE_2D,Rt,wt,De.width,De.height),Tt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,De.width,De.height,Bt,Ct,De.data)):t.texImage2D(n.TEXTURE_2D,0,wt,De.width,De.height,0,Bt,Ct,De.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Kt&&Mn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Rt,wt,It[0].width,It[0].height,De.depth);for(let ce=0,Re=It.length;ce<Re;ce++)ut=It[ce],Y.format!==cs?Bt!==null?Kt?Tt&&t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,ut.width,ut.height,De.depth,Bt,ut.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ce,wt,ut.width,ut.height,De.depth,0,ut.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?Tt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,ut.width,ut.height,De.depth,Bt,Ct,ut.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ce,wt,ut.width,ut.height,De.depth,0,Bt,Ct,ut.data)}else{Kt&&Mn&&t.texStorage2D(n.TEXTURE_2D,Rt,wt,It[0].width,It[0].height);for(let ce=0,Re=It.length;ce<Re;ce++)ut=It[ce],Y.format!==cs?Bt!==null?Kt?Tt&&t.compressedTexSubImage2D(n.TEXTURE_2D,ce,0,0,ut.width,ut.height,Bt,ut.data):t.compressedTexImage2D(n.TEXTURE_2D,ce,wt,ut.width,ut.height,0,ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?Tt&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,ut.width,ut.height,Bt,Ct,ut.data):t.texImage2D(n.TEXTURE_2D,ce,wt,ut.width,ut.height,0,Bt,Ct,ut.data)}else if(Y.isDataArrayTexture)Kt?(Mn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Rt,wt,De.width,De.height,De.depth),Tt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,De.width,De.height,De.depth,Bt,Ct,De.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,wt,De.width,De.height,De.depth,0,Bt,Ct,De.data);else if(Y.isData3DTexture)Kt?(Mn&&t.texStorage3D(n.TEXTURE_3D,Rt,wt,De.width,De.height,De.depth),Tt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,De.width,De.height,De.depth,Bt,Ct,De.data)):t.texImage3D(n.TEXTURE_3D,0,wt,De.width,De.height,De.depth,0,Bt,Ct,De.data);else if(Y.isFramebufferTexture){if(Mn)if(Kt)t.texStorage2D(n.TEXTURE_2D,Rt,wt,De.width,De.height);else{let ce=De.width,Re=De.height;for(let We=0;We<Rt;We++)t.texImage2D(n.TEXTURE_2D,We,wt,ce,Re,0,Bt,Ct,null),ce>>=1,Re>>=1}}else if(It.length>0&&Ut){Kt&&Mn&&t.texStorage2D(n.TEXTURE_2D,Rt,wt,It[0].width,It[0].height);for(let ce=0,Re=It.length;ce<Re;ce++)ut=It[ce],Kt?Tt&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,Bt,Ct,ut):t.texImage2D(n.TEXTURE_2D,ce,wt,Bt,Ct,ut);Y.generateMipmaps=!1}else Kt?(Mn&&t.texStorage2D(n.TEXTURE_2D,Rt,wt,De.width,De.height),Tt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Bt,Ct,De)):t.texImage2D(n.TEXTURE_2D,0,wt,Bt,Ct,De);w(Y,Ut)&&E(st),pe.__version=be.version,Y.onUpdate&&Y.onUpdate(Y)}ne.__version=Y.version}function xe(ne,Y,Ie){if(Y.image.length!==6)return;const st=oe(ne,Y),ot=Y.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ne.__webglTexture,n.TEXTURE0+Ie);const be=r.get(ot);if(ot.version!==be.__version||st===!0){t.activeTexture(n.TEXTURE0+Ie);const pe=Lr.getPrimaries(Lr.workingColorSpace),Ge=Y.colorSpace===Qs?null:Lr.getPrimaries(Y.colorSpace),Fe=Y.colorSpace===Qs||pe===Ge?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fe);const nt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Ce=Y.image[0]&&Y.image[0].isDataTexture,De=[];for(let ce=0;ce<6;ce++)!nt&&!Ce?De[ce]=x(Y.image[ce],!1,!0,i.maxCubemapSize):De[ce]=Ce?Y.image[ce].image:Y.image[ce],De[ce]=gt(Y,De[ce]);const Ut=De[0],Bt=S(Ut)||l,Ct=s.convert(Y.format,Y.colorSpace),wt=s.convert(Y.type),ut=T(Y.internalFormat,Ct,wt,Y.colorSpace),It=l&&Y.isVideoTexture!==!0,Kt=be.__version===void 0||st===!0,Mn=ot.dataReady;let Tt=L(Y,Ut,Bt);se(n.TEXTURE_CUBE_MAP,Y,Bt);let Rt;if(nt){It&&Kt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Tt,ut,Ut.width,Ut.height);for(let ce=0;ce<6;ce++){Rt=De[ce].mipmaps;for(let Re=0;Re<Rt.length;Re++){const We=Rt[Re];Y.format!==cs?Ct!==null?It?Mn&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re,0,0,We.width,We.height,Ct,We.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re,ut,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):It?Mn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re,0,0,We.width,We.height,Ct,wt,We.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re,ut,We.width,We.height,0,Ct,wt,We.data)}}}else{Rt=Y.mipmaps,It&&Kt&&(Rt.length>0&&Tt++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Tt,ut,De[0].width,De[0].height));for(let ce=0;ce<6;ce++)if(Ce){It?Mn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,De[ce].width,De[ce].height,Ct,wt,De[ce].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,ut,De[ce].width,De[ce].height,0,Ct,wt,De[ce].data);for(let Re=0;Re<Rt.length;Re++){const dt=Rt[Re].image[ce].image;It?Mn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re+1,0,0,dt.width,dt.height,Ct,wt,dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re+1,ut,dt.width,dt.height,0,Ct,wt,dt.data)}}else{It?Mn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,Ct,wt,De[ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,ut,Ct,wt,De[ce]);for(let Re=0;Re<Rt.length;Re++){const We=Rt[Re];It?Mn&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re+1,0,0,Ct,wt,We.image[ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Re+1,ut,Ct,wt,We.image[ce])}}}w(Y,Bt)&&E(n.TEXTURE_CUBE_MAP),be.__version=ot.version,Y.onUpdate&&Y.onUpdate(Y)}ne.__version=Y.version}function he(ne,Y,Ie,st,ot,be){const pe=s.convert(Ie.format,Ie.colorSpace),Ge=s.convert(Ie.type),Fe=T(Ie.internalFormat,pe,Ge,Ie.colorSpace);if(!r.get(Y).__hasExternalTextures){const Ce=Math.max(1,Y.width>>be),De=Math.max(1,Y.height>>be);ot===n.TEXTURE_3D||ot===n.TEXTURE_2D_ARRAY?t.texImage3D(ot,be,Fe,Ce,De,Y.depth,0,pe,Ge,null):t.texImage2D(ot,be,Fe,Ce,De,0,pe,Ge,null)}t.bindFramebuffer(n.FRAMEBUFFER,ne),Ye(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,st,ot,r.get(Ie).__webglTexture,0,Je(Y)):(ot===n.TEXTURE_2D||ot>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ot<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,st,ot,r.get(Ie).__webglTexture,be),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ue(ne,Y,Ie){if(n.bindRenderbuffer(n.RENDERBUFFER,ne),Y.depthBuffer&&!Y.stencilBuffer){let st=l===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(Ie||Ye(Y)){const ot=Y.depthTexture;ot&&ot.isDepthTexture&&(ot.type===ko?st=n.DEPTH_COMPONENT32F:ot.type===Ml&&(st=n.DEPTH_COMPONENT24));const be=Je(Y);Ye(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,st,Y.width,Y.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,be,st,Y.width,Y.height)}else n.renderbufferStorage(n.RENDERBUFFER,st,Y.width,Y.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,ne)}else if(Y.depthBuffer&&Y.stencilBuffer){const st=Je(Y);Ie&&Ye(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,st,n.DEPTH24_STENCIL8,Y.width,Y.height):Ye(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,st,n.DEPTH24_STENCIL8,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,ne)}else{const st=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let ot=0;ot<st.length;ot++){const be=st[ot],pe=s.convert(be.format,be.colorSpace),Ge=s.convert(be.type),Fe=T(be.internalFormat,pe,Ge,be.colorSpace),nt=Je(Y);Ie&&Ye(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,nt,Fe,Y.width,Y.height):Ye(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,nt,Fe,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,Fe,Y.width,Y.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ke(ne,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ne),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Y.depthTexture).__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),re(Y.depthTexture,0);const st=r.get(Y.depthTexture).__webglTexture,ot=Je(Y);if(Y.depthTexture.format===Pc)Ye(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,st,0,ot):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,st,0);else if(Y.depthTexture.format===Bc)Ye(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,st,0,ot):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,st,0);else throw new Error("Unknown depthTexture format")}function Qe(ne){const Y=r.get(ne),Ie=ne.isWebGLCubeRenderTarget===!0;if(ne.depthTexture&&!Y.__autoAllocateDepthBuffer){if(Ie)throw new Error("target.depthTexture not supported in Cube render targets");ke(Y.__webglFramebuffer,ne)}else if(Ie){Y.__webglDepthbuffer=[];for(let st=0;st<6;st++)t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[st]),Y.__webglDepthbuffer[st]=n.createRenderbuffer(),Ue(Y.__webglDepthbuffer[st],ne,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer=n.createRenderbuffer(),Ue(Y.__webglDepthbuffer,ne,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Le(ne,Y,Ie){const st=r.get(ne);Y!==void 0&&he(st.__webglFramebuffer,ne,ne.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ie!==void 0&&Qe(ne)}function Q(ne){const Y=ne.texture,Ie=r.get(ne),st=r.get(Y);ne.addEventListener("dispose",U),ne.isWebGLMultipleRenderTargets!==!0&&(st.__webglTexture===void 0&&(st.__webglTexture=n.createTexture()),st.__version=Y.version,a.memory.textures++);const ot=ne.isWebGLCubeRenderTarget===!0,be=ne.isWebGLMultipleRenderTargets===!0,pe=S(ne)||l;if(ot){Ie.__webglFramebuffer=[];for(let Ge=0;Ge<6;Ge++)if(l&&Y.mipmaps&&Y.mipmaps.length>0){Ie.__webglFramebuffer[Ge]=[];for(let Fe=0;Fe<Y.mipmaps.length;Fe++)Ie.__webglFramebuffer[Ge][Fe]=n.createFramebuffer()}else Ie.__webglFramebuffer[Ge]=n.createFramebuffer()}else{if(l&&Y.mipmaps&&Y.mipmaps.length>0){Ie.__webglFramebuffer=[];for(let Ge=0;Ge<Y.mipmaps.length;Ge++)Ie.__webglFramebuffer[Ge]=n.createFramebuffer()}else Ie.__webglFramebuffer=n.createFramebuffer();if(be)if(i.drawBuffers){const Ge=ne.texture;for(let Fe=0,nt=Ge.length;Fe<nt;Fe++){const Ce=r.get(Ge[Fe]);Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&ne.samples>0&&Ye(ne)===!1){const Ge=be?Y:[Y];Ie.__webglMultisampledFramebuffer=n.createFramebuffer(),Ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer);for(let Fe=0;Fe<Ge.length;Fe++){const nt=Ge[Fe];Ie.__webglColorRenderbuffer[Fe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Fe]);const Ce=s.convert(nt.format,nt.colorSpace),De=s.convert(nt.type),Ut=T(nt.internalFormat,Ce,De,nt.colorSpace,ne.isXRRenderTarget===!0),Bt=Je(ne);n.renderbufferStorageMultisample(n.RENDERBUFFER,Bt,Ut,ne.width,ne.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Fe])}n.bindRenderbuffer(n.RENDERBUFFER,null),ne.depthBuffer&&(Ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Ue(Ie.__webglDepthRenderbuffer,ne,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ot){t.bindTexture(n.TEXTURE_CUBE_MAP,st.__webglTexture),se(n.TEXTURE_CUBE_MAP,Y,pe);for(let Ge=0;Ge<6;Ge++)if(l&&Y.mipmaps&&Y.mipmaps.length>0)for(let Fe=0;Fe<Y.mipmaps.length;Fe++)he(Ie.__webglFramebuffer[Ge][Fe],ne,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Fe);else he(Ie.__webglFramebuffer[Ge],ne,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0);w(Y,pe)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(be){const Ge=ne.texture;for(let Fe=0,nt=Ge.length;Fe<nt;Fe++){const Ce=Ge[Fe],De=r.get(Ce);t.bindTexture(n.TEXTURE_2D,De.__webglTexture),se(n.TEXTURE_2D,Ce,pe),he(Ie.__webglFramebuffer,ne,Ce,n.COLOR_ATTACHMENT0+Fe,n.TEXTURE_2D,0),w(Ce,pe)&&E(n.TEXTURE_2D)}t.unbindTexture()}else{let Ge=n.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(l?Ge=ne.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ge,st.__webglTexture),se(Ge,Y,pe),l&&Y.mipmaps&&Y.mipmaps.length>0)for(let Fe=0;Fe<Y.mipmaps.length;Fe++)he(Ie.__webglFramebuffer[Fe],ne,Y,n.COLOR_ATTACHMENT0,Ge,Fe);else he(Ie.__webglFramebuffer,ne,Y,n.COLOR_ATTACHMENT0,Ge,0);w(Y,pe)&&E(Ge),t.unbindTexture()}ne.depthBuffer&&Qe(ne)}function He(ne){const Y=S(ne)||l,Ie=ne.isWebGLMultipleRenderTargets===!0?ne.texture:[ne.texture];for(let st=0,ot=Ie.length;st<ot;st++){const be=Ie[st];if(w(be,Y)){const pe=ne.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ge=r.get(be).__webglTexture;t.bindTexture(pe,Ge),E(pe),t.unbindTexture()}}}function Pe(ne){if(l&&ne.samples>0&&Ye(ne)===!1){const Y=ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture],Ie=ne.width,st=ne.height;let ot=n.COLOR_BUFFER_BIT;const be=[],pe=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ge=r.get(ne),Fe=ne.isWebGLMultipleRenderTargets===!0;if(Fe)for(let nt=0;nt<Y.length;nt++)t.bindFramebuffer(n.FRAMEBUFFER,Ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+nt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ge.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+nt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ge.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ge.__webglFramebuffer);for(let nt=0;nt<Y.length;nt++){be.push(n.COLOR_ATTACHMENT0+nt),ne.depthBuffer&&be.push(pe);const Ce=Ge.__ignoreDepthValues!==void 0?Ge.__ignoreDepthValues:!1;if(Ce===!1&&(ne.depthBuffer&&(ot|=n.DEPTH_BUFFER_BIT),ne.stencilBuffer&&(ot|=n.STENCIL_BUFFER_BIT)),Fe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ge.__webglColorRenderbuffer[nt]),Ce===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[pe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[pe])),Fe){const De=r.get(Y[nt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,De,0)}n.blitFramebuffer(0,0,Ie,st,0,0,Ie,st,ot,n.NEAREST),u&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Fe)for(let nt=0;nt<Y.length;nt++){t.bindFramebuffer(n.FRAMEBUFFER,Ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+nt,n.RENDERBUFFER,Ge.__webglColorRenderbuffer[nt]);const Ce=r.get(Y[nt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ge.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+nt,n.TEXTURE_2D,Ce,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ge.__webglMultisampledFramebuffer)}}function Je(ne){return Math.min(i.maxSamples,ne.samples)}function Ye(ne){const Y=r.get(ne);return l&&ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function mt(ne){const Y=a.render.frame;c.get(ne)!==Y&&(c.set(ne,Y),ne.update())}function gt(ne,Y){const Ie=ne.colorSpace,st=ne.format,ot=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||ne.format===F_||Ie!==ga&&Ie!==Qs&&(Lr.getTransfer(Ie)===zr?l===!1?e.has("EXT_sRGB")===!0&&st===cs?(ne.format=F_,ne.minFilter=kr,ne.generateMipmaps=!1):Y=Pb.sRGBToLinear(Y):(st!==cs||ot!==Os)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ie)),Y}this.allocateTextureUnit=j,this.resetTextureUnits=$,this.setTexture2D=re,this.setTexture2DArray=W,this.setTexture3D=G,this.setTextureCube=V,this.rebindTextures=Le,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Pe,this.setupDepthRenderbuffer=Qe,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ye}function BI(n,e,t){const r=t.isWebGL2;function i(s,a=Qs){let l;const o=Lr.getTransfer(a);if(s===Os)return n.UNSIGNED_BYTE;if(s===yb)return n.UNSIGNED_SHORT_4_4_4_4;if(s===_b)return n.UNSIGNED_SHORT_5_5_5_1;if(s===sI)return n.BYTE;if(s===oI)return n.SHORT;if(s===px)return n.UNSIGNED_SHORT;if(s===vb)return n.INT;if(s===Ml)return n.UNSIGNED_INT;if(s===ko)return n.FLOAT;if(s===mh)return r?n.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===aI)return n.ALPHA;if(s===cs)return n.RGBA;if(s===mx)return n.LUMINANCE;if(s===lI)return n.LUMINANCE_ALPHA;if(s===Pc)return n.DEPTH_COMPONENT;if(s===Bc)return n.DEPTH_STENCIL;if(s===F_)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===xb)return n.RED;if(s===Sb)return n.RED_INTEGER;if(s===wb)return n.RG;if(s===Eb)return n.RG_INTEGER;if(s===Mb)return n.RGBA_INTEGER;if(s===W0||s===j0||s===X0||s===q0)if(o===zr)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===W0)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===j0)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===X0)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===q0)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===W0)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===j0)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===X0)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===q0)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===pE||s===mE||s===gE||s===vE)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===pE)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===mE)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===gE)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===vE)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===bb)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===yE||s===_E)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===yE)return o===zr?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===_E)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===xE||s===SE||s===wE||s===EE||s===ME||s===bE||s===TE||s===AE||s===CE||s===RE||s===PE||s===LE||s===OE||s===IE)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===xE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===SE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===wE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===EE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===ME)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===bE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===TE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===AE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===CE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===RE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===PE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===LE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===OE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===IE)return o===zr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Y0||s===NE||s===DE)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===Y0)return o===zr?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===NE)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===DE)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===uI||s===UE||s===FE||s===BE)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(s===Y0)return l.COMPRESSED_RED_RGTC1_EXT;if(s===UE)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===FE)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===BE)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===yu?r?n.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class kI extends ji{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class qd extends xr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const IX={type:"move"};class wS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ge,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ge),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ge,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ge),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,a=null;const l=this._targetRay,o=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const x of e.hand.values()){const S=t.getJointPose(x,r),_=this._getHandJoint(u,x);S!==null&&(_.matrix.fromArray(S.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=S.radius),_.visible=S!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=c.position.distanceTo(f.position),g=.02,v=.005;u.inputState.pinching&&p>g+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=g-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else o!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,s.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(s.linearVelocity)):o.hasLinearVelocity=!1,s.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(s.angularVelocity)):o.hasAngularVelocity=!1));l!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(IX)))}return l!==null&&(l.visible=i!==null),o!==null&&(o.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new qd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const NX=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,DX=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class UX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Di,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}render(e,t){if(this.texture!==null){if(this.mesh===null){const r=t.cameras[0].viewport,i=new to({extensions:{fragDepth:!0},vertexShader:NX,fragmentShader:DX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Ni(new Cp(20,20),i)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class FX extends va{constructor(e,t){super();const r=this;let i=null,s=1,a=null,l="local-floor",o=1,u=null,c=null,f=null,p=null,g=null,v=null;const x=new UX,S=t.getContextAttributes();let _=null,w=null;const E=[],T=[],L=new ft;let A=null;const O=new ji;O.layers.enable(1),O.viewport=new Or;const U=new ji;U.layers.enable(2),U.viewport=new Or;const F=[O,U],P=new kI;P.layers.enable(1),P.layers.enable(2);let N=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let ve=E[oe];return ve===void 0&&(ve=new wS,E[oe]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(oe){let ve=E[oe];return ve===void 0&&(ve=new wS,E[oe]=ve),ve.getGripSpace()},this.getHand=function(oe){let ve=E[oe];return ve===void 0&&(ve=new wS,E[oe]=ve),ve.getHandSpace()};function $(oe){const ve=T.indexOf(oe.inputSource);if(ve===-1)return;const xe=E[ve];xe!==void 0&&(xe.update(oe.inputSource,oe.frame,u||a),xe.dispatchEvent({type:oe.type,data:oe.inputSource}))}function j(){i.removeEventListener("select",$),i.removeEventListener("selectstart",$),i.removeEventListener("selectend",$),i.removeEventListener("squeeze",$),i.removeEventListener("squeezestart",$),i.removeEventListener("squeezeend",$),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",le);for(let oe=0;oe<E.length;oe++){const ve=T[oe];ve!==null&&(T[oe]=null,E[oe].disconnect(ve))}N=null,K=null,x.reset(),e.setRenderTarget(_),g=null,p=null,f=null,i=null,w=null,se.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(L.width,L.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){s=oe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){l=oe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(oe){u=oe},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(oe){if(i=oe,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",$),i.addEventListener("selectstart",$),i.addEventListener("selectend",$),i.addEventListener("squeeze",$),i.addEventListener("squeezestart",$),i.addEventListener("squeezeend",$),i.addEventListener("end",j),i.addEventListener("inputsourceschange",le),S.xrCompatible!==!0&&await t.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(L),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ve={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,ve),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),w=new _s(g.framebufferWidth,g.framebufferHeight,{format:cs,type:Os,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let ve=null,xe=null,he=null;S.depth&&(he=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=S.stencil?Bc:Pc,xe=S.stencil?yu:Ml);const Ue={colorFormat:t.RGBA8,depthFormat:he,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Ue),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),w=new _s(p.textureWidth,p.textureHeight,{format:cs,type:Os,depthTexture:new _x(p.textureWidth,p.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const ke=e.properties.get(w);ke.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(o),u=null,a=await i.requestReferenceSpace(l),se.setContext(i),se.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function le(oe){for(let ve=0;ve<oe.removed.length;ve++){const xe=oe.removed[ve],he=T.indexOf(xe);he>=0&&(T[he]=null,E[he].disconnect(xe))}for(let ve=0;ve<oe.added.length;ve++){const xe=oe.added[ve];let he=T.indexOf(xe);if(he===-1){for(let ke=0;ke<E.length;ke++)if(ke>=T.length){T.push(xe),he=ke;break}else if(T[ke]===null){T[ke]=xe,he=ke;break}if(he===-1)break}const Ue=E[he];Ue&&Ue.connect(xe)}}const re=new ge,W=new ge;function G(oe,ve,xe){re.setFromMatrixPosition(ve.matrixWorld),W.setFromMatrixPosition(xe.matrixWorld);const he=re.distanceTo(W),Ue=ve.projectionMatrix.elements,ke=xe.projectionMatrix.elements,Qe=Ue[14]/(Ue[10]-1),Le=Ue[14]/(Ue[10]+1),Q=(Ue[9]+1)/Ue[5],He=(Ue[9]-1)/Ue[5],Pe=(Ue[8]-1)/Ue[0],Je=(ke[8]+1)/ke[0],Ye=Qe*Pe,mt=Qe*Je,gt=he/(-Pe+Je),ne=gt*-Pe;ve.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(ne),oe.translateZ(gt),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert();const Y=Qe+gt,Ie=Le+gt,st=Ye-ne,ot=mt+(he-ne),be=Q*Le/Ie*Y,pe=He*Le/Ie*Y;oe.projectionMatrix.makePerspective(st,ot,be,pe,Y,Ie),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}function V(oe,ve){ve===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(ve.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(i===null)return;x.texture!==null&&(oe.near=x.depthNear,oe.far=x.depthFar),P.near=U.near=O.near=oe.near,P.far=U.far=O.far=oe.far,(N!==P.near||K!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),N=P.near,K=P.far,O.near=N,O.far=K,U.near=N,U.far=K,O.updateProjectionMatrix(),U.updateProjectionMatrix(),oe.updateProjectionMatrix());const ve=oe.parent,xe=P.cameras;V(P,ve);for(let he=0;he<xe.length;he++)V(xe[he],ve);xe.length===2?G(P,O,U):P.projectionMatrix.copy(O.projectionMatrix),k(oe,P,ve)};function k(oe,ve,xe){xe===null?oe.matrix.copy(ve.matrixWorld):(oe.matrix.copy(xe.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(ve.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(ve.projectionMatrix),oe.projectionMatrixInverse.copy(ve.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=pp*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(p===null&&g===null))return o},this.setFoveation=function(oe){o=oe,p!==null&&(p.fixedFoveation=oe),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=oe)},this.hasDepthSensing=function(){return x.texture!==null};let ie=null;function te(oe,ve){if(c=ve.getViewerPose(u||a),v=ve,c!==null){const xe=c.views;g!==null&&(e.setRenderTargetFramebuffer(w,g.framebuffer),e.setRenderTarget(w));let he=!1;xe.length!==P.cameras.length&&(P.cameras.length=0,he=!0);for(let ke=0;ke<xe.length;ke++){const Qe=xe[ke];let Le=null;if(g!==null)Le=g.getViewport(Qe);else{const He=f.getViewSubImage(p,Qe);Le=He.viewport,ke===0&&(e.setRenderTargetTextures(w,He.colorTexture,p.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(w))}let Q=F[ke];Q===void 0&&(Q=new ji,Q.layers.enable(ke),Q.viewport=new Or,F[ke]=Q),Q.matrix.fromArray(Qe.transform.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.projectionMatrix.fromArray(Qe.projectionMatrix),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert(),Q.viewport.set(Le.x,Le.y,Le.width,Le.height),ke===0&&(P.matrix.copy(Q.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),he===!0&&P.cameras.push(Q)}const Ue=i.enabledFeatures;if(Ue&&Ue.includes("depth-sensing")){const ke=f.getDepthInformation(xe[0]);ke&&ke.isValid&&ke.texture&&x.init(e,ke,i.renderState)}}for(let xe=0;xe<E.length;xe++){const he=T[xe],Ue=E[xe];he!==null&&Ue!==void 0&&Ue.update(he,ve,u||a)}x.render(e,P),ie&&ie(oe,ve),ve.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ve}),v=null}const se=new OI;se.setAnimationLoop(te),this.setAnimationLoop=function(oe){ie=oe},this.dispose=function(){}}}function BX(n,e){function t(S,_){S.matrixAutoUpdate===!0&&S.updateMatrix(),_.value.copy(S.matrix)}function r(S,_){_.color.getRGB(S.fogColor.value,CI(n)),_.isFog?(S.fogNear.value=_.near,S.fogFar.value=_.far):_.isFogExp2&&(S.fogDensity.value=_.density)}function i(S,_,w,E,T){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(S,_):_.isMeshToonMaterial?(s(S,_),f(S,_)):_.isMeshPhongMaterial?(s(S,_),c(S,_)):_.isMeshStandardMaterial?(s(S,_),p(S,_),_.isMeshPhysicalMaterial&&g(S,_,T)):_.isMeshMatcapMaterial?(s(S,_),v(S,_)):_.isMeshDepthMaterial?s(S,_):_.isMeshDistanceMaterial?(s(S,_),x(S,_)):_.isMeshNormalMaterial?s(S,_):_.isLineBasicMaterial?(a(S,_),_.isLineDashedMaterial&&l(S,_)):_.isPointsMaterial?o(S,_,w,E):_.isSpriteMaterial?u(S,_):_.isShadowMaterial?(S.color.value.copy(_.color),S.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(S,_){S.opacity.value=_.opacity,_.color&&S.diffuse.value.copy(_.color),_.emissive&&S.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(S.map.value=_.map,t(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,t(_.alphaMap,S.alphaMapTransform)),_.bumpMap&&(S.bumpMap.value=_.bumpMap,t(_.bumpMap,S.bumpMapTransform),S.bumpScale.value=_.bumpScale,_.side===qi&&(S.bumpScale.value*=-1)),_.normalMap&&(S.normalMap.value=_.normalMap,t(_.normalMap,S.normalMapTransform),S.normalScale.value.copy(_.normalScale),_.side===qi&&S.normalScale.value.negate()),_.displacementMap&&(S.displacementMap.value=_.displacementMap,t(_.displacementMap,S.displacementMapTransform),S.displacementScale.value=_.displacementScale,S.displacementBias.value=_.displacementBias),_.emissiveMap&&(S.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,S.emissiveMapTransform)),_.specularMap&&(S.specularMap.value=_.specularMap,t(_.specularMap,S.specularMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest);const w=e.get(_).envMap;if(w&&(S.envMap.value=w,S.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=_.reflectivity,S.ior.value=_.ior,S.refractionRatio.value=_.refractionRatio),_.lightMap){S.lightMap.value=_.lightMap;const E=n._useLegacyLights===!0?Math.PI:1;S.lightMapIntensity.value=_.lightMapIntensity*E,t(_.lightMap,S.lightMapTransform)}_.aoMap&&(S.aoMap.value=_.aoMap,S.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,S.aoMapTransform))}function a(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,_.map&&(S.map.value=_.map,t(_.map,S.mapTransform))}function l(S,_){S.dashSize.value=_.dashSize,S.totalSize.value=_.dashSize+_.gapSize,S.scale.value=_.scale}function o(S,_,w,E){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.size.value=_.size*w,S.scale.value=E*.5,_.map&&(S.map.value=_.map,t(_.map,S.uvTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,t(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function u(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.rotation.value=_.rotation,_.map&&(S.map.value=_.map,t(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,t(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function c(S,_){S.specular.value.copy(_.specular),S.shininess.value=Math.max(_.shininess,1e-4)}function f(S,_){_.gradientMap&&(S.gradientMap.value=_.gradientMap)}function p(S,_){S.metalness.value=_.metalness,_.metalnessMap&&(S.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,S.metalnessMapTransform)),S.roughness.value=_.roughness,_.roughnessMap&&(S.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,S.roughnessMapTransform)),e.get(_).envMap&&(S.envMapIntensity.value=_.envMapIntensity)}function g(S,_,w){S.ior.value=_.ior,_.sheen>0&&(S.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),S.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(S.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,S.sheenColorMapTransform)),_.sheenRoughnessMap&&(S.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,S.sheenRoughnessMapTransform))),_.clearcoat>0&&(S.clearcoat.value=_.clearcoat,S.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(S.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,S.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(S.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===qi&&S.clearcoatNormalScale.value.negate())),_.iridescence>0&&(S.iridescence.value=_.iridescence,S.iridescenceIOR.value=_.iridescenceIOR,S.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(S.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,S.iridescenceMapTransform)),_.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),_.transmission>0&&(S.transmission.value=_.transmission,S.transmissionSamplerMap.value=w.texture,S.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(S.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,S.transmissionMapTransform)),S.thickness.value=_.thickness,_.thicknessMap&&(S.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=_.attenuationDistance,S.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(S.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(S.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=_.specularIntensity,S.specularColor.value.copy(_.specularColor),_.specularColorMap&&(S.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,S.specularColorMapTransform)),_.specularIntensityMap&&(S.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,S.specularIntensityMapTransform))}function v(S,_){_.matcap&&(S.matcap.value=_.matcap)}function x(S,_){const w=e.get(_).light;S.referencePosition.value.setFromMatrixPosition(w.matrixWorld),S.nearDistance.value=w.shadow.camera.near,S.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function kX(n,e,t,r){let i={},s={},a=[];const l=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function o(w,E){const T=E.program;r.uniformBlockBinding(w,T)}function u(w,E){let T=i[w.id];T===void 0&&(v(w),T=c(w),i[w.id]=T,w.addEventListener("dispose",S));const L=E.program;r.updateUBOMapping(w,L);const A=e.render.frame;s[w.id]!==A&&(p(w),s[w.id]=A)}function c(w){const E=f();w.__bindingPointIndex=E;const T=n.createBuffer(),L=w.__size,A=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,L,A),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,T),T}function f(){for(let w=0;w<l;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const E=i[w.id],T=w.uniforms,L=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let A=0,O=T.length;A<O;A++){const U=Array.isArray(T[A])?T[A]:[T[A]];for(let F=0,P=U.length;F<P;F++){const N=U[F];if(g(N,A,F,L)===!0){const K=N.__offset,$=Array.isArray(N.value)?N.value:[N.value];let j=0;for(let le=0;le<$.length;le++){const re=$[le],W=x(re);typeof re=="number"||typeof re=="boolean"?(N.__data[0]=re,n.bufferSubData(n.UNIFORM_BUFFER,K+j,N.__data)):re.isMatrix3?(N.__data[0]=re.elements[0],N.__data[1]=re.elements[1],N.__data[2]=re.elements[2],N.__data[3]=0,N.__data[4]=re.elements[3],N.__data[5]=re.elements[4],N.__data[6]=re.elements[5],N.__data[7]=0,N.__data[8]=re.elements[6],N.__data[9]=re.elements[7],N.__data[10]=re.elements[8],N.__data[11]=0):(re.toArray(N.__data,j),j+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,K,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(w,E,T,L){const A=w.value,O=E+"_"+T;if(L[O]===void 0)return typeof A=="number"||typeof A=="boolean"?L[O]=A:L[O]=A.clone(),!0;{const U=L[O];if(typeof A=="number"||typeof A=="boolean"){if(U!==A)return L[O]=A,!0}else if(U.equals(A)===!1)return U.copy(A),!0}return!1}function v(w){const E=w.uniforms;let T=0;const L=16;for(let O=0,U=E.length;O<U;O++){const F=Array.isArray(E[O])?E[O]:[E[O]];for(let P=0,N=F.length;P<N;P++){const K=F[P],$=Array.isArray(K.value)?K.value:[K.value];for(let j=0,le=$.length;j<le;j++){const re=$[j],W=x(re),G=T%L;G!==0&&L-G<W.boundary&&(T+=L-G),K.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=T,T+=W.storage}}}const A=T%L;return A>0&&(T+=L-A),w.__size=T,w.__cache={},this}function x(w){const E={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(E.boundary=4,E.storage=4):w.isVector2?(E.boundary=8,E.storage=8):w.isVector3||w.isColor?(E.boundary=16,E.storage=12):w.isVector4?(E.boundary=16,E.storage=16):w.isMatrix3?(E.boundary=48,E.storage=48):w.isMatrix4?(E.boundary=64,E.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),E}function S(w){const E=w.target;E.removeEventListener("dispose",S);const T=a.indexOf(E.__bindingPointIndex);a.splice(T,1),n.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function _(){for(const w in i)n.deleteBuffer(i[w]);a=[],i={},s={}}return{bind:o,update:u,dispose:_}}class Fb{constructor(e={}){const{canvas:t=bI(),context:r=null,depth:i=!0,stencil:s=!0,alpha:a=!1,antialias:l=!1,premultipliedAlpha:o=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=a;const g=new Uint32Array(4),v=new Int32Array(4);let x=null,S=null;const _=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Dr,this._useLegacyLights=!1,this.toneMapping=qa,this.toneMappingExposure=1;const E=this;let T=!1,L=0,A=0,O=null,U=-1,F=null;const P=new Or,N=new Or;let K=null;const $=new $t(0);let j=0,le=t.width,re=t.height,W=1,G=null,V=null;const k=new Or(0,0,le,re),ie=new Or(0,0,le,re);let te=!1;const se=new mv;let oe=!1,ve=!1,xe=null;const he=new In,Ue=new ft,ke=new ge,Qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Le(){return O===null?W:1}let Q=r;function He(ae,Ne){for(let qe=0;qe<ae.length;qe++){const Ke=ae[qe],$e=t.getContext(Ke,Ne);if($e!==null)return $e}return null}try{const ae={alpha:!0,depth:i,stencil:s,antialias:l,premultipliedAlpha:o,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Mp}`),t.addEventListener("webglcontextlost",Rt,!1),t.addEventListener("webglcontextrestored",ce,!1),t.addEventListener("webglcontextcreationerror",Re,!1),Q===null){const Ne=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&Ne.shift(),Q=He(Ne,ae),Q===null)throw He(Ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ae){throw console.error("THREE.WebGLRenderer: "+ae.message),ae}let Pe,Je,Ye,mt,gt,ne,Y,Ie,st,ot,be,pe,Ge,Fe,nt,Ce,De,Ut,Bt,Ct,wt,ut,It,Kt;function Mn(){Pe=new $W(Q),Je=new WW(Q,Pe,e),Pe.init(Je),ut=new BI(Q,Pe,Je),Ye=new LX(Q,Pe,Je),mt=new ZW(Q),gt=new _X,ne=new OX(Q,Pe,Ye,gt,Je,ut,mt),Y=new XW(E),Ie=new KW(E),st=new aG(Q,Je),It=new GW(Q,Pe,st,Je),ot=new QW(Q,st,mt,It),be=new rj(Q,ot,st,mt),Bt=new nj(Q,Je,ne),Ce=new jW(gt),pe=new yX(E,Y,Ie,Pe,Je,It,Ce),Ge=new BX(E,gt),Fe=new SX,nt=new AX(Pe,Je),Ut=new HW(E,Y,Ie,Ye,be,p,o),De=new PX(E,be,Je),Kt=new kX(Q,mt,Je,Ye),Ct=new VW(Q,Pe,mt,Je),wt=new JW(Q,Pe,mt,Je),mt.programs=pe.programs,E.capabilities=Je,E.extensions=Pe,E.properties=gt,E.renderLists=Fe,E.shadowMap=De,E.state=Ye,E.info=mt}Mn();const Tt=new FX(E,Q);this.xr=Tt,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const ae=Pe.get("WEBGL_lose_context");ae&&ae.loseContext()},this.forceContextRestore=function(){const ae=Pe.get("WEBGL_lose_context");ae&&ae.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(ae){ae!==void 0&&(W=ae,this.setSize(le,re,!1))},this.getSize=function(ae){return ae.set(le,re)},this.setSize=function(ae,Ne,qe=!0){if(Tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}le=ae,re=Ne,t.width=Math.floor(ae*W),t.height=Math.floor(Ne*W),qe===!0&&(t.style.width=ae+"px",t.style.height=Ne+"px"),this.setViewport(0,0,ae,Ne)},this.getDrawingBufferSize=function(ae){return ae.set(le*W,re*W).floor()},this.setDrawingBufferSize=function(ae,Ne,qe){le=ae,re=Ne,W=qe,t.width=Math.floor(ae*qe),t.height=Math.floor(Ne*qe),this.setViewport(0,0,ae,Ne)},this.getCurrentViewport=function(ae){return ae.copy(P)},this.getViewport=function(ae){return ae.copy(k)},this.setViewport=function(ae,Ne,qe,Ke){ae.isVector4?k.set(ae.x,ae.y,ae.z,ae.w):k.set(ae,Ne,qe,Ke),Ye.viewport(P.copy(k).multiplyScalar(W).floor())},this.getScissor=function(ae){return ae.copy(ie)},this.setScissor=function(ae,Ne,qe,Ke){ae.isVector4?ie.set(ae.x,ae.y,ae.z,ae.w):ie.set(ae,Ne,qe,Ke),Ye.scissor(N.copy(ie).multiplyScalar(W).floor())},this.getScissorTest=function(){return te},this.setScissorTest=function(ae){Ye.setScissorTest(te=ae)},this.setOpaqueSort=function(ae){G=ae},this.setTransparentSort=function(ae){V=ae},this.getClearColor=function(ae){return ae.copy(Ut.getClearColor())},this.setClearColor=function(){Ut.setClearColor.apply(Ut,arguments)},this.getClearAlpha=function(){return Ut.getClearAlpha()},this.setClearAlpha=function(){Ut.setClearAlpha.apply(Ut,arguments)},this.clear=function(ae=!0,Ne=!0,qe=!0){let Ke=0;if(ae){let $e=!1;if(O!==null){const Pt=O.texture.format;$e=Pt===Mb||Pt===Eb||Pt===Sb}if($e){const Pt=O.texture.type,Xt=Pt===Os||Pt===Ml||Pt===px||Pt===yu||Pt===yb||Pt===_b,tn=Ut.getClearColor(),rn=Ut.getClearAlpha(),gn=tn.r,pn=tn.g,un=tn.b;Xt?(g[0]=gn,g[1]=pn,g[2]=un,g[3]=rn,Q.clearBufferuiv(Q.COLOR,0,g)):(v[0]=gn,v[1]=pn,v[2]=un,v[3]=rn,Q.clearBufferiv(Q.COLOR,0,v))}else Ke|=Q.COLOR_BUFFER_BIT}Ne&&(Ke|=Q.DEPTH_BUFFER_BIT),qe&&(Ke|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Rt,!1),t.removeEventListener("webglcontextrestored",ce,!1),t.removeEventListener("webglcontextcreationerror",Re,!1),Fe.dispose(),nt.dispose(),gt.dispose(),Y.dispose(),Ie.dispose(),be.dispose(),It.dispose(),Kt.dispose(),pe.dispose(),Tt.dispose(),Tt.removeEventListener("sessionstart",Nn),Tt.removeEventListener("sessionend",Tn),xe&&(xe.dispose(),xe=null),lr.stop()};function Rt(ae){ae.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const ae=mt.autoReset,Ne=De.enabled,qe=De.autoUpdate,Ke=De.needsUpdate,$e=De.type;Mn(),mt.autoReset=ae,De.enabled=Ne,De.autoUpdate=qe,De.needsUpdate=Ke,De.type=$e}function Re(ae){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ae.statusMessage)}function We(ae){const Ne=ae.target;Ne.removeEventListener("dispose",We),dt(Ne)}function dt(ae){St(ae),gt.remove(ae)}function St(ae){const Ne=gt.get(ae).programs;Ne!==void 0&&(Ne.forEach(function(qe){pe.releaseProgram(qe)}),ae.isShaderMaterial&&pe.releaseShaderCache(ae))}this.renderBufferDirect=function(ae,Ne,qe,Ke,$e,Pt){Ne===null&&(Ne=Qe);const Xt=$e.isMesh&&$e.matrixWorld.determinant()<0,tn=An(ae,Ne,qe,Ke,$e);Ye.setMaterial(Ke,Xt);let rn=qe.index,gn=1;if(Ke.wireframe===!0){if(rn=ot.getWireframeAttribute(qe),rn===void 0)return;gn=2}const pn=qe.drawRange,un=qe.attributes.position;let dr=pn.start*gn,ur=(pn.start+pn.count)*gn;Pt!==null&&(dr=Math.max(dr,Pt.start*gn),ur=Math.min(ur,(Pt.start+Pt.count)*gn)),rn!==null?(dr=Math.max(dr,0),ur=Math.min(ur,rn.count)):un!=null&&(dr=Math.max(dr,0),ur=Math.min(ur,un.count));const Jn=ur-dr;if(Jn<0||Jn===1/0)return;It.setup($e,Ke,tn,qe,rn);let sn,Wt=Ct;if(rn!==null&&(sn=st.get(rn),Wt=wt,Wt.setIndex(sn)),$e.isMesh)Ke.wireframe===!0?(Ye.setLineWidth(Ke.wireframeLinewidth*Le()),Wt.setMode(Q.LINES)):Wt.setMode(Q.TRIANGLES);else if($e.isLine){let kt=Ke.linewidth;kt===void 0&&(kt=1),Ye.setLineWidth(kt*Le()),$e.isLineSegments?Wt.setMode(Q.LINES):$e.isLineLoop?Wt.setMode(Q.LINE_LOOP):Wt.setMode(Q.LINE_STRIP)}else $e.isPoints?Wt.setMode(Q.POINTS):$e.isSprite&&Wt.setMode(Q.TRIANGLES);if($e.isBatchedMesh)Wt.renderMultiDraw($e._multiDrawStarts,$e._multiDrawCounts,$e._multiDrawCount);else if($e.isInstancedMesh)Wt.renderInstances(dr,Jn,$e.count);else if(qe.isInstancedBufferGeometry){const kt=qe._maxInstanceCount!==void 0?qe._maxInstanceCount:1/0,kn=Math.min(qe.instanceCount,kt);Wt.renderInstances(dr,Jn,kn)}else Wt.render(dr,Jn)};function Gt(ae,Ne,qe){ae.transparent===!0&&ae.side===yo&&ae.forceSinglePass===!1?(ae.side=qi,ae.needsUpdate=!0,Jt(ae,Ne,qe),ae.side=Rl,ae.needsUpdate=!0,Jt(ae,Ne,qe),ae.side=yo):Jt(ae,Ne,qe)}this.compile=function(ae,Ne,qe=null){qe===null&&(qe=ae),S=nt.get(qe),S.init(),w.push(S),qe.traverseVisible(function($e){$e.isLight&&$e.layers.test(Ne.layers)&&(S.pushLight($e),$e.castShadow&&S.pushShadow($e))}),ae!==qe&&ae.traverseVisible(function($e){$e.isLight&&$e.layers.test(Ne.layers)&&(S.pushLight($e),$e.castShadow&&S.pushShadow($e))}),S.setupLights(E._useLegacyLights);const Ke=new Set;return ae.traverse(function($e){const Pt=$e.material;if(Pt)if(Array.isArray(Pt))for(let Xt=0;Xt<Pt.length;Xt++){const tn=Pt[Xt];Gt(tn,qe,$e),Ke.add(tn)}else Gt(Pt,qe,$e),Ke.add(Pt)}),w.pop(),S=null,Ke},this.compileAsync=function(ae,Ne,qe=null){const Ke=this.compile(ae,Ne,qe);return new Promise($e=>{function Pt(){if(Ke.forEach(function(Xt){gt.get(Xt).currentProgram.isReady()&&Ke.delete(Xt)}),Ke.size===0){$e(ae);return}setTimeout(Pt,10)}Pe.get("KHR_parallel_shader_compile")!==null?Pt():setTimeout(Pt,10)})};let Qt=null;function En(ae){Qt&&Qt(ae)}function Nn(){lr.stop()}function Tn(){lr.start()}const lr=new OI;lr.setAnimationLoop(En),typeof self<"u"&&lr.setContext(self),this.setAnimationLoop=function(ae){Qt=ae,Tt.setAnimationLoop(ae),ae===null?lr.stop():lr.start()},Tt.addEventListener("sessionstart",Nn),Tt.addEventListener("sessionend",Tn),this.render=function(ae,Ne){if(Ne!==void 0&&Ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ne.parent===null&&Ne.matrixWorldAutoUpdate===!0&&Ne.updateMatrixWorld(),Tt.enabled===!0&&Tt.isPresenting===!0&&(Tt.cameraAutoUpdate===!0&&Tt.updateCamera(Ne),Ne=Tt.getCamera()),ae.isScene===!0&&ae.onBeforeRender(E,ae,Ne,O),S=nt.get(ae,w.length),S.init(),w.push(S),he.multiplyMatrices(Ne.projectionMatrix,Ne.matrixWorldInverse),se.setFromProjectionMatrix(he),ve=this.localClippingEnabled,oe=Ce.init(this.clippingPlanes,ve),x=Fe.get(ae,_.length),x.init(),_.push(x),Te(ae,Ne,0,E.sortObjects),x.finish(),E.sortObjects===!0&&x.sort(G,V),this.info.render.frame++,oe===!0&&Ce.beginShadows();const qe=S.state.shadowsArray;if(De.render(qe,ae,Ne),oe===!0&&Ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Tt.enabled===!1||Tt.isPresenting===!1||Tt.hasDepthSensing()===!1)&&Ut.render(x,ae),S.setupLights(E._useLegacyLights),Ne.isArrayCamera){const Ke=Ne.cameras;for(let $e=0,Pt=Ke.length;$e<Pt;$e++){const Xt=Ke[$e];_e(x,ae,Xt,Xt.viewport)}}else _e(x,ae,Ne);O!==null&&(ne.updateMultisampleRenderTarget(O),ne.updateRenderTargetMipmap(O)),ae.isScene===!0&&ae.onAfterRender(E,ae,Ne),It.resetDefaultState(),U=-1,F=null,w.pop(),w.length>0?S=w[w.length-1]:S=null,_.pop(),_.length>0?x=_[_.length-1]:x=null};function Te(ae,Ne,qe,Ke){if(ae.visible===!1)return;if(ae.layers.test(Ne.layers)){if(ae.isGroup)qe=ae.renderOrder;else if(ae.isLOD)ae.autoUpdate===!0&&ae.update(Ne);else if(ae.isLight)S.pushLight(ae),ae.castShadow&&S.pushShadow(ae);else if(ae.isSprite){if(!ae.frustumCulled||se.intersectsSprite(ae)){Ke&&ke.setFromMatrixPosition(ae.matrixWorld).applyMatrix4(he);const Xt=be.update(ae),tn=ae.material;tn.visible&&x.push(ae,Xt,tn,qe,ke.z,null)}}else if((ae.isMesh||ae.isLine||ae.isPoints)&&(!ae.frustumCulled||se.intersectsObject(ae))){const Xt=be.update(ae),tn=ae.material;if(Ke&&(ae.boundingSphere!==void 0?(ae.boundingSphere===null&&ae.computeBoundingSphere(),ke.copy(ae.boundingSphere.center)):(Xt.boundingSphere===null&&Xt.computeBoundingSphere(),ke.copy(Xt.boundingSphere.center)),ke.applyMatrix4(ae.matrixWorld).applyMatrix4(he)),Array.isArray(tn)){const rn=Xt.groups;for(let gn=0,pn=rn.length;gn<pn;gn++){const un=rn[gn],dr=tn[un.materialIndex];dr&&dr.visible&&x.push(ae,Xt,dr,qe,ke.z,un)}}else tn.visible&&x.push(ae,Xt,tn,qe,ke.z,null)}}const Pt=ae.children;for(let Xt=0,tn=Pt.length;Xt<tn;Xt++)Te(Pt[Xt],Ne,qe,Ke)}function _e(ae,Ne,qe,Ke){const $e=ae.opaque,Pt=ae.transmissive,Xt=ae.transparent;S.setupLightsView(qe),oe===!0&&Ce.setGlobalState(E.clippingPlanes,qe),Pt.length>0&&je($e,Pt,Ne,qe),Ke&&Ye.viewport(P.copy(Ke)),$e.length>0&&lt($e,Ne,qe),Pt.length>0&&lt(Pt,Ne,qe),Xt.length>0&&lt(Xt,Ne,qe),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function je(ae,Ne,qe,Ke){if((qe.isScene===!0?qe.overrideMaterial:null)!==null)return;const Pt=Je.isWebGL2;xe===null&&(xe=new _s(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?mh:Os,minFilter:El,samples:Pt?4:0})),E.getDrawingBufferSize(Ue),Pt?xe.setSize(Ue.x,Ue.y):xe.setSize(B_(Ue.x),B_(Ue.y));const Xt=E.getRenderTarget();E.setRenderTarget(xe),E.getClearColor($),j=E.getClearAlpha(),j<1&&E.setClearColor(16777215,.5),E.clear();const tn=E.toneMapping;E.toneMapping=qa,lt(ae,qe,Ke),ne.updateMultisampleRenderTarget(xe),ne.updateRenderTargetMipmap(xe);let rn=!1;for(let gn=0,pn=Ne.length;gn<pn;gn++){const un=Ne[gn],dr=un.object,ur=un.geometry,Jn=un.material,sn=un.group;if(Jn.side===yo&&dr.layers.test(Ke.layers)){const Wt=Jn.side;Jn.side=qi,Jn.needsUpdate=!0,Nt(dr,qe,Ke,ur,Jn,sn),Jn.side=Wt,Jn.needsUpdate=!0,rn=!0}}rn===!0&&(ne.updateMultisampleRenderTarget(xe),ne.updateRenderTargetMipmap(xe)),E.setRenderTarget(Xt),E.setClearColor($,j),E.toneMapping=tn}function lt(ae,Ne,qe){const Ke=Ne.isScene===!0?Ne.overrideMaterial:null;for(let $e=0,Pt=ae.length;$e<Pt;$e++){const Xt=ae[$e],tn=Xt.object,rn=Xt.geometry,gn=Ke===null?Xt.material:Ke,pn=Xt.group;tn.layers.test(qe.layers)&&Nt(tn,Ne,qe,rn,gn,pn)}}function Nt(ae,Ne,qe,Ke,$e,Pt){ae.onBeforeRender(E,Ne,qe,Ke,$e,Pt),ae.modelViewMatrix.multiplyMatrices(qe.matrixWorldInverse,ae.matrixWorld),ae.normalMatrix.getNormalMatrix(ae.modelViewMatrix),$e.onBeforeRender(E,Ne,qe,Ke,ae,Pt),$e.transparent===!0&&$e.side===yo&&$e.forceSinglePass===!1?($e.side=qi,$e.needsUpdate=!0,E.renderBufferDirect(qe,Ne,Ke,$e,ae,Pt),$e.side=Rl,$e.needsUpdate=!0,E.renderBufferDirect(qe,Ne,Ke,$e,ae,Pt),$e.side=yo):E.renderBufferDirect(qe,Ne,Ke,$e,ae,Pt),ae.onAfterRender(E,Ne,qe,Ke,$e,Pt)}function Jt(ae,Ne,qe){Ne.isScene!==!0&&(Ne=Qe);const Ke=gt.get(ae),$e=S.state.lights,Pt=S.state.shadowsArray,Xt=$e.state.version,tn=pe.getParameters(ae,$e.state,Pt,Ne,qe),rn=pe.getProgramCacheKey(tn);let gn=Ke.programs;Ke.environment=ae.isMeshStandardMaterial?Ne.environment:null,Ke.fog=Ne.fog,Ke.envMap=(ae.isMeshStandardMaterial?Ie:Y).get(ae.envMap||Ke.environment),gn===void 0&&(ae.addEventListener("dispose",We),gn=new Map,Ke.programs=gn);let pn=gn.get(rn);if(pn!==void 0){if(Ke.currentProgram===pn&&Ke.lightsStateVersion===Xt)return Dt(ae,tn),pn}else tn.uniforms=pe.getUniforms(ae),ae.onBuild(qe,tn,E),ae.onBeforeCompile(tn,E),pn=pe.acquireProgram(tn,rn),gn.set(rn,pn),Ke.uniforms=tn.uniforms;const un=Ke.uniforms;return(!ae.isShaderMaterial&&!ae.isRawShaderMaterial||ae.clipping===!0)&&(un.clippingPlanes=Ce.uniform),Dt(ae,tn),Ke.needsLights=ln(ae),Ke.lightsStateVersion=Xt,Ke.needsLights&&(un.ambientLightColor.value=$e.state.ambient,un.lightProbe.value=$e.state.probe,un.directionalLights.value=$e.state.directional,un.directionalLightShadows.value=$e.state.directionalShadow,un.spotLights.value=$e.state.spot,un.spotLightShadows.value=$e.state.spotShadow,un.rectAreaLights.value=$e.state.rectArea,un.ltc_1.value=$e.state.rectAreaLTC1,un.ltc_2.value=$e.state.rectAreaLTC2,un.pointLights.value=$e.state.point,un.pointLightShadows.value=$e.state.pointShadow,un.hemisphereLights.value=$e.state.hemi,un.directionalShadowMap.value=$e.state.directionalShadowMap,un.directionalShadowMatrix.value=$e.state.directionalShadowMatrix,un.spotShadowMap.value=$e.state.spotShadowMap,un.spotLightMatrix.value=$e.state.spotLightMatrix,un.spotLightMap.value=$e.state.spotLightMap,un.pointShadowMap.value=$e.state.pointShadowMap,un.pointShadowMatrix.value=$e.state.pointShadowMatrix),Ke.currentProgram=pn,Ke.uniformsList=null,pn}function mn(ae){if(ae.uniformsList===null){const Ne=ae.currentProgram.getUniforms();ae.uniformsList=Q0.seqWithValue(Ne.seq,ae.uniforms)}return ae.uniformsList}function Dt(ae,Ne){const qe=gt.get(ae);qe.outputColorSpace=Ne.outputColorSpace,qe.batching=Ne.batching,qe.instancing=Ne.instancing,qe.instancingColor=Ne.instancingColor,qe.skinning=Ne.skinning,qe.morphTargets=Ne.morphTargets,qe.morphNormals=Ne.morphNormals,qe.morphColors=Ne.morphColors,qe.morphTargetsCount=Ne.morphTargetsCount,qe.numClippingPlanes=Ne.numClippingPlanes,qe.numIntersection=Ne.numClipIntersection,qe.vertexAlphas=Ne.vertexAlphas,qe.vertexTangents=Ne.vertexTangents,qe.toneMapping=Ne.toneMapping}function An(ae,Ne,qe,Ke,$e){Ne.isScene!==!0&&(Ne=Qe),ne.resetTextureUnits();const Pt=Ne.fog,Xt=Ke.isMeshStandardMaterial?Ne.environment:null,tn=O===null?E.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:ga,rn=(Ke.isMeshStandardMaterial?Ie:Y).get(Ke.envMap||Xt),gn=Ke.vertexColors===!0&&!!qe.attributes.color&&qe.attributes.color.itemSize===4,pn=!!qe.attributes.tangent&&(!!Ke.normalMap||Ke.anisotropy>0),un=!!qe.morphAttributes.position,dr=!!qe.morphAttributes.normal,ur=!!qe.morphAttributes.color;let Jn=qa;Ke.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(Jn=E.toneMapping);const sn=qe.morphAttributes.position||qe.morphAttributes.normal||qe.morphAttributes.color,Wt=sn!==void 0?sn.length:0,kt=gt.get(Ke),kn=S.state.lights;if(oe===!0&&(ve===!0||ae!==F)){const Si=ae===F&&Ke.id===U;Ce.setState(Ke,ae,Si)}let yn=!1;Ke.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==kn.state.version||kt.outputColorSpace!==tn||$e.isBatchedMesh&&kt.batching===!1||!$e.isBatchedMesh&&kt.batching===!0||$e.isInstancedMesh&&kt.instancing===!1||!$e.isInstancedMesh&&kt.instancing===!0||$e.isSkinnedMesh&&kt.skinning===!1||!$e.isSkinnedMesh&&kt.skinning===!0||$e.isInstancedMesh&&kt.instancingColor===!0&&$e.instanceColor===null||$e.isInstancedMesh&&kt.instancingColor===!1&&$e.instanceColor!==null||kt.envMap!==rn||Ke.fog===!0&&kt.fog!==Pt||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==Ce.numPlanes||kt.numIntersection!==Ce.numIntersection)||kt.vertexAlphas!==gn||kt.vertexTangents!==pn||kt.morphTargets!==un||kt.morphNormals!==dr||kt.morphColors!==ur||kt.toneMapping!==Jn||Je.isWebGL2===!0&&kt.morphTargetsCount!==Wt)&&(yn=!0):(yn=!0,kt.__version=Ke.version);let Tr=kt.currentProgram;yn===!0&&(Tr=Jt(Ke,Ne,$e));let nr=!1,Qi=!1,li=!1;const Pr=Tr.getUniforms(),hs=kt.uniforms;if(Ye.useProgram(Tr.program)&&(nr=!0,Qi=!0,li=!0),Ke.id!==U&&(U=Ke.id,Qi=!0),nr||F!==ae){Pr.setValue(Q,"projectionMatrix",ae.projectionMatrix),Pr.setValue(Q,"viewMatrix",ae.matrixWorldInverse);const Si=Pr.map.cameraPosition;Si!==void 0&&Si.setValue(Q,ke.setFromMatrixPosition(ae.matrixWorld)),Je.logarithmicDepthBuffer&&Pr.setValue(Q,"logDepthBufFC",2/(Math.log(ae.far+1)/Math.LN2)),(Ke.isMeshPhongMaterial||Ke.isMeshToonMaterial||Ke.isMeshLambertMaterial||Ke.isMeshBasicMaterial||Ke.isMeshStandardMaterial||Ke.isShaderMaterial)&&Pr.setValue(Q,"isOrthographic",ae.isOrthographicCamera===!0),F!==ae&&(F=ae,Qi=!0,li=!0)}if($e.isSkinnedMesh){Pr.setOptional(Q,$e,"bindMatrix"),Pr.setOptional(Q,$e,"bindMatrixInverse");const Si=$e.skeleton;Si&&(Je.floatVertexTextures?(Si.boneTexture===null&&Si.computeBoneTexture(),Pr.setValue(Q,"boneTexture",Si.boneTexture,ne)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}$e.isBatchedMesh&&(Pr.setOptional(Q,$e,"batchingTexture"),Pr.setValue(Q,"batchingTexture",$e._matricesTexture,ne));const ya=qe.morphAttributes;if((ya.position!==void 0||ya.normal!==void 0||ya.color!==void 0&&Je.isWebGL2===!0)&&Bt.update($e,qe,Tr),(Qi||kt.receiveShadow!==$e.receiveShadow)&&(kt.receiveShadow=$e.receiveShadow,Pr.setValue(Q,"receiveShadow",$e.receiveShadow)),Ke.isMeshGouraudMaterial&&Ke.envMap!==null&&(hs.envMap.value=rn,hs.flipEnvMap.value=rn.isCubeTexture&&rn.isRenderTargetTexture===!1?-1:1),Qi&&(Pr.setValue(Q,"toneMappingExposure",E.toneMappingExposure),kt.needsLights&&an(hs,li),Pt&&Ke.fog===!0&&Ge.refreshFogUniforms(hs,Pt),Ge.refreshMaterialUniforms(hs,Ke,W,re,xe),Q0.upload(Q,mn(kt),hs,ne)),Ke.isShaderMaterial&&Ke.uniformsNeedUpdate===!0&&(Q0.upload(Q,mn(kt),hs,ne),Ke.uniformsNeedUpdate=!1),Ke.isSpriteMaterial&&Pr.setValue(Q,"center",$e.center),Pr.setValue(Q,"modelViewMatrix",$e.modelViewMatrix),Pr.setValue(Q,"normalMatrix",$e.normalMatrix),Pr.setValue(Q,"modelMatrix",$e.matrixWorld),Ke.isShaderMaterial||Ke.isRawShaderMaterial){const Si=Ke.uniformsGroups;for(let qo=0,Ji=Si.length;qo<Ji;qo++)if(Je.isWebGL2){const Qa=Si[qo];Kt.update(Qa,Tr),Kt.bind(Qa,Tr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Tr}function an(ae,Ne){ae.ambientLightColor.needsUpdate=Ne,ae.lightProbe.needsUpdate=Ne,ae.directionalLights.needsUpdate=Ne,ae.directionalLightShadows.needsUpdate=Ne,ae.pointLights.needsUpdate=Ne,ae.pointLightShadows.needsUpdate=Ne,ae.spotLights.needsUpdate=Ne,ae.spotLightShadows.needsUpdate=Ne,ae.rectAreaLights.needsUpdate=Ne,ae.hemisphereLights.needsUpdate=Ne}function ln(ae){return ae.isMeshLambertMaterial||ae.isMeshToonMaterial||ae.isMeshPhongMaterial||ae.isMeshStandardMaterial||ae.isShadowMaterial||ae.isShaderMaterial&&ae.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(ae,Ne,qe){gt.get(ae.texture).__webglTexture=Ne,gt.get(ae.depthTexture).__webglTexture=qe;const Ke=gt.get(ae);Ke.__hasExternalTextures=!0,Ke.__hasExternalTextures&&(Ke.__autoAllocateDepthBuffer=qe===void 0,Ke.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ke.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ae,Ne){const qe=gt.get(ae);qe.__webglFramebuffer=Ne,qe.__useDefaultFramebuffer=Ne===void 0},this.setRenderTarget=function(ae,Ne=0,qe=0){O=ae,L=Ne,A=qe;let Ke=!0,$e=null,Pt=!1,Xt=!1;if(ae){const rn=gt.get(ae);rn.__useDefaultFramebuffer!==void 0?(Ye.bindFramebuffer(Q.FRAMEBUFFER,null),Ke=!1):rn.__webglFramebuffer===void 0?ne.setupRenderTarget(ae):rn.__hasExternalTextures&&ne.rebindTextures(ae,gt.get(ae.texture).__webglTexture,gt.get(ae.depthTexture).__webglTexture);const gn=ae.texture;(gn.isData3DTexture||gn.isDataArrayTexture||gn.isCompressedArrayTexture)&&(Xt=!0);const pn=gt.get(ae).__webglFramebuffer;ae.isWebGLCubeRenderTarget?(Array.isArray(pn[Ne])?$e=pn[Ne][qe]:$e=pn[Ne],Pt=!0):Je.isWebGL2&&ae.samples>0&&ne.useMultisampledRTT(ae)===!1?$e=gt.get(ae).__webglMultisampledFramebuffer:Array.isArray(pn)?$e=pn[qe]:$e=pn,P.copy(ae.viewport),N.copy(ae.scissor),K=ae.scissorTest}else P.copy(k).multiplyScalar(W).floor(),N.copy(ie).multiplyScalar(W).floor(),K=te;if(Ye.bindFramebuffer(Q.FRAMEBUFFER,$e)&&Je.drawBuffers&&Ke&&Ye.drawBuffers(ae,$e),Ye.viewport(P),Ye.scissor(N),Ye.setScissorTest(K),Pt){const rn=gt.get(ae.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,rn.__webglTexture,qe)}else if(Xt){const rn=gt.get(ae.texture),gn=Ne||0;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,rn.__webglTexture,qe||0,gn)}U=-1},this.readRenderTargetPixels=function(ae,Ne,qe,Ke,$e,Pt,Xt){if(!(ae&&ae.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tn=gt.get(ae).__webglFramebuffer;if(ae.isWebGLCubeRenderTarget&&Xt!==void 0&&(tn=tn[Xt]),tn){Ye.bindFramebuffer(Q.FRAMEBUFFER,tn);try{const rn=ae.texture,gn=rn.format,pn=rn.type;if(gn!==cs&&ut.convert(gn)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const un=pn===mh&&(Pe.has("EXT_color_buffer_half_float")||Je.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(pn!==Os&&ut.convert(pn)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(pn===ko&&(Je.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!un){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ne>=0&&Ne<=ae.width-Ke&&qe>=0&&qe<=ae.height-$e&&Q.readPixels(Ne,qe,Ke,$e,ut.convert(gn),ut.convert(pn),Pt)}finally{const rn=O!==null?gt.get(O).__webglFramebuffer:null;Ye.bindFramebuffer(Q.FRAMEBUFFER,rn)}}},this.copyFramebufferToTexture=function(ae,Ne,qe=0){const Ke=Math.pow(2,-qe),$e=Math.floor(Ne.image.width*Ke),Pt=Math.floor(Ne.image.height*Ke);ne.setTexture2D(Ne,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,qe,0,0,ae.x,ae.y,$e,Pt),Ye.unbindTexture()},this.copyTextureToTexture=function(ae,Ne,qe,Ke=0){const $e=Ne.image.width,Pt=Ne.image.height,Xt=ut.convert(qe.format),tn=ut.convert(qe.type);ne.setTexture2D(qe,0),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,qe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,qe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,qe.unpackAlignment),Ne.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,Ke,ae.x,ae.y,$e,Pt,Xt,tn,Ne.image.data):Ne.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,Ke,ae.x,ae.y,Ne.mipmaps[0].width,Ne.mipmaps[0].height,Xt,Ne.mipmaps[0].data):Q.texSubImage2D(Q.TEXTURE_2D,Ke,ae.x,ae.y,Xt,tn,Ne.image),Ke===0&&qe.generateMipmaps&&Q.generateMipmap(Q.TEXTURE_2D),Ye.unbindTexture()},this.copyTextureToTexture3D=function(ae,Ne,qe,Ke,$e=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Pt=ae.max.x-ae.min.x+1,Xt=ae.max.y-ae.min.y+1,tn=ae.max.z-ae.min.z+1,rn=ut.convert(Ke.format),gn=ut.convert(Ke.type);let pn;if(Ke.isData3DTexture)ne.setTexture3D(Ke,0),pn=Q.TEXTURE_3D;else if(Ke.isDataArrayTexture||Ke.isCompressedArrayTexture)ne.setTexture2DArray(Ke,0),pn=Q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,Ke.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,Ke.unpackAlignment);const un=Q.getParameter(Q.UNPACK_ROW_LENGTH),dr=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),ur=Q.getParameter(Q.UNPACK_SKIP_PIXELS),Jn=Q.getParameter(Q.UNPACK_SKIP_ROWS),sn=Q.getParameter(Q.UNPACK_SKIP_IMAGES),Wt=qe.isCompressedTexture?qe.mipmaps[$e]:qe.image;Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Wt.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Wt.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,ae.min.x),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,ae.min.y),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,ae.min.z),qe.isDataTexture||qe.isData3DTexture?Q.texSubImage3D(pn,$e,Ne.x,Ne.y,Ne.z,Pt,Xt,tn,rn,gn,Wt.data):qe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(pn,$e,Ne.x,Ne.y,Ne.z,Pt,Xt,tn,rn,Wt.data)):Q.texSubImage3D(pn,$e,Ne.x,Ne.y,Ne.z,Pt,Xt,tn,rn,gn,Wt),Q.pixelStorei(Q.UNPACK_ROW_LENGTH,un),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,dr),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,ur),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,Jn),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,sn),$e===0&&Ke.generateMipmaps&&Q.generateMipmap(pn),Ye.unbindTexture()},this.initTexture=function(ae){ae.isCubeTexture?ne.setTextureCube(ae,0):ae.isData3DTexture?ne.setTexture3D(ae,0):ae.isDataArrayTexture||ae.isCompressedArrayTexture?ne.setTexture2DArray(ae,0):ne.setTexture2D(ae,0),Ye.unbindTexture()},this.resetState=function(){L=0,A=0,O=null,Ye.reset(),It.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===vx?"display-p3":"srgb",t.unpackColorSpace=Lr.workingColorSpace===hv?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Dr?Lc:Ab}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Lc?Dr:ga}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class zI extends Fb{}zI.prototype.isWebGL1Renderer=!0;class Sx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new $t(e),this.density=t}clone(){return new Sx(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class wx{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new $t(e),this.near=t,this.far=r}clone(){return new wx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gp extends xr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Ex{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Hg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Vo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return sh("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Vo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Vo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const qs=new ge;class gh{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)qs.fromBufferAttribute(this,t),qs.applyMatrix4(e),this.setXYZ(t,qs.x,qs.y,qs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)qs.fromBufferAttribute(this,t),qs.applyNormalMatrix(e),this.setXYZ(t,qs.x,qs.y,qs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)qs.fromBufferAttribute(this,t),qs.transformDirection(e),this.setXYZ(t,qs.x,qs.y,qs.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Js(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=jn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Js(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Js(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Js(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Js(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new vr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new gh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Bb extends $i{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Sd;const Lm=new ge,wd=new ge,Ed=new ge,Md=new ft,Om=new ft,HI=new In,Qy=new ge,Im=new ge,Jy=new ge,kC=new ft,ES=new ft,zC=new ft;class GI extends xr{constructor(e=new Bb){if(super(),this.isSprite=!0,this.type="Sprite",Sd===void 0){Sd=new Xn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ex(t,5);Sd.setIndex([0,1,2,0,2,3]),Sd.setAttribute("position",new gh(r,3,0,!1)),Sd.setAttribute("uv",new gh(r,2,3,!1))}this.geometry=Sd,this.material=e,this.center=new ft(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wd.setFromMatrixScale(this.matrixWorld),HI.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ed.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wd.multiplyScalar(-Ed.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;Zy(Qy.set(-.5,-.5,0),Ed,a,wd,i,s),Zy(Im.set(.5,-.5,0),Ed,a,wd,i,s),Zy(Jy.set(.5,.5,0),Ed,a,wd,i,s),kC.set(0,0),ES.set(1,0),zC.set(1,1);let l=e.ray.intersectTriangle(Qy,Im,Jy,!1,Lm);if(l===null&&(Zy(Im.set(-.5,.5,0),Ed,a,wd,i,s),ES.set(0,1),l=e.ray.intersectTriangle(Qy,Jy,Im,!1,Lm),l===null))return;const o=e.ray.origin.distanceTo(Lm);o<e.near||o>e.far||t.push({distance:o,point:Lm.clone(),uv:zo.getInterpolation(Lm,Qy,Im,Jy,kC,ES,zC,new ft),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Zy(n,e,t,r,i,s){Md.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Om.x=s*Md.x-i*Md.y,Om.y=i*Md.x+s*Md.y):Om.copy(Md),n.copy(e),n.x+=Om.x,n.y+=Om.y,n.applyMatrix4(HI)}const e0=new ge,HC=new ge;class VI extends xr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){e0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(e0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){e0.setFromMatrixPosition(e.matrixWorld),HC.setFromMatrixPosition(this.matrixWorld);const r=e0.distanceTo(HC)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),r>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const GC=new ge,VC=new Or,WC=new Or,zX=new ge,jC=new In,t0=new ge,MS=new Is,XC=new In,bS=new Tp;class WI extends Ni{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=dE,this.bindMatrix=new In,this.bindMatrixInverse=new In,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new eo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,t0),this.boundingBox.expandByPoint(t0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Is),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,t0),this.boundingSphere.expandByPoint(t0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),MS.copy(this.boundingSphere),MS.applyMatrix4(i),e.ray.intersectsSphere(MS)!==!1&&(XC.copy(i).invert(),bS.copy(e.ray).applyMatrix4(XC),!(this.boundingBox!==null&&bS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,bS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Or,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===dE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===iI?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;VC.fromBufferAttribute(i.attributes.skinIndex,e),WC.fromBufferAttribute(i.attributes.skinWeight,e),GC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=WC.getComponent(s);if(a!==0){const l=VC.getComponent(s);jC.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),t.addScaledVector(zX.copy(GC).applyMatrix4(jC),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class kb extends xr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Oc extends Di{constructor(e=null,t=1,r=1,i,s,a,l,o,u=Vr,c=Vr,f,p){super(null,a,l,o,u,c,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qC=new In,HX=new In;class Mx{constructor(e=[],t=[]){this.uuid=Vo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new In)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new In;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:HX;qC.multiplyMatrices(l,t[s]),qC.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Mx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Oc(t,e,e,cs,ko);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new kb),this.bones.push(a),this.boneInverses.push(new In().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const a=t[i];e.bones.push(a.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class vp extends vr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const bd=new In,YC=new In,n0=[],KC=new eo,GX=new In,Nm=new Ni,Dm=new Is;class jI extends Ni{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new vp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,GX)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new eo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,bd),KC.copy(e.boundingBox).applyMatrix4(bd),this.boundingBox.union(KC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Is),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,bd),Dm.copy(e.boundingSphere).applyMatrix4(bd),this.boundingSphere.union(Dm)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Nm.geometry=this.geometry,Nm.material=this.material,Nm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dm.copy(this.boundingSphere),Dm.applyMatrix4(r),e.ray.intersectsSphere(Dm)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,bd),YC.multiplyMatrices(r,bd),Nm.matrixWorld=YC,Nm.raycast(e,n0);for(let a=0,l=n0.length;a<l;a++){const o=n0[a];o.instanceId=s,o.object=this,t.push(o)}n0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new vp(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function VX(n,e){return n.z-e.z}function WX(n,e){return e.z-n.z}class jX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Td="batchId",oc=new In,$C=new In,XX=new In,QC=new In,TS=new mv,r0=new eo,Pf=new Is,Um=new ge,AS=new jX,As=new Ni,i0=[];function qX(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class XI extends Ni{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Xn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Oc(t,e,e,cs,ko);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const l in e.attributes){const o=e.getAttribute(l),{array:u,itemSize:c,normalized:f}=o,p=new u.constructor(r*c),g=new o.constructor(p,c,f);g.setUsage(o.usage),t.setAttribute(l,g)}if(e.getIndex()!==null){const l=r>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new vr(l,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(Td,new vr(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Td))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Td}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===Td)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new eo);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,oc),this.getBoundingBoxAt(i,r0).applyMatrix4(oc),t.union(r0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,oc),this.getBoundingSphereAt(i,Pf).applyMatrix4(oc),t.union(Pf))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const a=this._reservedRanges,l=this._drawRanges,o=this._bounds;this._geometryCount!==0&&(s=a[a.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,g=this._matricesTexture,v=this._matricesTexture.image.data;f.push(!0),p.push(!0);const x=this._geometryCount;this._geometryCount++,XX.toArray(v,x*16),g.needsUpdate=!0,a.push(i),l.push({start:c?i.indexStart:i.vertexStart,count:-1}),o.push({boxInitialized:!1,box:new eo,sphereInitialized:!1,sphere:new Is});const S=this.geometry.getAttribute(Td);for(let _=0;_<i.vertexCount;_++)S.setX(i.vertexStart+_,x);return S.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=t.getIndex(),l=this._reservedRanges[e];if(i&&a.count>l.indexCount||t.attributes.position.count>l.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const o=l.vertexStart,u=l.vertexCount;for(const g in r.attributes){if(g===Td)continue;const v=t.getAttribute(g),x=r.getAttribute(g);qX(v,x,o);const S=v.itemSize;for(let _=v.count,w=u;_<w;_++){const E=o+_;for(let T=0;T<S;T++)x.setComponent(E,T,0)}x.needsUpdate=!0}if(i){const g=l.indexStart;for(let v=0;v<a.count;v++)s.setX(g+v,o+a.getX(v));for(let v=a.count,x=l.indexCount;v<x;v++)s.setX(g+v,o);s.needsUpdate=!0}const c=this._bounds[e];t.boundingBox!==null?(c.box.copy(t.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,t.boundingSphere!==null?(c.sphere.copy(t.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],p=t.getAttribute("position");return f.count=i?a.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,a=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const l=a.index,o=a.attributes.position,u=this._drawRanges[e];for(let c=u.start,f=u.start+u.count;c<f;c++){let p=c;l&&(p=l.getX(p)),s.expandByPoint(Um.fromBufferAttribute(o,p))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,r0),r0.getCenter(s.center);const l=a.index,o=a.attributes.position,u=this._drawRanges[e];let c=0;for(let f=u.start,p=u.start+u.count;f<p;f++){let g=f;l&&(g=l.getX(g)),Um.fromBufferAttribute(o,g),c=Math.max(c,s.center.distanceToSquared(Um))}s.radius=Math.sqrt(c),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(t.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,s=this._drawRanges,a=this._geometryCount,l=this.matrixWorld,o=this.geometry;As.material=this.material,As.geometry.index=o.index,As.geometry.attributes=o.attributes,As.geometry.boundingBox===null&&(As.geometry.boundingBox=new eo),As.geometry.boundingSphere===null&&(As.geometry.boundingSphere=new Is);for(let u=0;u<a;u++){if(!r[u]||!i[u])continue;const c=s[u];As.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(u,As.matrixWorld).premultiply(l),this.getBoundingBoxAt(u,As.geometry.boundingBox),this.getBoundingSphereAt(u,As.geometry.boundingSphere),As.raycast(e,i0);for(let f=0,p=i0.length;f<p;f++){const g=i0[f];g.object=this,g.batchId=u,t.push(g)}i0.length=0}As.material=null,As.geometry.index=null,As.geometry.attributes={},As.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),l=a===null?1:a.array.BYTES_PER_ELEMENT,o=this._active,u=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,p=this._drawRanges,g=this.perObjectFrustumCulled;g&&(QC.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),TS.setFromProjectionMatrix(QC,e.coordinateSystem));let v=0;if(this.sortObjects){$C.copy(this.matrixWorld).invert(),Um.setFromMatrixPosition(r.matrixWorld).applyMatrix4($C);for(let _=0,w=u.length;_<w;_++)if(u[_]&&o[_]){this.getMatrixAt(_,oc),this.getBoundingSphereAt(_,Pf).applyMatrix4(oc);let E=!1;if(g&&(E=!TS.intersectsSphere(Pf)),!E){const T=Um.distanceTo(Pf.center);AS.push(p[_],T)}}const x=AS.list,S=this.customSort;S===null?x.sort(s.transparent?WX:VX):S.call(this,x,r);for(let _=0,w=x.length;_<w;_++){const E=x[_];c[v]=E.start*l,f[v]=E.count,v++}AS.reset()}else for(let x=0,S=u.length;x<S;x++)if(u[x]&&o[x]){let _=!1;if(g&&(this.getMatrixAt(x,oc),this.getBoundingSphereAt(x,Pf).applyMatrix4(oc),_=!TS.intersectsSphere(Pf)),!_){const w=p[x];c[v]=w.start*l,f[v]=w.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class io extends $i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const JC=new ge,ZC=new ge,eR=new In,CS=new Tp,s0=new Is;class kc extends xr{constructor(e=new Xn,t=new io){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)JC.fromBufferAttribute(t,i-1),ZC.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=JC.distanceTo(ZC);e.setAttribute("lineDistance",new hn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),s0.copy(r.boundingSphere),s0.applyMatrix4(i),s0.radius+=s,e.ray.intersectsSphere(s0)===!1)return;eR.copy(i).invert(),CS.copy(e.ray).applyMatrix4(eR);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),o=l*l,u=new ge,c=new ge,f=new ge,p=new ge,g=this.isLineSegments?2:1,v=r.index,S=r.attributes.position;if(v!==null){const _=Math.max(0,a.start),w=Math.min(v.count,a.start+a.count);for(let E=_,T=w-1;E<T;E+=g){const L=v.getX(E),A=v.getX(E+1);if(u.fromBufferAttribute(S,L),c.fromBufferAttribute(S,A),CS.distanceSqToSegment(u,c,p,f)>o)continue;p.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(p);U<e.near||U>e.far||t.push({distance:U,point:f.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,a.start),w=Math.min(S.count,a.start+a.count);for(let E=_,T=w-1;E<T;E+=g){if(u.fromBufferAttribute(S,E),c.fromBufferAttribute(S,E+1),CS.distanceSqToSegment(u,c,p,f)>o)continue;p.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(p);A<e.near||A>e.far||t.push({distance:A,point:f.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}const tR=new ge,nR=new ge;class Ll extends kc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)tR.fromBufferAttribute(t,i),nR.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+tR.distanceTo(nR);e.setAttribute("lineDistance",new hn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class qI extends kc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class zb extends $i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const rR=new In,WE=new Tp,o0=new Is,a0=new ge;class YI extends xr{constructor(e=new Xn,t=new zb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),o0.copy(r.boundingSphere),o0.applyMatrix4(i),o0.radius+=s,e.ray.intersectsSphere(o0)===!1)return;rR.copy(i).invert(),WE.copy(e.ray).applyMatrix4(rR);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),o=l*l,u=r.index,f=r.attributes.position;if(u!==null){const p=Math.max(0,a.start),g=Math.min(u.count,a.start+a.count);for(let v=p,x=g;v<x;v++){const S=u.getX(v);a0.fromBufferAttribute(f,S),iR(a0,S,o,i,e,t,this)}}else{const p=Math.max(0,a.start),g=Math.min(f.count,a.start+a.count);for(let v=p,x=g;v<x;v++)a0.fromBufferAttribute(f,v),iR(a0,v,o,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function iR(n,e,t,r,i,s,a){const l=WE.distanceSqToPoint(n);if(l<t){const o=new ge;WE.closestPointToPoint(n,o),o.applyMatrix4(r);const u=i.ray.origin.distanceTo(o);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:o,index:e,face:null,object:a})}}class YX extends Di{constructor(e,t,r,i,s,a,l,o,u){super(e,t,r,i,s,a,l,o,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:kr,this.magFilter=s!==void 0?s:kr,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class KX extends Di{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Vr,this.minFilter=Vr,this.generateMipmaps=!1,this.needsUpdate=!0}}class bx extends Di{constructor(e,t,r,i,s,a,l,o,u,c,f,p){super(null,a,l,o,u,c,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class $X extends bx{constructor(e,t,r,i,s,a){super(e,t,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ls}}class QX extends bx{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,bu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class JX extends Di{constructor(e,t,r,i,s,a,l,o,u){super(e,t,r,i,s,a,l,o,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ka{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let a;t?a=t:a=e*r[s-1];let l=0,o=s-1,u;for(;l<=o;)if(i=Math.floor(l+(o-l)/2),u=r[i]-a,u<0)l=i+1;else if(u>0)o=i-1;else{o=i;break}if(i=o,r[i]===a)return i/(s-1);const c=r[i],p=r[i+1]-c,g=(a-c)/p;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),l=this.getPoint(s),o=t||(a.isVector2?new ft:new ge);return o.copy(l).sub(a).normalize(),o}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ge,i=[],s=[],a=[],l=new ge,o=new In;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new ge)}s[0]=new ge,a[0]=new ge;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],l),a[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),a[g]=a[g-1].clone(),l.crossVectors(i[g-1],i[g]),l.length()>Number.EPSILON){l.normalize();const v=Math.acos(_i(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(o.makeRotationAxis(l,v))}a[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(_i(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(o.makeRotationAxis(i[v],g*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Tx extends Ka{constructor(e=0,t=0,r=1,i=1,s=0,a=Math.PI*2,l=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=o}getPoint(e,t){const r=t||new ft,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let o=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=o-this.aX,g=u-this.aY;o=p*c-g*f+this.aX,u=p*f+g*c+this.aY}return r.set(o,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class KI extends Tx{constructor(e,t,r,i,s,a){super(e,t,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Hb(){let n=0,e=0,t=0,r=0;function i(s,a,l,o){n=s,e=l,t=-3*s+3*a-2*l-o,r=2*s-2*a+l+o}return{initCatmullRom:function(s,a,l,o,u){i(a,l,u*(l-s),u*(o-a))},initNonuniformCatmullRom:function(s,a,l,o,u,c,f){let p=(a-s)/u-(l-s)/(u+c)+(l-a)/c,g=(l-a)/c-(o-a)/(c+f)+(o-l)/f;p*=c,g*=c,i(a,l,p,g)},calc:function(s){const a=s*s,l=a*s;return n+e*s+t*a+r*l}}}const l0=new ge,RS=new Hb,PS=new Hb,LS=new Hb;class $I extends Ka{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ge){const r=t,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),o=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:o===0&&l===s-1&&(l=s-2,o=1);let u,c;this.closed||l>0?u=i[(l-1)%s]:(l0.subVectors(i[0],i[1]).add(i[0]),u=l0);const f=i[l%s],p=i[(l+1)%s];if(this.closed||l+2<s?c=i[(l+2)%s]:(l0.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=l0),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),g),x=Math.pow(f.distanceToSquared(p),g),S=Math.pow(p.distanceToSquared(c),g);x<1e-4&&(x=1),v<1e-4&&(v=x),S<1e-4&&(S=x),RS.initNonuniformCatmullRom(u.x,f.x,p.x,c.x,v,x,S),PS.initNonuniformCatmullRom(u.y,f.y,p.y,c.y,v,x,S),LS.initNonuniformCatmullRom(u.z,f.z,p.z,c.z,v,x,S)}else this.curveType==="catmullrom"&&(RS.initCatmullRom(u.x,f.x,p.x,c.x,this.tension),PS.initCatmullRom(u.y,f.y,p.y,c.y,this.tension),LS.initCatmullRom(u.z,f.z,p.z,c.z,this.tension));return r.set(RS.calc(o),PS.calc(o),LS.calc(o)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ge().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function sR(n,e,t,r,i){const s=(r-e)*.5,a=(i-t)*.5,l=n*n,o=n*l;return(2*t-2*r+s+a)*o+(-3*t+3*r-2*s-a)*l+s*n+t}function ZX(n,e){const t=1-n;return t*t*e}function eq(n,e){return 2*(1-n)*n*e}function tq(n,e){return n*n*e}function ag(n,e,t,r){return ZX(n,e)+eq(n,t)+tq(n,r)}function nq(n,e){const t=1-n;return t*t*t*e}function rq(n,e){const t=1-n;return 3*t*t*n*e}function iq(n,e){return 3*(1-n)*n*n*e}function sq(n,e){return n*n*n*e}function lg(n,e,t,r,i){return nq(n,e)+rq(n,t)+iq(n,r)+sq(n,i)}class Gb extends Ka{constructor(e=new ft,t=new ft,r=new ft,i=new ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ft){const r=t,i=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(lg(e,i.x,s.x,a.x,l.x),lg(e,i.y,s.y,a.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class QI extends Ka{constructor(e=new ge,t=new ge,r=new ge,i=new ge){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ge){const r=t,i=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(lg(e,i.x,s.x,a.x,l.x),lg(e,i.y,s.y,a.y,l.y),lg(e,i.z,s.z,a.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Vb extends Ka{constructor(e=new ft,t=new ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ft){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ft){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JI extends Ka{constructor(e=new ge,t=new ge){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ge){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Wb extends Ka{constructor(e=new ft,t=new ft,r=new ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ft){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(ag(e,i.x,s.x,a.x),ag(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jb extends Ka{constructor(e=new ge,t=new ge,r=new ge){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ge){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(ag(e,i.x,s.x,a.x),ag(e,i.y,s.y,a.y),ag(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xb extends Ka{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ft){const r=t,i=this.points,s=(i.length-1)*e,a=Math.floor(s),l=s-a,o=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(sR(l,o.x,u.x,c.x,f.x),sR(l,o.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ft().fromArray(i))}return this}}var k_=Object.freeze({__proto__:null,ArcCurve:KI,CatmullRomCurve3:$I,CubicBezierCurve:Gb,CubicBezierCurve3:QI,EllipseCurve:Tx,LineCurve:Vb,LineCurve3:JI,QuadraticBezierCurve:Wb,QuadraticBezierCurve3:jb,SplineCurve:Xb});class ZI extends Ka{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new k_[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,l=this.curves[s],o=l.getLength(),u=o===0?0:1-a/o;return l.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,o=a.getPoints(l);for(let u=0;u<o.length;u++){const c=o[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new k_[i.type]().fromJSON(i))}return this}}class Wg extends ZI{constructor(e){super(),this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Vb(this.currentPoint.clone(),new ft(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Wb(this.currentPoint.clone(),new ft(e,t),new ft(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,a){const l=new Gb(this.currentPoint.clone(),new ft(e,t),new ft(r,i),new ft(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Xb(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,a){const l=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+l,t+o,r,i,s,a),this}absarc(e,t,r,i,s,a){return this.absellipse(e,t,r,r,i,s,a),this}ellipse(e,t,r,i,s,a,l,o){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,a,l,o),this}absellipse(e,t,r,i,s,a,l,o){const u=new Tx(e,t,r,i,s,a,l,o);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vv extends Xn{constructor(e=[new ft(0,-.5),new ft(.5,0),new ft(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=_i(i,0,Math.PI*2);const s=[],a=[],l=[],o=[],u=[],c=1/t,f=new ge,p=new ft,g=new ge,v=new ge,x=new ge;let S=0,_=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:S=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,g.x=_*1,g.y=-S,g.z=_*0,x.copy(g),g.normalize(),o.push(g.x,g.y,g.z);break;case e.length-1:o.push(x.x,x.y,x.z);break;default:S=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,g.x=_*1,g.y=-S,g.z=_*0,v.copy(g),g.x+=x.x,g.y+=x.y,g.z+=x.z,g.normalize(),o.push(g.x,g.y,g.z),x.copy(v)}for(let w=0;w<=t;w++){const E=r+w*c*i,T=Math.sin(E),L=Math.cos(E);for(let A=0;A<=e.length-1;A++){f.x=e[A].x*T,f.y=e[A].y,f.z=e[A].x*L,a.push(f.x,f.y,f.z),p.x=w/t,p.y=A/(e.length-1),l.push(p.x,p.y);const O=o[3*A+0]*T,U=o[3*A+1],F=o[3*A+0]*L;u.push(O,U,F)}}for(let w=0;w<t;w++)for(let E=0;E<e.length-1;E++){const T=E+w*e.length,L=T,A=T+e.length,O=T+e.length+1,U=T+1;s.push(L,A,U),s.push(O,U,A)}this.setIndex(s),this.setAttribute("position",new hn(a,3)),this.setAttribute("uv",new hn(l,2)),this.setAttribute("normal",new hn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vv(e.points,e.segments,e.phiStart,e.phiLength)}}class Ax extends vv{constructor(e=1,t=1,r=4,i=8){const s=new Wg;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Ax(e.radius,e.length,e.capSegments,e.radialSegments)}}class Cx extends Xn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],a=[],l=[],o=[],u=new ge,c=new ft;a.push(0,0,0),l.push(0,0,1),o.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const g=r+f/t*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),a.push(u.x,u.y,u.z),l.push(0,0,1),c.x=(a[p]/e+1)/2,c.y=(a[p+1]/e+1)/2,o.push(c.x,c.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new hn(a,3)),this.setAttribute("normal",new hn(l,3)),this.setAttribute("uv",new hn(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pp extends Xn{constructor(e=1,t=1,r=1,i=32,s=1,a=!1,l=0,o=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:o};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],p=[],g=[];let v=0;const x=[],S=r/2;let _=0;w(),a===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(c),this.setAttribute("position",new hn(f,3)),this.setAttribute("normal",new hn(p,3)),this.setAttribute("uv",new hn(g,2));function w(){const T=new ge,L=new ge;let A=0;const O=(t-e)/r;for(let U=0;U<=s;U++){const F=[],P=U/s,N=P*(t-e)+e;for(let K=0;K<=i;K++){const $=K/i,j=$*o+l,le=Math.sin(j),re=Math.cos(j);L.x=N*le,L.y=-P*r+S,L.z=N*re,f.push(L.x,L.y,L.z),T.set(le,O,re).normalize(),p.push(T.x,T.y,T.z),g.push($,1-P),F.push(v++)}x.push(F)}for(let U=0;U<i;U++)for(let F=0;F<s;F++){const P=x[F][U],N=x[F+1][U],K=x[F+1][U+1],$=x[F][U+1];c.push(P,N,$),c.push(N,K,$),A+=6}u.addGroup(_,A,0),_+=A}function E(T){const L=v,A=new ft,O=new ge;let U=0;const F=T===!0?e:t,P=T===!0?1:-1;for(let K=1;K<=i;K++)f.push(0,S*P,0),p.push(0,P,0),g.push(.5,.5),v++;const N=v;for(let K=0;K<=i;K++){const j=K/i*o+l,le=Math.cos(j),re=Math.sin(j);O.x=F*re,O.y=S*P,O.z=F*le,f.push(O.x,O.y,O.z),p.push(0,P,0),A.x=le*.5+.5,A.y=re*.5*P+.5,g.push(A.x,A.y),v++}for(let K=0;K<i;K++){const $=L+K,j=N+K;T===!0?c.push(j,j+1,$):c.push(j+1,j,$),U+=3}u.addGroup(_,U,T===!0?1:2),_+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rx extends Pp{constructor(e=1,t=1,r=32,i=1,s=!1,a=0,l=Math.PI*2){super(0,e,t,r,i,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new Rx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qc extends Xn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],a=[];l(i),u(r),c(),this.setAttribute("position",new hn(s,3)),this.setAttribute("normal",new hn(s.slice(),3)),this.setAttribute("uv",new hn(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const E=new ge,T=new ge,L=new ge;for(let A=0;A<t.length;A+=3)g(t[A+0],E),g(t[A+1],T),g(t[A+2],L),o(E,T,L,w)}function o(w,E,T,L){const A=L+1,O=[];for(let U=0;U<=A;U++){O[U]=[];const F=w.clone().lerp(T,U/A),P=E.clone().lerp(T,U/A),N=A-U;for(let K=0;K<=N;K++)K===0&&U===A?O[U][K]=F:O[U][K]=F.clone().lerp(P,K/N)}for(let U=0;U<A;U++)for(let F=0;F<2*(A-U)-1;F++){const P=Math.floor(F/2);F%2===0?(p(O[U][P+1]),p(O[U+1][P]),p(O[U][P])):(p(O[U][P+1]),p(O[U+1][P+1]),p(O[U+1][P]))}}function u(w){const E=new ge;for(let T=0;T<s.length;T+=3)E.x=s[T+0],E.y=s[T+1],E.z=s[T+2],E.normalize().multiplyScalar(w),s[T+0]=E.x,s[T+1]=E.y,s[T+2]=E.z}function c(){const w=new ge;for(let E=0;E<s.length;E+=3){w.x=s[E+0],w.y=s[E+1],w.z=s[E+2];const T=S(w)/2/Math.PI+.5,L=_(w)/Math.PI+.5;a.push(T,1-L)}v(),f()}function f(){for(let w=0;w<a.length;w+=6){const E=a[w+0],T=a[w+2],L=a[w+4],A=Math.max(E,T,L),O=Math.min(E,T,L);A>.9&&O<.1&&(E<.2&&(a[w+0]+=1),T<.2&&(a[w+2]+=1),L<.2&&(a[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function g(w,E){const T=w*3;E.x=e[T+0],E.y=e[T+1],E.z=e[T+2]}function v(){const w=new ge,E=new ge,T=new ge,L=new ge,A=new ft,O=new ft,U=new ft;for(let F=0,P=0;F<s.length;F+=9,P+=6){w.set(s[F+0],s[F+1],s[F+2]),E.set(s[F+3],s[F+4],s[F+5]),T.set(s[F+6],s[F+7],s[F+8]),A.set(a[P+0],a[P+1]),O.set(a[P+2],a[P+3]),U.set(a[P+4],a[P+5]),L.copy(w).add(E).add(T).divideScalar(3);const N=S(L);x(A,P+0,w,N),x(O,P+2,E,N),x(U,P+4,T,N)}}function x(w,E,T,L){L<0&&w.x===1&&(a[E]=w.x-1),T.x===0&&T.z===0&&(a[E]=L/2/Math.PI+.5)}function S(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qc(e.vertices,e.indices,e.radius,e.details)}}class Px extends qc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Px(e.radius,e.detail)}}const u0=new ge,c0=new ge,OS=new ge,f0=new zo;class eN extends Xn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(ih*t),a=e.getIndex(),l=e.getAttribute("position"),o=a?a.count:l.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),p={},g=[];for(let v=0;v<o;v+=3){a?(u[0]=a.getX(v),u[1]=a.getX(v+1),u[2]=a.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:x,b:S,c:_}=f0;if(x.fromBufferAttribute(l,u[0]),S.fromBufferAttribute(l,u[1]),_.fromBufferAttribute(l,u[2]),f0.getNormal(OS),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,f[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const E=(w+1)%3,T=f[w],L=f[E],A=f0[c[w]],O=f0[c[E]],U=`${T}_${L}`,F=`${L}_${T}`;F in p&&p[F]?(OS.dot(p[F].normal)<=s&&(g.push(A.x,A.y,A.z),g.push(O.x,O.y,O.z)),p[F]=null):U in p||(p[U]={index0:u[w],index1:u[E],normal:OS.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:S}=p[v];u0.fromBufferAttribute(l,x),c0.fromBufferAttribute(l,S),g.push(u0.x,u0.y,u0.z),g.push(c0.x,c0.y,c0.z)}this.setAttribute("position",new hn(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ah extends Wg{constructor(e){super(e),this.uuid=Vo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Wg().fromJSON(i))}return this}}const oq={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=tN(n,0,i,t,!0);const a=[];if(!s||s.next===s.prev)return a;let l,o,u,c,f,p,g;if(r&&(s=fq(n,e,s,t)),n.length>80*t){l=u=n[0],o=c=n[1];for(let v=t;v<i;v+=t)f=n[v],p=n[v+1],f<l&&(l=f),p<o&&(o=p),f>u&&(u=f),p>c&&(c=p);g=Math.max(u-l,c-o),g=g!==0?32767/g:0}return jg(s,a,t,l,o,g,0),a}};function tN(n,e,t,r,i){let s,a;if(i===wq(n,e,t,r)>0)for(s=e;s<t;s+=r)a=oR(s,n[s],n[s+1],a);else for(s=t-r;s>=e;s-=r)a=oR(s,n[s],n[s+1],a);return a&&Lx(a,a.next)&&(qg(a),a=a.next),a}function vh(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Lx(t,t.next)||si(t.prev,t,t.next)===0)){if(qg(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function jg(n,e,t,r,i,s,a){if(!n)return;!a&&s&&gq(n,r,i,s);let l=n,o,u;for(;n.prev!==n.next;){if(o=n.prev,u=n.next,s?lq(n,r,i,s):aq(n)){e.push(o.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),qg(n),n=u.next,l=u.next;continue}if(n=u,n===l){a?a===1?(n=uq(vh(n),e,t),jg(n,e,t,r,i,s,2)):a===2&&cq(n,e,t,r,i,s):jg(vh(n),e,t,r,i,s,1);break}}}function aq(n){const e=n.prev,t=n,r=n.next;if(si(e,t,r)>=0)return!1;const i=e.x,s=t.x,a=r.x,l=e.y,o=t.y,u=r.y,c=i<s?i<a?i:a:s<a?s:a,f=l<o?l<u?l:u:o<u?o:u,p=i>s?i>a?i:a:s>a?s:a,g=l>o?l>u?l:u:o>u?o:u;let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=p&&v.y>=f&&v.y<=g&&Yd(i,l,s,o,a,u,v.x,v.y)&&si(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function lq(n,e,t,r){const i=n.prev,s=n,a=n.next;if(si(i,s,a)>=0)return!1;const l=i.x,o=s.x,u=a.x,c=i.y,f=s.y,p=a.y,g=l<o?l<u?l:u:o<u?o:u,v=c<f?c<p?c:p:f<p?f:p,x=l>o?l>u?l:u:o>u?o:u,S=c>f?c>p?c:p:f>p?f:p,_=jE(g,v,e,t,r),w=jE(x,S,e,t,r);let E=n.prevZ,T=n.nextZ;for(;E&&E.z>=_&&T&&T.z<=w;){if(E.x>=g&&E.x<=x&&E.y>=v&&E.y<=S&&E!==i&&E!==a&&Yd(l,c,o,f,u,p,E.x,E.y)&&si(E.prev,E,E.next)>=0||(E=E.prevZ,T.x>=g&&T.x<=x&&T.y>=v&&T.y<=S&&T!==i&&T!==a&&Yd(l,c,o,f,u,p,T.x,T.y)&&si(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;E&&E.z>=_;){if(E.x>=g&&E.x<=x&&E.y>=v&&E.y<=S&&E!==i&&E!==a&&Yd(l,c,o,f,u,p,E.x,E.y)&&si(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;T&&T.z<=w;){if(T.x>=g&&T.x<=x&&T.y>=v&&T.y<=S&&T!==i&&T!==a&&Yd(l,c,o,f,u,p,T.x,T.y)&&si(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function uq(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Lx(i,s)&&nN(i,r,r.next,s)&&Xg(i,s)&&Xg(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),qg(r),qg(r.next),r=n=s),r=r.next}while(r!==n);return vh(r)}function cq(n,e,t,r,i,s){let a=n;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&_q(a,l)){let o=rN(a,l);a=vh(a,a.next),o=vh(o,o.next),jg(a,e,t,r,i,s,0),jg(o,e,t,r,i,s,0);return}l=l.next}a=a.next}while(a!==n)}function fq(n,e,t,r){const i=[];let s,a,l,o,u;for(s=0,a=e.length;s<a;s++)l=e[s]*r,o=s<a-1?e[s+1]*r:n.length,u=tN(n,l,o,r,!1),u===u.next&&(u.steiner=!0),i.push(yq(u));for(i.sort(hq),s=0;s<i.length;s++)t=dq(i[s],t);return t}function hq(n,e){return n.x-e.x}function dq(n,e){const t=pq(n,e);if(!t)return e;const r=rN(t,n);return vh(r,r.next),vh(t,t.next)}function pq(n,e){let t=e,r=-1/0,i;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const p=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const l=i,o=i.x,u=i.y;let c=1/0,f;t=i;do s>=t.x&&t.x>=o&&s!==t.x&&Yd(a<u?s:r,a,o,u,a<u?r:s,a,t.x,t.y)&&(f=Math.abs(a-t.y)/(s-t.x),Xg(t,n)&&(f<c||f===c&&(t.x>i.x||t.x===i.x&&mq(i,t)))&&(i=t,c=f)),t=t.next;while(t!==l);return i}function mq(n,e){return si(n.prev,n,e.prev)<0&&si(e.next,n,n.next)<0}function gq(n,e,t,r){let i=n;do i.z===0&&(i.z=jE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,vq(i)}function vq(n){let e,t,r,i,s,a,l,o,u=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,r=t,l=0,e=0;e<u&&(l++,r=r.nextZ,!!r);e++);for(o=u;l>0||o>0&&r;)l!==0&&(o===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,l--):(i=r,r=r.nextZ,o--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(a>1);return n}function jE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yq(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Yd(n,e,t,r,i,s,a,l){return(i-a)*(e-l)>=(n-a)*(s-l)&&(n-a)*(r-l)>=(t-a)*(e-l)&&(t-a)*(s-l)>=(i-a)*(r-l)}function _q(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xq(n,e)&&(Xg(n,e)&&Xg(e,n)&&Sq(n,e)&&(si(n.prev,n,e.prev)||si(n,e.prev,e))||Lx(n,e)&&si(n.prev,n,n.next)>0&&si(e.prev,e,e.next)>0)}function si(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Lx(n,e){return n.x===e.x&&n.y===e.y}function nN(n,e,t,r){const i=d0(si(n,e,t)),s=d0(si(n,e,r)),a=d0(si(t,r,n)),l=d0(si(t,r,e));return!!(i!==s&&a!==l||i===0&&h0(n,t,e)||s===0&&h0(n,r,e)||a===0&&h0(t,n,r)||l===0&&h0(t,e,r))}function h0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function d0(n){return n>0?1:n<0?-1:0}function xq(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&nN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Xg(n,e){return si(n.prev,n,n.next)<0?si(n,e,n.next)>=0&&si(n,n.prev,e)>=0:si(n,e,n.prev)<0||si(n,n.next,e)<0}function Sq(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function rN(n,e){const t=new XE(n.i,n.x,n.y),r=new XE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function oR(n,e,t,r){const i=new XE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function XE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function wq(n,e,t,r){let i=0;for(let s=e,a=t-r;s<t;s+=r)i+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return i}class Cl{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Cl.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];aR(e),lR(r,e);let a=e.length;t.forEach(aR);for(let o=0;o<t.length;o++)i.push(a),a+=t[o].length,lR(r,t[o]);const l=oq.triangulate(r,i);for(let o=0;o<l.length;o+=3)s.push(l.slice(o,o+3));return s}}function aR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function lR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ox extends Xn{constructor(e=new ah([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let l=0,o=e.length;l<o;l++){const u=e[l];a(u)}this.setAttribute("position",new hn(i,3)),this.setAttribute("uv",new hn(s,2)),this.computeVertexNormals();function a(l){const o=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:Eq;let E,T=!1,L,A,O,U;_&&(E=_.getSpacedPoints(c),T=!0,p=!1,L=_.computeFrenetFrames(c,!1),A=new ge,O=new ge,U=new ge),p||(S=0,g=0,v=0,x=0);const F=l.extractPoints(u);let P=F.shape;const N=F.holes;if(!Cl.isClockWise(P)){P=P.reverse();for(let Q=0,He=N.length;Q<He;Q++){const Pe=N[Q];Cl.isClockWise(Pe)&&(N[Q]=Pe.reverse())}}const $=Cl.triangulateShape(P,N),j=P;for(let Q=0,He=N.length;Q<He;Q++){const Pe=N[Q];P=P.concat(Pe)}function le(Q,He,Pe){return He||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().addScaledVector(He,Pe)}const re=P.length,W=$.length;function G(Q,He,Pe){let Je,Ye,mt;const gt=Q.x-He.x,ne=Q.y-He.y,Y=Pe.x-Q.x,Ie=Pe.y-Q.y,st=gt*gt+ne*ne,ot=gt*Ie-ne*Y;if(Math.abs(ot)>Number.EPSILON){const be=Math.sqrt(st),pe=Math.sqrt(Y*Y+Ie*Ie),Ge=He.x-ne/be,Fe=He.y+gt/be,nt=Pe.x-Ie/pe,Ce=Pe.y+Y/pe,De=((nt-Ge)*Ie-(Ce-Fe)*Y)/(gt*Ie-ne*Y);Je=Ge+gt*De-Q.x,Ye=Fe+ne*De-Q.y;const Ut=Je*Je+Ye*Ye;if(Ut<=2)return new ft(Je,Ye);mt=Math.sqrt(Ut/2)}else{let be=!1;gt>Number.EPSILON?Y>Number.EPSILON&&(be=!0):gt<-Number.EPSILON?Y<-Number.EPSILON&&(be=!0):Math.sign(ne)===Math.sign(Ie)&&(be=!0),be?(Je=-ne,Ye=gt,mt=Math.sqrt(st)):(Je=gt,Ye=ne,mt=Math.sqrt(st/2))}return new ft(Je/mt,Ye/mt)}const V=[];for(let Q=0,He=j.length,Pe=He-1,Je=Q+1;Q<He;Q++,Pe++,Je++)Pe===He&&(Pe=0),Je===He&&(Je=0),V[Q]=G(j[Q],j[Pe],j[Je]);const k=[];let ie,te=V.concat();for(let Q=0,He=N.length;Q<He;Q++){const Pe=N[Q];ie=[];for(let Je=0,Ye=Pe.length,mt=Ye-1,gt=Je+1;Je<Ye;Je++,mt++,gt++)mt===Ye&&(mt=0),gt===Ye&&(gt=0),ie[Je]=G(Pe[Je],Pe[mt],Pe[gt]);k.push(ie),te=te.concat(ie)}for(let Q=0;Q<S;Q++){const He=Q/S,Pe=g*Math.cos(He*Math.PI/2),Je=v*Math.sin(He*Math.PI/2)+x;for(let Ye=0,mt=j.length;Ye<mt;Ye++){const gt=le(j[Ye],V[Ye],Je);he(gt.x,gt.y,-Pe)}for(let Ye=0,mt=N.length;Ye<mt;Ye++){const gt=N[Ye];ie=k[Ye];for(let ne=0,Y=gt.length;ne<Y;ne++){const Ie=le(gt[ne],ie[ne],Je);he(Ie.x,Ie.y,-Pe)}}}const se=v+x;for(let Q=0;Q<re;Q++){const He=p?le(P[Q],te[Q],se):P[Q];T?(O.copy(L.normals[0]).multiplyScalar(He.x),A.copy(L.binormals[0]).multiplyScalar(He.y),U.copy(E[0]).add(O).add(A),he(U.x,U.y,U.z)):he(He.x,He.y,0)}for(let Q=1;Q<=c;Q++)for(let He=0;He<re;He++){const Pe=p?le(P[He],te[He],se):P[He];T?(O.copy(L.normals[Q]).multiplyScalar(Pe.x),A.copy(L.binormals[Q]).multiplyScalar(Pe.y),U.copy(E[Q]).add(O).add(A),he(U.x,U.y,U.z)):he(Pe.x,Pe.y,f/c*Q)}for(let Q=S-1;Q>=0;Q--){const He=Q/S,Pe=g*Math.cos(He*Math.PI/2),Je=v*Math.sin(He*Math.PI/2)+x;for(let Ye=0,mt=j.length;Ye<mt;Ye++){const gt=le(j[Ye],V[Ye],Je);he(gt.x,gt.y,f+Pe)}for(let Ye=0,mt=N.length;Ye<mt;Ye++){const gt=N[Ye];ie=k[Ye];for(let ne=0,Y=gt.length;ne<Y;ne++){const Ie=le(gt[ne],ie[ne],Je);T?he(Ie.x,Ie.y+E[c-1].y,E[c-1].x+Pe):he(Ie.x,Ie.y,f+Pe)}}}oe(),ve();function oe(){const Q=i.length/3;if(p){let He=0,Pe=re*He;for(let Je=0;Je<W;Je++){const Ye=$[Je];Ue(Ye[2]+Pe,Ye[1]+Pe,Ye[0]+Pe)}He=c+S*2,Pe=re*He;for(let Je=0;Je<W;Je++){const Ye=$[Je];Ue(Ye[0]+Pe,Ye[1]+Pe,Ye[2]+Pe)}}else{for(let He=0;He<W;He++){const Pe=$[He];Ue(Pe[2],Pe[1],Pe[0])}for(let He=0;He<W;He++){const Pe=$[He];Ue(Pe[0]+re*c,Pe[1]+re*c,Pe[2]+re*c)}}r.addGroup(Q,i.length/3-Q,0)}function ve(){const Q=i.length/3;let He=0;xe(j,He),He+=j.length;for(let Pe=0,Je=N.length;Pe<Je;Pe++){const Ye=N[Pe];xe(Ye,He),He+=Ye.length}r.addGroup(Q,i.length/3-Q,1)}function xe(Q,He){let Pe=Q.length;for(;--Pe>=0;){const Je=Pe;let Ye=Pe-1;Ye<0&&(Ye=Q.length-1);for(let mt=0,gt=c+S*2;mt<gt;mt++){const ne=re*mt,Y=re*(mt+1),Ie=He+Je+ne,st=He+Ye+ne,ot=He+Ye+Y,be=He+Je+Y;ke(Ie,st,ot,be)}}}function he(Q,He,Pe){o.push(Q),o.push(He),o.push(Pe)}function Ue(Q,He,Pe){Qe(Q),Qe(He),Qe(Pe);const Je=i.length/3,Ye=w.generateTopUV(r,i,Je-3,Je-2,Je-1);Le(Ye[0]),Le(Ye[1]),Le(Ye[2])}function ke(Q,He,Pe,Je){Qe(Q),Qe(He),Qe(Je),Qe(He),Qe(Pe),Qe(Je);const Ye=i.length/3,mt=w.generateSideWallUV(r,i,Ye-6,Ye-3,Ye-2,Ye-1);Le(mt[0]),Le(mt[1]),Le(mt[3]),Le(mt[1]),Le(mt[2]),Le(mt[3])}function Qe(Q){i.push(o[Q*3+0]),i.push(o[Q*3+1]),i.push(o[Q*3+2])}function Le(Q){s.push(Q.x),s.push(Q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Mq(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=t[e.shapes[s]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new k_[i.type]().fromJSON(i)),new Ox(r,e.options)}}const Eq={generateTopUV:function(n,e,t,r,i){const s=e[t*3],a=e[t*3+1],l=e[r*3],o=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ft(s,a),new ft(l,o),new ft(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const a=e[t*3],l=e[t*3+1],o=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],p=e[i*3],g=e[i*3+1],v=e[i*3+2],x=e[s*3],S=e[s*3+1],_=e[s*3+2];return Math.abs(l-c)<Math.abs(a-u)?[new ft(a,1-o),new ft(u,1-f),new ft(p,1-v),new ft(x,1-_)]:[new ft(l,1-o),new ft(c,1-f),new ft(g,1-v),new ft(S,1-_)]}};function Mq(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ix extends qc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ix(e.radius,e.detail)}}class yv extends qc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yv(e.radius,e.detail)}}class Nx extends Xn{constructor(e=.5,t=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const l=[],o=[],u=[],c=[];let f=e;const p=(t-e)/i,g=new ge,v=new ft;for(let x=0;x<=i;x++){for(let S=0;S<=r;S++){const _=s+S/r*a;g.x=f*Math.cos(_),g.y=f*Math.sin(_),o.push(g.x,g.y,g.z),u.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,c.push(v.x,v.y)}f+=p}for(let x=0;x<i;x++){const S=x*(r+1);for(let _=0;_<r;_++){const w=_+S,E=w,T=w+r+1,L=w+r+2,A=w+1;l.push(E,T,A),l.push(T,L,A)}}this.setIndex(l),this.setAttribute("position",new hn(o,3)),this.setAttribute("normal",new hn(u,3)),this.setAttribute("uv",new hn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Dx extends Xn{constructor(e=new ah([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],a=[];let l=0,o=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(l,o,c),l+=o,o=0;this.setIndex(r),this.setAttribute("position",new hn(i,3)),this.setAttribute("normal",new hn(s,3)),this.setAttribute("uv",new hn(a,2));function u(c){const f=i.length/3,p=c.extractPoints(t);let g=p.shape;const v=p.holes;Cl.isClockWise(g)===!1&&(g=g.reverse());for(let S=0,_=v.length;S<_;S++){const w=v[S];Cl.isClockWise(w)===!0&&(v[S]=w.reverse())}const x=Cl.triangulateShape(g,v);for(let S=0,_=v.length;S<_;S++){const w=v[S];g=g.concat(w)}for(let S=0,_=g.length;S<_;S++){const w=g[S];i.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let S=0,_=x.length;S<_;S++){const w=x[S],E=w[0]+f,T=w[1]+f,L=w[2]+f;r.push(E,T,L),o+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return bq(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=t[e.shapes[i]];r.push(a)}return new Dx(r,e.curveSegments)}}function bq(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class _v extends Xn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const o=Math.min(a+l,Math.PI);let u=0;const c=[],f=new ge,p=new ge,g=[],v=[],x=[],S=[];for(let _=0;_<=r;_++){const w=[],E=_/r;let T=0;_===0&&a===0?T=.5/t:_===r&&o===Math.PI&&(T=-.5/t);for(let L=0;L<=t;L++){const A=L/t;f.x=-e*Math.cos(i+A*s)*Math.sin(a+E*l),f.y=e*Math.cos(a+E*l),f.z=e*Math.sin(i+A*s)*Math.sin(a+E*l),v.push(f.x,f.y,f.z),p.copy(f).normalize(),x.push(p.x,p.y,p.z),S.push(A+T,1-E),w.push(u++)}c.push(w)}for(let _=0;_<r;_++)for(let w=0;w<t;w++){const E=c[_][w+1],T=c[_][w],L=c[_+1][w],A=c[_+1][w+1];(_!==0||a>0)&&g.push(E,T,A),(_!==r-1||o<Math.PI)&&g.push(T,L,A)}this.setIndex(g),this.setAttribute("position",new hn(v,3)),this.setAttribute("normal",new hn(x,3)),this.setAttribute("uv",new hn(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _v(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ux extends qc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ux(e.radius,e.detail)}}class Fx extends Xn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],o=[],u=[],c=new ge,f=new ge,p=new ge;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const x=v/i*s,S=g/r*Math.PI*2;f.x=(e+t*Math.cos(S))*Math.cos(x),f.y=(e+t*Math.cos(S))*Math.sin(x),f.z=t*Math.sin(S),l.push(f.x,f.y,f.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),p.subVectors(f,c).normalize(),o.push(p.x,p.y,p.z),u.push(v/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const x=(i+1)*g+v-1,S=(i+1)*(g-1)+v-1,_=(i+1)*(g-1)+v,w=(i+1)*g+v;a.push(x,S,w),a.push(S,_,w)}this.setIndex(a),this.setAttribute("position",new hn(l,3)),this.setAttribute("normal",new hn(o,3)),this.setAttribute("uv",new hn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Bx extends Xn{constructor(e=1,t=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const l=[],o=[],u=[],c=[],f=new ge,p=new ge,g=new ge,v=new ge,x=new ge,S=new ge,_=new ge;for(let E=0;E<=r;++E){const T=E/r*s*Math.PI*2;w(T,s,a,e,g),w(T+.01,s,a,e,v),S.subVectors(v,g),_.addVectors(v,g),x.crossVectors(S,_),_.crossVectors(x,S),x.normalize(),_.normalize();for(let L=0;L<=i;++L){const A=L/i*Math.PI*2,O=-t*Math.cos(A),U=t*Math.sin(A);f.x=g.x+(O*_.x+U*x.x),f.y=g.y+(O*_.y+U*x.y),f.z=g.z+(O*_.z+U*x.z),o.push(f.x,f.y,f.z),p.subVectors(f,g).normalize(),u.push(p.x,p.y,p.z),c.push(E/r),c.push(L/i)}}for(let E=1;E<=r;E++)for(let T=1;T<=i;T++){const L=(i+1)*(E-1)+(T-1),A=(i+1)*E+(T-1),O=(i+1)*E+T,U=(i+1)*(E-1)+T;l.push(L,A,U),l.push(A,O,U)}this.setIndex(l),this.setAttribute("position",new hn(o,3)),this.setAttribute("normal",new hn(u,3)),this.setAttribute("uv",new hn(c,2));function w(E,T,L,A,O){const U=Math.cos(E),F=Math.sin(E),P=L/T*E,N=Math.cos(P);O.x=A*(2+N)*.5*U,O.y=A*(2+N)*F*.5,O.z=A*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class kx extends Xn{constructor(e=new jb(new ge(-1,-1,0),new ge(-1,1,0),new ge(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new ge,o=new ge,u=new ft;let c=new ge;const f=[],p=[],g=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new hn(f,3)),this.setAttribute("normal",new hn(p,3)),this.setAttribute("uv",new hn(g,2));function x(){for(let E=0;E<t;E++)S(E);S(s===!1?t:0),w(),_()}function S(E){c=e.getPointAt(E/t,c);const T=a.normals[E],L=a.binormals[E];for(let A=0;A<=i;A++){const O=A/i*Math.PI*2,U=Math.sin(O),F=-Math.cos(O);o.x=F*T.x+U*L.x,o.y=F*T.y+U*L.y,o.z=F*T.z+U*L.z,o.normalize(),p.push(o.x,o.y,o.z),l.x=c.x+r*o.x,l.y=c.y+r*o.y,l.z=c.z+r*o.z,f.push(l.x,l.y,l.z)}}function _(){for(let E=1;E<=t;E++)for(let T=1;T<=i;T++){const L=(i+1)*(E-1)+(T-1),A=(i+1)*E+(T-1),O=(i+1)*E+T,U=(i+1)*(E-1)+T;v.push(L,A,U),v.push(A,O,U)}}function w(){for(let E=0;E<=t;E++)for(let T=0;T<=i;T++)u.x=E/t,u.y=T/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new kx(new k_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class iN extends Xn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ge,s=new ge;if(e.index!==null){const a=e.attributes.position,l=e.index;let o=e.groups;o.length===0&&(o=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,c=o.length;u<c;++u){const f=o[u],p=f.start,g=f.count;for(let v=p,x=p+g;v<x;v+=3)for(let S=0;S<3;S++){const _=l.getX(v+S),w=l.getX(v+(S+1)%3);i.fromBufferAttribute(a,_),s.fromBufferAttribute(a,w),uR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let l=0,o=a.count/3;l<o;l++)for(let u=0;u<3;u++){const c=3*l+u,f=3*l+(u+1)%3;i.fromBufferAttribute(a,c),s.fromBufferAttribute(a,f),uR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new hn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function uR(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var cR=Object.freeze({__proto__:null,BoxGeometry:Mh,CapsuleGeometry:Ax,CircleGeometry:Cx,ConeGeometry:Rx,CylinderGeometry:Pp,DodecahedronGeometry:Px,EdgesGeometry:eN,ExtrudeGeometry:Ox,IcosahedronGeometry:Ix,LatheGeometry:vv,OctahedronGeometry:yv,PlaneGeometry:Cp,PolyhedronGeometry:qc,RingGeometry:Nx,ShapeGeometry:Dx,SphereGeometry:_v,TetrahedronGeometry:Ux,TorusGeometry:Fx,TorusKnotGeometry:Bx,TubeGeometry:kx,WireframeGeometry:iN});class sN extends $i{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new $t(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class oN extends to{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qb extends $i{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jc,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aN extends qb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return _i(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new $t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class lN extends $i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new $t(16777215),this.specular=new $t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jc,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uN extends $i{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new $t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jc,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Yb extends $i{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jc,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class cN extends $i{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jc,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fN extends $i{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new $t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jc,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hN extends io{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Jf(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function dN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function pN(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function qE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,a=0;a!==r;++s){const l=t[s]*e;for(let o=0;o!==e;++o)i[a++]=n[l+o]}return i}function Kb(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),t.push(a)),s=n[i++];while(s!==void 0)}function Tq(n,e,t,r,i=30){const s=n.clone();s.name=e;const a=[];for(let o=0;o<s.tracks.length;++o){const u=s.tracks[o],c=u.getValueSize(),f=[],p=[];for(let g=0;g<u.times.length;++g){const v=u.times[g]*i;if(!(v<t||v>=r)){f.push(u.times[g]);for(let x=0;x<c;++x)p.push(u.values[g*c+x])}}f.length!==0&&(u.times=Jf(f,u.times.constructor),u.values=Jf(p,u.values.constructor),a.push(u))}s.tracks=a;let l=1/0;for(let o=0;o<s.tracks.length;++o)l>s.tracks[o].times[0]&&(l=s.tracks[o].times[0]);for(let o=0;o<s.tracks.length;++o)s.tracks[o].shift(-1*l);return s.resetDuration(),s}function Aq(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let a=0;a<i;++a){const l=t.tracks[a],o=l.ValueTypeName;if(o==="bool"||o==="string")continue;const u=n.tracks.find(function(_){return _.name===l.name&&_.ValueTypeName===o});if(u===void 0)continue;let c=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const v=l.times.length-1;let x;if(s<=l.times[0]){const _=c,w=f-c;x=l.values.slice(_,w)}else if(s>=l.times[v]){const _=v*f+c,w=_+f-c;x=l.values.slice(_,w)}else{const _=l.createInterpolant(),w=c,E=f-c;_.evaluate(s),x=_.resultBuffer.slice(w,E)}o==="quaternion"&&new Eo().fromArray(x).normalize().conjugate().toArray(x);const S=u.times.length;for(let _=0;_<S;++_){const w=_*g+p;if(o==="quaternion")Eo.multiplyQuaternionsFlat(u.values,w,x,0,u.values,w);else{const E=g-p*2;for(let T=0;T<E;++T)u.values[w+T]-=x[T]}}}return n.blendMode=Tb,n}const Cq={convertArray:Jf,isTypedArray:dN,getKeyframeOrder:pN,sortedArray:qE,flattenJSON:Kb,subclip:Tq,makeClipAdditive:Aq};class xv{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(s=i,i=t[++r],e<i)break t}a=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(r=2,s=l);for(let o=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===o)break;if(i=s,s=t[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const l=r+a>>>1;e<t[l]?a=l:r=l+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)t[a]=r[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mN extends xv{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Kf,endingEnd:Kf}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,a=e+1,l=i[s],o=i[a];if(l===void 0)switch(this.getSettings_().endingStart){case $f:s=e,l=2*t-r;break;case Fg:s=i.length-2,l=t+i[s]-i[s+1];break;default:s=e,l=r}if(o===void 0)switch(this.getSettings_().endingEnd){case $f:a=e,o=2*r-t;break;case Fg:a=1,o=r+i[1]-i[0];break;default:a=e-1,o=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-l),this._weightNext=u/(o-r),this._offsetPrev=s*c,this._offsetNext=a*c}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,o=e*l,u=o-l,c=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,g=this._weightNext,v=(r-t)/(i-t),x=v*v,S=x*v,_=-p*S+2*p*x-p*v,w=(1+p)*S+(-1.5-2*p)*x+(-.5+p)*v+1,E=(-1-g)*S+(1.5+g)*x+.5*v,T=g*S-g*x;for(let L=0;L!==l;++L)s[L]=_*a[c+L]+w*a[u+L]+E*a[o+L]+T*a[f+L];return s}}class $b extends xv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,o=e*l,u=o-l,c=(r-t)/(i-t),f=1-c;for(let p=0;p!==l;++p)s[p]=a[u+p]*f+a[o+p]*c;return s}}class gN extends xv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class $a{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Jf(t,this.TimeBufferType),this.values=Jf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Jf(e.times,Array),values:Jf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new gN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $b(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Dg:t=this.InterpolantFactoryMethodDiscrete;break;case Ug:t=this.InterpolantFactoryMethodLinear;break;case K0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Dg;case this.InterpolantFactoryMethodLinear:return Ug;case this.InterpolantFactoryMethodSmooth:return K0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>t;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const o=r[l];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,o),e=!1;break}if(a!==null&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,o,a),e=!1;break}a=o}if(i!==void 0&&dN(i))for(let l=0,o=i.length;l!==o;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===K0,s=e.length-1;let a=1;for(let l=1;l<s;++l){let o=!1;const u=e[l],c=e[l+1];if(u!==c&&(l!==1||u!==e[0]))if(i)o=!0;else{const f=l*r,p=f-r,g=f+r;for(let v=0;v!==r;++v){const x=t[f+v];if(x!==t[p+v]||x!==t[g+v]){o=!0;break}}}if(o){if(l!==a){e[a]=e[l];const f=l*r,p=a*r;for(let g=0;g!==r;++g)t[p+g]=t[f+g]}++a}}if(s>0){e[a]=e[s];for(let l=s*r,o=a*r,u=0;u!==r;++u)t[o+u]=t[l+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}$a.prototype.TimeBufferType=Float32Array;$a.prototype.ValueBufferType=Float32Array;$a.prototype.DefaultInterpolation=Ug;class bh extends $a{}bh.prototype.ValueTypeName="bool";bh.prototype.ValueBufferType=Array;bh.prototype.DefaultInterpolation=Dg;bh.prototype.InterpolantFactoryMethodLinear=void 0;bh.prototype.InterpolantFactoryMethodSmooth=void 0;class Qb extends $a{}Qb.prototype.ValueTypeName="color";class Yg extends $a{}Yg.prototype.ValueTypeName="number";class vN extends xv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,o=(r-t)/(i-t);let u=e*l;for(let c=u+l;u!==c;u+=4)Eo.slerpFlat(s,0,a,u-l,a,u,o);return s}}class Lp extends $a{InterpolantFactoryMethodLinear(e){return new vN(this.times,this.values,this.getValueSize(),e)}}Lp.prototype.ValueTypeName="quaternion";Lp.prototype.DefaultInterpolation=Ug;Lp.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends $a{}Th.prototype.ValueTypeName="string";Th.prototype.ValueBufferType=Array;Th.prototype.DefaultInterpolation=Dg;Th.prototype.InterpolantFactoryMethodLinear=void 0;Th.prototype.InterpolantFactoryMethodSmooth=void 0;class Kg extends $a{}Kg.prototype.ValueTypeName="vector";class $g{constructor(e,t=-1,r,i=gx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Vo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,l=r.length;a!==l;++a)t.push(Pq(r[a]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)t.push($a.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,a=[];for(let l=0;l<s;l++){let o=[],u=[];o.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const c=pN(o);o=qE(o,1,c),u=qE(u,1,c),!i&&o[0]===0&&(o.push(s),u.push(u[0])),a.push(new Yg(".morphTargetInfluences["+t[l].name+"]",o,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,o=e.length;l<o;l++){const u=e[l],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const a=[];for(const l in i)a.push(this.CreateFromMorphTargetSequence(l,i[l],t,r));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,g,v,x){if(g.length!==0){const S=[],_=[];Kb(g,S,_,v),S.length!==0&&x.push(new f(p,S,_))}},i=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let o=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)g[p[v].morphTargets[x]]=-1;for(const x in g){const S=[],_=[];for(let w=0;w!==p[v].morphTargets.length;++w){const E=p[v];S.push(E.time),_.push(E.morphTarget===x?1:0)}i.push(new Yg(".morphTargetInfluence["+x+"]",S,_))}o=g.length*a}else{const g=".bones["+t[f].name+"]";r(Kg,g+".position",p,"pos",i),r(Lp,g+".quaternion",p,"rot",i),r(Kg,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,o,i,l)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Rq(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yg;case"vector":case"vector2":case"vector3":case"vector4":return Kg;case"color":return Qb;case"quaternion":return Lp;case"bool":case"boolean":return bh;case"string":return Th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Pq(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Rq(n.type);if(n.times===void 0){const t=[],r=[];Kb(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const mu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};let Jb=class{constructor(e,t,r){const i=this;let s=!1,a=0,l=0,o;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){l++,s===!1&&i.onStart!==void 0&&i.onStart(c,a,l),s=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,l),a===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return o?o(c):c},this.setURLModifier=function(c){return o=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,p=u.length;f<p;f+=2){const g=u[f],v=u[f+1];if(g.global&&(g.lastIndex=0),g.test(c))return v}return null}}};const yN=new Jb;let Mo=class{constructor(e){this.manager=e!==void 0?e:yN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Mo.DEFAULT_MATERIAL_NAME="__DEFAULT";const lu={};class Lq extends Error{constructor(e,t){super(e),this.response=t}}class Tu extends Mo{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=mu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(lu[e]!==void 0){lu[e].push({onLoad:t,onProgress:r,onError:i});return}lu[e]=[],lu[e].push({onLoad:t,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,o=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=lu[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),g=p?parseInt(p):0,v=g!==0;let x=0;const S=new ReadableStream({start(_){w();function w(){f.read().then(({done:E,value:T})=>{if(E)_.close();else{x+=T.byteLength;const L=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:g});for(let A=0,O=c.length;A<O;A++){const U=c[A];U.onProgress&&U.onProgress(L)}_.enqueue(T),w()}})}}});return new Response(S)}else throw new Lq(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(o){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,l));case"json":return u.json();default:if(l===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),p=f&&f[1]?f[1].toLowerCase():void 0,g=new TextDecoder(p);return u.arrayBuffer().then(v=>g.decode(v))}}}).then(u=>{mu.add(e,u);const c=lu[e];delete lu[e];for(let f=0,p=c.length;f<p;f++){const g=c[f];g.onLoad&&g.onLoad(u)}}).catch(u=>{const c=lu[e];if(c===void 0)throw this.manager.itemError(e),u;delete lu[e];for(let f=0,p=c.length;f<p;f++){const g=c[f];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Oq extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Tu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=$g.parse(e[r]);t.push(i)}return t}}class Iq extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=[],l=new bx,o=new Tu(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials);let u=0;function c(f){o.load(e[f],function(p){const g=s.parse(p,!0);a[f]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(l.minFilter=kr),l.image=a,l.format=g.format,l.needsUpdate=!0,t&&t(l))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)c(f);else o.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let v=0;v<g;v++){a[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)a[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),a[v].format=p.format,a[v].width=p.width,a[v].height=p.height}l.image=a}else l.image.width=p.width,l.image.height=p.height,l.mipmaps=p.mipmaps;p.mipmapCount===1&&(l.minFilter=kr),l.format=p.format,l.needsUpdate=!0,t&&t(l)},r,i);return l}}let Qg=class extends Mo{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=mu.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=Vg("img");function o(){c(),mu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){l.removeEventListener("load",o,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",o,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}};class Nq extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=new pv;s.colorSpace=Dr;const a=new Qg(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function o(u){a.load(e[u],function(c){s.images[u]=c,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)o(u);return s}}class Dq extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Oc,l=new Tu(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(o){let u;try{u=s.parse(o)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Ls,a.wrapT=u.wrapT!==void 0?u.wrapT:Ls,a.magFilter=u.magFilter!==void 0?u.magFilter:kr,a.minFilter=u.minFilter!==void 0?u.minFilter:kr,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?a.colorSpace=u.colorSpace:u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=El),u.mipmapCount===1&&(a.minFilter=kr),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},r,i),a}}let Uq=class extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=new Di,a=new Qg(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}};class Yc extends xr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new $t(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class _N extends Yc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new $t(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const IS=new In,fR=new ge,hR=new ge;class Zb{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.map=null,this.mapPass=null,this.matrix=new In,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mv,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new Or(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;fR.setFromMatrixPosition(e.matrixWorld),t.position.copy(fR),hR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(hR),t.updateMatrixWorld(),IS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(IS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Fq extends Zb{constructor(){super(new ji(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=pp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xN extends Yc{constructor(e,t,r=0,i=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.target=new xr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Fq}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const dR=new In,Fm=new ge,NS=new ge;class Bq extends Zb{constructor(){super(new ji(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new Or(2,1,1,1),new Or(0,1,1,1),new Or(3,1,1,1),new Or(1,1,1,1),new Or(3,0,1,1),new Or(1,0,1,1)],this._cubeDirections=[new ge(1,0,0),new ge(-1,0,0),new ge(0,0,1),new ge(0,0,-1),new ge(0,1,0),new ge(0,-1,0)],this._cubeUps=[new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,0,1),new ge(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Fm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Fm),NS.copy(r.position),NS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(NS),r.updateMatrixWorld(),i.makeTranslation(-Fm.x,-Fm.y,-Fm.z),dR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dR)}}class SN extends Yc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Bq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kq extends Zb{constructor(){super(new gv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class wN extends Yc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.target=new xr,this.shadow=new kq}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EN extends Yc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MN extends Yc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class bN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ge)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],1.092548*(r*i)),t.addScaledVector(a[5],1.092548*(i*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(r*s)),t.addScaledVector(a[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*r),t.addScaledVector(a[4],2*.429043*r*i),t.addScaledVector(a[5],2*.429043*i*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*r*s),t.addScaledVector(a[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class TN extends Yc{constructor(e=new bN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class zx extends Mo{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,a=new Tu(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=zx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new $t().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new $t().setHex(a.value);break;case"v2":i.uniforms[s].value=new ft().fromArray(a.value);break;case"v3":i.uniforms[s].value=new ge().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Or().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Zn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new In().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ft().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:sN,SpriteMaterial:Bb,RawShaderMaterial:oN,ShaderMaterial:to,PointsMaterial:zb,MeshPhysicalMaterial:aN,MeshStandardMaterial:qb,MeshPhongMaterial:lN,MeshToonMaterial:uN,MeshNormalMaterial:Yb,MeshLambertMaterial:cN,MeshDepthMaterial:Db,MeshDistanceMaterial:Ub,MeshBasicMaterial:Xc,MeshMatcapMaterial:fN,LineDashedMaterial:hN,LineBasicMaterial:io,Material:$i};return new t[e]}}class YE{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class AN extends Xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class CN extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Tu(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,v){if(t[v]!==void 0)return t[v];const S=g.interleavedBuffers[v],_=s(g,S.buffer),w=Wd(S.type,_),E=new Ex(w,S.stride);return E.uuid=S.uuid,t[v]=E,E}function s(g,v){if(r[v]!==void 0)return r[v];const S=g.arrayBuffers[v],_=new Uint32Array(S).buffer;return r[v]=_,_}const a=e.isInstancedBufferGeometry?new AN:new Xn,l=e.data.index;if(l!==void 0){const g=Wd(l.type,l.array);a.setIndex(new vr(g,1))}const o=e.data.attributes;for(const g in o){const v=o[g];let x;if(v.isInterleavedBufferAttribute){const S=i(e.data,v.data);x=new gh(S,v.itemSize,v.offset,v.normalized)}else{const S=Wd(v.type,v.array),_=v.isInstancedBufferAttribute?vp:vr;x=new _(S,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),a.setAttribute(g,x)}const u=e.data.morphAttributes;if(u)for(const g in u){const v=u[g],x=[];for(let S=0,_=v.length;S<_;S++){const w=v[S];let E;if(w.isInterleavedBufferAttribute){const T=i(e.data,w.data);E=new gh(T,w.itemSize,w.offset,w.normalized)}else{const T=Wd(w.type,w.array);E=new vr(T,w.itemSize,w.normalized)}w.name!==void 0&&(E.name=w.name),x.push(E)}a.morphAttributes[g]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let g=0,v=f.length;g!==v;++g){const x=f[g];a.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new ge;p.center!==void 0&&g.fromArray(p.center),a.boundingSphere=new Is(g,p.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class zq extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=this.path===""?YE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new Tu(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(o){let u=null;try{u=JSON.parse(o)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?YE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Tu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),l=JSON.parse(a),o=l.metadata;if(o===void 0||o.type===void 0||o.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),l=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,s,o,l,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let f=!1;for(const p in a)if(a[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),o=this.parseObject(e.object,i,l,a,t),u=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,u),o}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ah().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=new Mx().fromJSON(e[s],i);r[l.uuid]=l}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new CN;for(let s=0,a=e.length;s<a;s++){let l;const o=e[s];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(o);break;default:o.type in cR?l=cR[o.type].fromJSON(o,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${o.type}"`)}l.uuid=o.uuid,o.name!==void 0&&(l.name=o.name),o.userData!==void 0&&(l.userData=o.userData),r[o.uuid]=l}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new zx;s.setTextures(t);for(let a=0,l=e.length;a<l;a++){const o=e[a];r[o.uuid]===void 0&&(r[o.uuid]=s.parse(o)),i[o.uuid]=r[o.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=$g.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function a(o){return r.manager.itemStart(o),s.load(o,function(){r.manager.itemEnd(o)},void 0,function(){r.manager.itemError(o),r.manager.itemEnd(o)})}function l(o){if(typeof o=="string"){const u=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(c)}else return o.data?{data:Wd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){const o=new Jb(t);s=new Qg(o),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const g=[];for(let v=0,x=p.length;v<x;v++){const S=p[v],_=l(S);_!==null&&(_ instanceof HTMLImageElement?g.push(_):g.push(new Oc(_.data,_.width,_.height)))}i[f.uuid]=new Qf(g)}else{const g=l(f.url);i[f.uuid]=new Qf(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(a){if(typeof a=="string"){const l=a,o=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await i.loadAsync(o)}else return a.data?{data:Wd(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Qg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const o=e[a],u=o.url;if(Array.isArray(u)){const c=[];for(let f=0,p=u.length;f<p;f++){const g=u[f],v=await s(g);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new Oc(v.data,v.width,v.height)))}r[o.uuid]=new Qf(c)}else{const c=await s(o.url);r[o.uuid]=new Qf(c)}}}return r}parseTextures(e,t){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const o=t[l.image],u=o.data;let c;Array.isArray(u)?(c=new pv,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Oc:c=new Di,u&&(c.needsUpdate=!0)),c.source=o,c.uuid=l.uuid,l.name!==void 0&&(c.name=l.name),l.mapping!==void 0&&(c.mapping=r(l.mapping,Hq)),l.channel!==void 0&&(c.channel=l.channel),l.offset!==void 0&&c.offset.fromArray(l.offset),l.repeat!==void 0&&c.repeat.fromArray(l.repeat),l.center!==void 0&&c.center.fromArray(l.center),l.rotation!==void 0&&(c.rotation=l.rotation),l.wrap!==void 0&&(c.wrapS=r(l.wrap[0],pR),c.wrapT=r(l.wrap[1],pR)),l.format!==void 0&&(c.format=l.format),l.internalFormat!==void 0&&(c.internalFormat=l.internalFormat),l.type!==void 0&&(c.type=l.type),l.colorSpace!==void 0&&(c.colorSpace=l.colorSpace),l.encoding!==void 0&&(c.encoding=l.encoding),l.minFilter!==void 0&&(c.minFilter=r(l.minFilter,mR)),l.magFilter!==void 0&&(c.magFilter=r(l.magFilter,mR)),l.anisotropy!==void 0&&(c.anisotropy=l.anisotropy),l.flipY!==void 0&&(c.flipY=l.flipY),l.generateMipmaps!==void 0&&(c.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(c.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(c.compareFunction=l.compareFunction),l.userData!==void 0&&(c.userData=l.userData),i[l.uuid]=c}return i}parseObject(e,t,r,i,s){let a;function l(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function o(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let v=0,x=p.length;v<x;v++){const S=p[v];r[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),g.push(r[S])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,f;switch(e.type){case"Scene":a=new gp,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new $t(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new wx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Sx(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new ji(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new gv(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new EN(e.color,e.intensity);break;case"DirectionalLight":a=new wN(e.color,e.intensity);break;case"PointLight":a=new SN(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new MN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new xN(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new _N(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new TN().fromJSON(e);break;case"SkinnedMesh":c=l(e.geometry),f=o(e.material),a=new WI(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=l(e.geometry),f=o(e.material),a=new Ni(c,f);break;case"InstancedMesh":c=l(e.geometry),f=o(e.material);const p=e.count,g=e.instanceMatrix,v=e.instanceColor;a=new jI(c,f,p),a.instanceMatrix=new vp(new Float32Array(g.array),16),v!==void 0&&(a.instanceColor=new vp(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":c=l(e.geometry),f=o(e.material),a=new XI(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(x=>{const S=new eo;S.min.fromArray(x.boxMin),S.max.fromArray(x.boxMax);const _=new Is;return _.radius=x.sphereRadius,_.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:S,sphereInitialized:x.sphereInitialized,sphere:_}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":a=new VI;break;case"Line":a=new kc(l(e.geometry),o(e.material));break;case"LineLoop":a=new qI(l(e.geometry),o(e.material));break;case"LineSegments":a=new Ll(l(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new YI(l(e.geometry),o(e.material));break;case"Sprite":a=new GI(o(e.material));break;case"Group":a=new qd;break;case"Bone":a=new kb;break;default:a=new xr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)a.add(this.parseObject(p[g],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const v=p[g];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const v=p[g],x=a.getObjectByProperty("uuid",v.object);x!==void 0&&a.addLevel(x,v.distance,v.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Hq={UVMapping:dx,CubeReflectionMapping:bu,CubeRefractionMapping:Uc,EquirectangularReflectionMapping:Og,EquirectangularRefractionMapping:Ig,CubeUVReflectionMapping:bp},pR={RepeatWrapping:Fc,ClampToEdgeWrapping:Ls,MirroredRepeatWrapping:Ng},mR={NearestFilter:Vr,NearestMipmapNearestFilter:U_,NearestMipmapLinearFilter:Hf,LinearFilter:kr,LinearMipmapNearestFilter:sg,LinearMipmapLinearFilter:El};class Gq extends Mo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=mu.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const o=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return mu.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),mu.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});mu.add(e,o),s.manager.itemStart(e)}}let p0;class eT{static getContext(){return p0===void 0&&(p0=new(window.AudioContext||window.webkitAudioContext)),p0}static setContext(e){p0=e}}class Vq extends Mo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Tu(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{const u=o.slice(0);eT.getContext().decodeAudioData(u,function(f){t(f)}).catch(l)}catch(u){l(u)}},r,i);function l(o){i?i(o):console.error(o),s.manager.itemError(e)}}}const gR=new In,vR=new In,Lf=new In;class Wq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ji,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ji,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lf.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,a=t.near*Math.tan(ih*t.fov*.5)/t.zoom;let l,o;vR.elements[12]=-i,gR.elements[12]=i,l=-a*t.aspect+s,o=a*t.aspect+s,Lf.elements[0]=2*t.near/(o-l),Lf.elements[8]=(o+l)/(o-l),this.cameraL.projectionMatrix.copy(Lf),l=-a*t.aspect-s,o=a*t.aspect-s,Lf.elements[0]=2*t.near/(o-l),Lf.elements[8]=(o+l)/(o-l),this.cameraR.projectionMatrix.copy(Lf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gR)}}class tT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=yR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function yR(){return(typeof performance>"u"?Date:performance).now()}const Of=new ge,_R=new Eo,jq=new ge,If=new ge;class Xq extends xr{constructor(){super(),this.type="AudioListener",this.context=eT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Of,_R,jq),If.set(0,0,-1).applyQuaternion(_R),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Of.x,i),t.positionY.linearRampToValueAtTime(Of.y,i),t.positionZ.linearRampToValueAtTime(Of.z,i),t.forwardX.linearRampToValueAtTime(If.x,i),t.forwardY.linearRampToValueAtTime(If.y,i),t.forwardZ.linearRampToValueAtTime(If.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Of.x,Of.y,Of.z),t.setOrientation(If.x,If.y,If.z,r.x,r.y,r.z)}}class RN extends xr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Nf=new ge,xR=new Eo,qq=new ge,Df=new ge;class Yq extends RN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Nf,xR,qq),Df.set(0,0,1).applyQuaternion(xR);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Nf.x,r),t.positionY.linearRampToValueAtTime(Nf.y,r),t.positionZ.linearRampToValueAtTime(Nf.z,r),t.orientationX.linearRampToValueAtTime(Df.x,r),t.orientationY.linearRampToValueAtTime(Df.y,r),t.orientationZ.linearRampToValueAtTime(Df.z,r)}else t.setPosition(Nf.x,Nf.y,Nf.z),t.setOrientation(Df.x,Df.y,Df.z)}}class Kq{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class PN{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,a;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==i;++l)r[s+l]=r[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(r,s,0,l,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const o=t*this._origIndex;this._mixBufferRegion(r,i,o,1-s,t)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let o=t,u=t+t;o!==u;++o)if(r[o]!==r[o+t]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,a=i;s!==a;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[t+a]=e[r+a]}_slerp(e,t,r,i){Eo.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const a=this._workIndex*s;Eo.multiplyQuaternionsFlat(e,a,e,t,e,r),Eo.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,r,i,s){const a=1-i;for(let l=0;l!==s;++l){const o=t+l;e[o]=e[o]*a+e[r+l]*i}}_lerpAdditive(e,t,r,i,s){for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]+e[r+a]*i}}}const nT="\\[\\]\\.:\\/",$q=new RegExp("["+nT+"]","g"),rT="[^"+nT+"]",Qq="[^"+nT.replace("\\.","")+"]",Jq=/((?:WC+[\/:])*)/.source.replace("WC",rT),Zq=/(WCOD+)?/.source.replace("WCOD",Qq),eY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rT),tY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rT),nY=new RegExp("^"+Jq+Zq+eY+tY+"$"),rY=["material","materials","bones","map"];class iY{constructor(e,t,r){const i=r||mr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class mr{constructor(e,t,r){this.path=t,this.parsedPath=r||mr.parseTrackName(t),this.node=mr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new mr.Composite(e,t,r):new mr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($q,"")}static parseTrackName(e){const t=nY.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);rY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===t||l.uuid===t)return l;const o=r(l.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=mr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mr.Composite=iY;mr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};mr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};mr.prototype.GetterByBindingType=[mr.prototype._getValue_direct,mr.prototype._getValue_array,mr.prototype._getValue_arrayElement,mr.prototype._getValue_toArray];mr.prototype.SetterByBindingTypeAndVersioning=[[mr.prototype._setValue_direct,mr.prototype._setValue_direct_setNeedsUpdate,mr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mr.prototype._setValue_array,mr.prototype._setValue_array_setNeedsUpdate,mr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mr.prototype._setValue_arrayElement,mr.prototype._setValue_arrayElement_setNeedsUpdate,mr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mr.prototype._setValue_fromArray,mr.prototype._setValue_fromArray_setNeedsUpdate,mr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class sY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Vo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let l,o=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],g=p.uuid;let v=t[g];if(v===void 0){v=o++,t[g]=v,e.push(p);for(let x=0,S=a;x!==S;++x)s[x].push(new mr(p,r[x],i[x]))}else if(v<u){l=e[v];const x=--u,S=e[x];t[S.uuid]=v,e[v]=S,t[g]=x,e[x]=p;for(let _=0,w=a;_!==w;++_){const E=s[_],T=E[x];let L=E[v];E[v]=T,L===void 0&&(L=new mr(p,r[_],i[_])),E[x]=L}}else e[v]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const o=arguments[a],u=o.uuid,c=t[u];if(c!==void 0&&c>=s){const f=s++,p=e[f];t[p.uuid]=c,e[c]=p,t[u]=f,e[f]=o;for(let g=0,v=i;g!==v;++g){const x=r[g],S=x[f],_=x[c];x[c]=S,x[f]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let l=0,o=arguments.length;l!==o;++l){const u=arguments[l],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<s){const p=--s,g=e[p],v=--a,x=e[v];t[g.uuid]=f,e[f]=g,t[x.uuid]=p,e[p]=x,e.pop();for(let S=0,_=i;S!==_;++S){const w=r[S],E=w[p],T=w[v];w[f]=E,w[p]=T,w.pop()}}else{const p=--a,g=e[p];p>0&&(t[g.uuid]=f),e[f]=g,e.pop();for(let v=0,x=i;v!==x;++v){const S=r[v];S[f]=S[p],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,l=this._parsedPaths,o=this._objects,u=o.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,a.push(e),l.push(t),s.push(f);for(let p=c,g=o.length;p!==g;++p){const v=o[p];f[p]=new mr(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length-1,o=a[l],u=e[l];t[u]=r,a[r]=o,a.pop(),s[r]=s[l],s.pop(),i[r]=i[l],i.pop()}}}class LN{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,a=s.length,l=new Array(a),o={endingStart:Kf,endingEnd:Kf};for(let u=0;u!==a;++u){const c=s[u].createInterpolant(null);l[u]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,l=i/s;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const o=l.parameterPositions,u=l.sampleValues;return o[0]=s,o[1]=s+r,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const o=(e-s)*r;o<0||r===0?t=0:(this._startTime=null,t=r*o)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const o=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Tb:for(let c=0,f=o.length;c!==f;++c)o[c].evaluate(a),u[c].accumulateAdditive(l);break;case gx:default:for(let c=0,f=o.length;c!==f;++c)o[c].evaluate(a),u[c].accumulate(i,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===hI;if(e===0)return s===-1?i:a&&(s&1)===1?t-i:i;if(r===cI){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const l=Math.floor(i/t);i-=t*l,s+=Math.abs(l);const o=this.repetitions-s;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(a&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=$f,i.endingEnd=$f):(e?i.endingStart=this.zeroSlopeAtStart?$f:Kf:i.endingStart=Fg,t?i.endingEnd=this.zeroSlopeAtEnd?$f:Kf:i.endingEnd=Fg)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,o=a.sampleValues;return l[0]=s,o[0]=t,l[1]=s+e,o[1]=r,this}}const oY=new Float32Array(1);class aY extends va{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,l=e._interpolants,o=r.uuid,u=this._bindingsByRootAndName;let c=u[o];c===void 0&&(c={},u[o]=c);for(let f=0;f!==s;++f){const p=i[f],g=p.name;let v=c[g];if(v!==void 0)++v.referenceCount,a[f]=v;else{if(v=a[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,o,g));continue}const x=t&&t._propertyBindings[f].binding.parsedPath;v=new PN(mr.create(r,g,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,o,g),a[f]=v}l[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],o=l.knownActions,u=o[o.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,o[c]=u,o.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],o.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,l=a[i],o=t[t.length-1],u=e._cacheIndex;o._cacheIndex=u,t[u]=o,t.pop(),delete l[s],Object.keys(l).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new $b(new Float32Array(2),new Float32Array(2),1,oY),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let a=typeof e=="string"?$g.findByName(i,e):e;const l=a!==null?a.uuid:e,o=this._actionsByClip[l];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=gx),o!==void 0){const f=o.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=o.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new LN(this,a,t,r);return this._bindAction(c,u),this._addInactiveAction(c,l,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?$g.findByName(r,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,a);const l=this._bindings,o=this._nActiveBindings;for(let u=0;u!==o;++u)l[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let l=0,o=a.length;l!==o;++l){const u=a[l];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const a in r){const l=r[a].actionByRoot,o=l[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ri{constructor(e){this.value=e}clone(){return new ri(this.value.clone===void 0?this.value:this.value.clone())}}let lY=0;class uY extends va{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:lY++}),this.name="",this.usage=Hg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class cY extends Ex{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class fY{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class ON{constructor(e,t,r=0,i=1/0){this.ray=new Tp(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new oh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return KE(e,this,r,t),r.sort(SR),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)KE(e[i],this,r,t);return r.sort(SR),r}}function SR(n,e){return n.distance-e.distance}function KE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,a=i.length;s<a;s++)KE(i[s],e,t,!0)}}class hY{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(_i(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class dY{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const wR=new ft;class pY{constructor(e=new ft(1/0,1/0),t=new ft(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=wR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ER=new ge,m0=new ge;class mY{constructor(e=new ge,t=new ge){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ER.subVectors(e,this.start),m0.subVectors(this.end,this.start);const r=m0.dot(m0);let s=m0.dot(ER)/r;return t&&(s=_i(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const MR=new ge;class gY extends xr{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Xn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,o=32;a<o;a++,l++){const u=a/o*Math.PI*2,c=l/o*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new hn(i,3));const s=new io({fog:!1,toneMapped:!1});this.cone=new Ll(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),MR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(MR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ac=new ge,g0=new In,DS=new In;class vY extends Ll{constructor(e){const t=IN(e),r=new Xn,i=[],s=[],a=new $t(0,0,1),l=new $t(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}r.setAttribute("position",new hn(i,3)),r.setAttribute("color",new hn(s,3));const o=new io({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");DS.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(g0.multiplyMatrices(DS,l.matrixWorld),ac.setFromMatrixPosition(g0),i.setXYZ(a,ac.x,ac.y,ac.z),g0.multiplyMatrices(DS,l.parent.matrixWorld),ac.setFromMatrixPosition(g0),i.setXYZ(a+1,ac.x,ac.y,ac.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function IN(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,IN(n.children[t]));return e}class yY extends Ni{constructor(e,t,r){const i=new _v(t,4,2),s=new Xc({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _Y=new ge,bR=new $t,TR=new $t;class xY extends xr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new yv(t);i.rotateY(Math.PI*.5),this.material=new Xc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new vr(a,3)),this.add(new Ni(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");bR.copy(this.light.color),TR.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?bR:TR;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_Y.setFromMatrixPosition(this.light.matrixWorld).negate())}}class SY extends Ll{constructor(e=10,t=10,r=4473924,i=8947848){r=new $t(r),i=new $t(i);const s=t/2,a=e/t,l=e/2,o=[],u=[];for(let p=0,g=0,v=-l;p<=t;p++,v+=a){o.push(-l,0,v,l,0,v),o.push(v,0,-l,v,0,l);const x=p===s?r:i;x.toArray(u,g),g+=3,x.toArray(u,g),g+=3,x.toArray(u,g),g+=3,x.toArray(u,g),g+=3}const c=new Xn;c.setAttribute("position",new hn(o,3)),c.setAttribute("color",new hn(u,3));const f=new io({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class wY extends Ll{constructor(e=10,t=16,r=8,i=64,s=4473924,a=8947848){s=new $t(s),a=new $t(a);const l=[],o=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),g=Math.sin(p)*e,v=Math.cos(p)*e;l.push(0,0,0),l.push(g,0,v);const x=f&1?s:a;o.push(x.r,x.g,x.b),o.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const p=f&1?s:a,g=e-e/r*f;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),S=Math.sin(x)*g,_=Math.cos(x)*g;l.push(S,0,_),o.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),S=Math.sin(x)*g,_=Math.cos(x)*g,l.push(S,0,_),o.push(p.r,p.g,p.b)}}const u=new Xn;u.setAttribute("position",new hn(l,3)),u.setAttribute("color",new hn(o,3));const c=new io({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const AR=new ge,v0=new ge,CR=new ge;class EY extends xr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Xn;i.setAttribute("position",new hn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new io({fog:!1,toneMapped:!1});this.lightPlane=new kc(i,s),this.add(this.lightPlane),i=new Xn,i.setAttribute("position",new hn([0,0,0,0,0,1],3)),this.targetLine=new kc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),AR.setFromMatrixPosition(this.light.matrixWorld),v0.setFromMatrixPosition(this.light.target.matrixWorld),CR.subVectors(v0,AR),this.lightPlane.lookAt(v0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(v0),this.targetLine.scale.z=CR.length()}}const y0=new ge,gi=new Ap;class MY extends Ll{constructor(e){const t=new Xn,r=new io({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(v,x){o(v),o(x)}function o(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}t.setAttribute("position",new hn(i,3)),t.setAttribute("color",new hn(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new $t(16755200),c=new $t(16711680),f=new $t(43775),p=new $t(16777215),g=new $t(3355443);this.setColors(u,c,f,p,g)}setColors(e,t,r,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;gi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Oi("c",t,e,gi,0,0,-1),Oi("t",t,e,gi,0,0,1),Oi("n1",t,e,gi,-r,-i,-1),Oi("n2",t,e,gi,r,-i,-1),Oi("n3",t,e,gi,-r,i,-1),Oi("n4",t,e,gi,r,i,-1),Oi("f1",t,e,gi,-r,-i,1),Oi("f2",t,e,gi,r,-i,1),Oi("f3",t,e,gi,-r,i,1),Oi("f4",t,e,gi,r,i,1),Oi("u1",t,e,gi,r*.7,i*1.1,-1),Oi("u2",t,e,gi,-r*.7,i*1.1,-1),Oi("u3",t,e,gi,0,i*2,-1),Oi("cf1",t,e,gi,-r,0,1),Oi("cf2",t,e,gi,r,0,1),Oi("cf3",t,e,gi,0,-i,1),Oi("cf4",t,e,gi,0,i,1),Oi("cn1",t,e,gi,-r,0,-1),Oi("cn2",t,e,gi,r,0,-1),Oi("cn3",t,e,gi,0,-i,-1),Oi("cn4",t,e,gi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Oi(n,e,t,r,i,s,a){y0.set(i,s,a).unproject(r);const l=e[n];if(l!==void 0){const o=t.getAttribute("position");for(let u=0,c=l.length;u<c;u++)o.setXYZ(l[u],y0.x,y0.y,y0.z)}}const _0=new eo;class bY extends Ll{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Xn;s.setIndex(new vr(r,1)),s.setAttribute("position",new vr(i,3)),super(s,new io({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_0.setFromObject(this.object),_0.isEmpty())return;const t=_0.min,r=_0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class TY extends Ll{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Xn;s.setIndex(new vr(r,1)),s.setAttribute("position",new hn(i,3)),super(s,new io({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class AY extends kc{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Xn;a.setAttribute("position",new hn(s,3)),a.computeBoundingSphere(),super(a,new io({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],o=new Xn;o.setAttribute("position",new hn(l,3)),o.computeBoundingSphere(),this.add(new Ni(o,new Xc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const RR=new ge;let x0,US;class CY extends xr{constructor(e=new ge(0,0,1),t=new ge(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",x0===void 0&&(x0=new Xn,x0.setAttribute("position",new hn([0,0,0,0,1,0],3)),US=new Pp(0,.5,1,5,1),US.translate(0,-.5,0)),this.position.copy(t),this.line=new kc(x0,new io({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ni(US,new Xc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{RR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(RR,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class RY extends Ll{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Xn;i.setAttribute("position",new hn(t,3)),i.setAttribute("color",new hn(r,3));const s=new io({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new $t,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PY{constructor(){this.type="ShapePath",this.color=new $t,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Wg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,a){return this.currentPath.bezierCurveTo(e,t,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const w=[];for(let E=0,T=_.length;E<T;E++){const L=_[E],A=new ah;A.curves=L.curves,w.push(A)}return w}function r(_,w){const E=w.length;let T=!1;for(let L=E-1,A=0;A<E;L=A++){let O=w[L],U=w[A],F=U.x-O.x,P=U.y-O.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(O=w[A],F=-F,U=w[L],P=-P),_.y<O.y||_.y>U.y)continue;if(_.y===O.y){if(_.x===O.x)return!0}else{const N=P*(_.x-O.x)-F*(_.y-O.y);if(N===0)return!0;if(N<0)continue;T=!T}}else{if(_.y!==O.y)continue;if(U.x<=_.x&&_.x<=O.x||O.x<=_.x&&_.x<=U.x)return!0}}return T}const i=Cl.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,o;const u=[];if(s.length===1)return l=s[0],o=new ah,o.curves=l.curves,u.push(o),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],p=[];let g=[],v=0,x;p[v]=void 0,g[v]=[];for(let _=0,w=s.length;_<w;_++)l=s[_],x=l.getPoints(),a=i(x),a=e?!a:a,a?(!c&&p[v]&&v++,p[v]={s:new ah,p:x},p[v].s.curves=l.curves,c&&v++,g[v]=[]):g[v].push({h:l,p:x[0]});if(!p[0])return t(s);if(p.length>1){let _=!1,w=0;for(let E=0,T=p.length;E<T;E++)f[E]=[];for(let E=0,T=p.length;E<T;E++){const L=g[E];for(let A=0;A<L.length;A++){const O=L[A];let U=!0;for(let F=0;F<p.length;F++)r(O.p,p[F].p)&&(E!==F&&w++,U?(U=!1,f[F].push(O)):_=!0);U&&f[E].push(O)}}w>0&&_===!1&&(g=f)}let S;for(let _=0,w=p.length;_<w;_++){o=p[_].s,u.push(o),S=g[_];for(let E=0,T=S.length;E<T;E++)o.holes.push(S[E].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Mp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Mp);const LY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:gb,AddEquation:yc,AddOperation:JO,AdditiveAnimationBlendMode:Tb,AdditiveBlending:lE,AgXToneMapping:rI,AlphaFormat:aI,AlwaysCompare:SI,AlwaysDepth:jO,AlwaysStencilFunc:kE,AmbientLight:EN,AnimationAction:LN,AnimationClip:$g,AnimationLoader:Oq,AnimationMixer:aY,AnimationObjectGroup:sY,AnimationUtils:Cq,ArcCurve:KI,ArrayCamera:kI,ArrowHelper:CY,AttachedBindMode:dE,Audio:RN,AudioAnalyser:Kq,AudioContext:eT,AudioListener:Xq,AudioLoader:Vq,AxesHelper:RY,BackSide:qi,BasicDepthPacking:Wc,BasicShadowMap:AO,BatchedMesh:XI,Bone:kb,BooleanKeyframeTrack:bh,Box2:pY,Box3:eo,Box3Helper:TY,BoxGeometry:Mh,BoxHelper:bY,BufferAttribute:vr,BufferGeometry:Xn,BufferGeometryLoader:CN,ByteType:sI,Cache:mu,Camera:Ap,CameraHelper:MY,CanvasTexture:JX,CapsuleGeometry:Ax,CatmullRomCurve3:$I,CineonToneMapping:tI,CircleGeometry:Cx,ClampToEdgeWrapping:Ls,Clock:tT,Color:$t,ColorKeyframeTrack:Qb,ColorManagement:Lr,CompressedArrayTexture:$X,CompressedCubeTexture:QX,CompressedTexture:bx,CompressedTextureLoader:Iq,ConeGeometry:Rx,ConstantAlphaFactor:GO,ConstantColorFactor:zO,CubeCamera:PI,CubeReflectionMapping:bu,CubeRefractionMapping:Uc,CubeTexture:pv,CubeTextureLoader:Nq,CubeUVReflectionMapping:bp,CubicBezierCurve:Gb,CubicBezierCurve3:QI,CubicInterpolant:mN,CullFaceBack:aE,CullFaceFront:TO,CullFaceFrontBack:FH,CullFaceNone:bO,Curve:Ka,CurvePath:ZI,CustomBlending:CO,CustomToneMapping:nI,CylinderGeometry:Pp,Cylindrical:dY,Data3DTexture:Lb,DataArrayTexture:yx,DataTexture:Oc,DataTextureLoader:Dq,DataUtils:X9,DecrementStencilOp:YH,DecrementWrapStencilOp:$H,DefaultLoadingManager:yN,DepthFormat:Pc,DepthStencilFormat:Bc,DepthTexture:_x,DetachedBindMode:iI,DirectionalLight:wN,DirectionalLightHelper:EY,DiscreteInterpolant:gN,DisplayP3ColorSpace:vx,DodecahedronGeometry:Px,DoubleSide:yo,DstAlphaFactor:DO,DstColorFactor:FO,DynamicCopyUsage:f9,DynamicDrawUsage:s9,DynamicReadUsage:l9,EdgesGeometry:eN,EllipseCurve:Tx,EqualCompare:vI,EqualDepth:qO,EqualStencilFunc:e9,EquirectangularReflectionMapping:Og,EquirectangularRefractionMapping:Ig,Euler:dv,EventDispatcher:va,ExtrudeGeometry:Ox,FileLoader:Tu,Float16BufferAttribute:J9,Float32BufferAttribute:hn,Float64BufferAttribute:Z9,FloatType:ko,Fog:wx,FogExp2:Sx,FramebufferTexture:KX,FrontSide:Rl,Frustum:mv,GLBufferAttribute:fY,GLSL1:d9,GLSL3:zE,GreaterCompare:yI,GreaterDepth:KO,GreaterEqualCompare:xI,GreaterEqualDepth:YO,GreaterEqualStencilFunc:i9,GreaterStencilFunc:n9,GridHelper:SY,Group:qd,HalfFloatType:mh,HemisphereLight:_N,HemisphereLightHelper:xY,IcosahedronGeometry:Ix,ImageBitmapLoader:Gq,ImageLoader:Qg,ImageUtils:Pb,IncrementStencilOp:qH,IncrementWrapStencilOp:KH,InstancedBufferAttribute:vp,InstancedBufferGeometry:AN,InstancedInterleavedBuffer:cY,InstancedMesh:jI,Int16BufferAttribute:$9,Int32BufferAttribute:Q9,Int8BufferAttribute:q9,IntType:vb,InterleavedBuffer:Ex,InterleavedBufferAttribute:gh,Interpolant:xv,InterpolateDiscrete:Dg,InterpolateLinear:Ug,InterpolateSmooth:K0,InvertStencilOp:QH,KeepStencilOp:Bf,KeyframeTrack:$a,LOD:VI,LatheGeometry:vv,Layers:oh,LessCompare:gI,LessDepth:XO,LessEqualCompare:Cb,LessEqualDepth:Lg,LessEqualStencilFunc:t9,LessStencilFunc:ZH,Light:Yc,LightProbe:TN,Line:kc,Line3:mY,LineBasicMaterial:io,LineCurve:Vb,LineCurve3:JI,LineDashedMaterial:hN,LineLoop:qI,LineSegments:Ll,LinearDisplayP3ColorSpace:hv,LinearEncoding:Ab,LinearFilter:kr,LinearInterpolant:$b,LinearMipMapLinearFilter:HH,LinearMipMapNearestFilter:zH,LinearMipmapLinearFilter:El,LinearMipmapNearestFilter:sg,LinearSRGBColorSpace:ga,LinearToneMapping:ZO,LinearTransfer:Bg,Loader:Mo,LoaderUtils:YE,LoadingManager:Jb,LoopOnce:cI,LoopPingPong:hI,LoopRepeat:fI,LuminanceAlphaFormat:lI,LuminanceFormat:mx,MOUSE:DH,Material:$i,MaterialLoader:zx,MathUtils:C9,Matrix3:Zn,Matrix4:In,MaxEquation:hE,Mesh:Ni,MeshBasicMaterial:Xc,MeshDepthMaterial:Db,MeshDistanceMaterial:Ub,MeshLambertMaterial:cN,MeshMatcapMaterial:fN,MeshNormalMaterial:Yb,MeshPhongMaterial:lN,MeshPhysicalMaterial:aN,MeshStandardMaterial:qb,MeshToonMaterial:uN,MinEquation:fE,MirroredRepeatWrapping:Ng,MixOperation:QO,MultiplyBlending:cE,MultiplyOperation:fv,NearestFilter:Vr,NearestMipMapLinearFilter:kH,NearestMipMapNearestFilter:BH,NearestMipmapLinearFilter:Hf,NearestMipmapNearestFilter:U_,NeverCompare:mI,NeverDepth:WO,NeverStencilFunc:JH,NoBlending:da,NoColorSpace:Qs,NoToneMapping:qa,NormalAnimationBlendMode:gx,NormalBlending:rh,NotEqualCompare:_I,NotEqualDepth:$O,NotEqualStencilFunc:r9,NumberKeyframeTrack:Yg,Object3D:xr,ObjectLoader:zq,ObjectSpaceNormalMap:pI,OctahedronGeometry:yv,OneFactor:OO,OneMinusConstantAlphaFactor:VO,OneMinusConstantColorFactor:HO,OneMinusDstAlphaFactor:UO,OneMinusDstColorFactor:BO,OneMinusSrcAlphaFactor:D_,OneMinusSrcColorFactor:NO,OrthographicCamera:gv,P3Primaries:zg,PCFShadowMap:hx,PCFSoftShadowMap:ig,PMREMGenerator:GE,Path:Wg,PerspectiveCamera:ji,Plane:pc,PlaneGeometry:Cp,PlaneHelper:AY,PointLight:SN,PointLightHelper:yY,Points:YI,PointsMaterial:zb,PolarGridHelper:wY,PolyhedronGeometry:qc,PositionalAudio:Yq,PropertyBinding:mr,PropertyMixer:PN,QuadraticBezierCurve:Wb,QuadraticBezierCurve3:jb,Quaternion:Eo,QuaternionKeyframeTrack:Lp,QuaternionLinearInterpolant:vN,RED_GREEN_RGTC2_Format:FE,RED_RGTC1_Format:uI,REVISION:Mp,RGBADepthPacking:dI,RGBAFormat:cs,RGBAIntegerFormat:Mb,RGBA_ASTC_10x10_Format:LE,RGBA_ASTC_10x5_Format:CE,RGBA_ASTC_10x6_Format:RE,RGBA_ASTC_10x8_Format:PE,RGBA_ASTC_12x10_Format:OE,RGBA_ASTC_12x12_Format:IE,RGBA_ASTC_4x4_Format:xE,RGBA_ASTC_5x4_Format:SE,RGBA_ASTC_5x5_Format:wE,RGBA_ASTC_6x5_Format:EE,RGBA_ASTC_6x6_Format:ME,RGBA_ASTC_8x5_Format:bE,RGBA_ASTC_8x6_Format:TE,RGBA_ASTC_8x8_Format:AE,RGBA_BPTC_Format:Y0,RGBA_ETC2_EAC_Format:_E,RGBA_PVRTC_2BPPV1_Format:vE,RGBA_PVRTC_4BPPV1_Format:gE,RGBA_S3TC_DXT1_Format:j0,RGBA_S3TC_DXT3_Format:X0,RGBA_S3TC_DXT5_Format:q0,RGB_BPTC_SIGNED_Format:NE,RGB_BPTC_UNSIGNED_Format:DE,RGB_ETC1_Format:bb,RGB_ETC2_Format:yE,RGB_PVRTC_2BPPV1_Format:mE,RGB_PVRTC_4BPPV1_Format:pE,RGB_S3TC_DXT1_Format:W0,RGFormat:wb,RGIntegerFormat:Eb,RawShaderMaterial:oN,Ray:Tp,Raycaster:ON,Rec709Primaries:kg,RectAreaLight:MN,RedFormat:xb,RedIntegerFormat:Sb,ReinhardToneMapping:eI,RenderTarget:TI,RepeatWrapping:Fc,ReplaceStencilOp:XH,ReverseSubtractEquation:PO,RingGeometry:Nx,SIGNED_RED_GREEN_RGTC2_Format:BE,SIGNED_RED_RGTC1_Format:UE,SRGBColorSpace:Dr,SRGBTransfer:zr,Scene:gp,ShaderChunk:Yn,ShaderLib:Wa,ShaderMaterial:to,ShadowMaterial:sN,Shape:ah,ShapeGeometry:Dx,ShapePath:PY,ShapeUtils:Cl,ShortType:oI,Skeleton:Mx,SkeletonHelper:vY,SkinnedMesh:WI,Source:Qf,Sphere:Is,SphereGeometry:_v,Spherical:hY,SphericalHarmonics3:bN,SplineCurve:Xb,SpotLight:xN,SpotLightHelper:gY,Sprite:GI,SpriteMaterial:Bb,SrcAlphaFactor:N_,SrcAlphaSaturateFactor:kO,SrcColorFactor:IO,StaticCopyUsage:c9,StaticDrawUsage:Hg,StaticReadUsage:a9,StereoCamera:Wq,StreamCopyUsage:h9,StreamDrawUsage:o9,StreamReadUsage:u9,StringKeyframeTrack:Th,SubtractEquation:RO,SubtractiveBlending:uE,TOUCH:UH,TangentSpaceNormalMap:jc,TetrahedronGeometry:Ux,Texture:Di,TextureLoader:Uq,TorusGeometry:Fx,TorusKnotGeometry:Bx,Triangle:zo,TriangleFanDrawMode:WH,TriangleStripDrawMode:VH,TrianglesDrawMode:GH,TubeGeometry:kx,UVMapping:dx,Uint16BufferAttribute:Ob,Uint32BufferAttribute:Ib,Uint8BufferAttribute:Y9,Uint8ClampedBufferAttribute:K9,Uniform:ri,UniformsGroup:uY,UniformsLib:Vt,UniformsUtils:RI,UnsignedByteType:Os,UnsignedInt248Type:yu,UnsignedIntType:Ml,UnsignedShort4444Type:yb,UnsignedShort5551Type:_b,UnsignedShortType:px,VSMShadowMap:za,Vector2:ft,Vector3:ge,Vector4:Or,VectorKeyframeTrack:Kg,VideoTexture:YX,WebGL1Renderer:zI,WebGL3DRenderTarget:N9,WebGLArrayRenderTarget:I9,WebGLCoordinateSystem:bl,WebGLCubeRenderTarget:LI,WebGLMultipleRenderTargets:D9,WebGLRenderTarget:_s,WebGLRenderer:Fb,WebGLUtils:BI,WebGPUCoordinateSystem:Gg,WireframeGeometry:iN,WrapAroundEnding:Fg,ZeroCurvatureEnding:Kf,ZeroFactor:LO,ZeroSlopeEnding:$f,ZeroStencilOp:jH,_SRGBAFormat:F_,createCanvasElement:bI,sRGBEncoding:Lc},Symbol.toStringTag,{value:"Module"}));var NN={exports:{}},Ah={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ah.ConcurrentRoot=1;Ah.ContinuousEventPriority=4;Ah.DefaultEventPriority=16;Ah.DiscreteEventPriority=1;Ah.IdleEventPriority=536870912;Ah.LegacyRoot=0;NN.exports=Ah;var Kd=NN.exports;function OY(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const p=e;e=c?f:Object.assign({},e,f),t.forEach(g=>g(e,p))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function g(){const v=c(e);if(!f(p,v)){const x=p;u(p=v,x)}}return t.add(g),()=>t.delete(g)},o={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,o),o}const IY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),PR=IY?Ae.useEffect:Ae.useLayoutEffect;function NY(n){const e=typeof n=="function"?OY(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Ae.useReducer(S=>S+1,0),a=e.getState(),l=Ae.useRef(a),o=Ae.useRef(r),u=Ae.useRef(i),c=Ae.useRef(!1),f=Ae.useRef();f.current===void 0&&(f.current=r(a));let p,g=!1;(l.current!==a||o.current!==r||u.current!==i||c.current)&&(p=r(a),g=!i(f.current,p)),PR(()=>{g&&(f.current=p),l.current=a,o.current=r,u.current=i,c.current=!1});const v=Ae.useRef(a);PR(()=>{const S=()=>{try{const w=e.getState(),E=o.current(w);u.current(f.current,E)||(l.current=w,f.current=E,s())}catch{c.current=!0,s()}},_=e.subscribe(S);return e.getState()!==v.current&&S(),_},[]);const x=g?p:f.current;return Ae.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var DN={exports:{}},UN={exports:{}},FN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,V){var k=G.length;G.push(V);e:for(;0<k;){var ie=k-1>>>1,te=G[ie];if(0<i(te,V))G[ie]=V,G[k]=te,k=ie;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var V=G[0],k=G.pop();if(k!==V){G[0]=k;e:for(var ie=0,te=G.length,se=te>>>1;ie<se;){var oe=2*(ie+1)-1,ve=G[oe],xe=oe+1,he=G[xe];if(0>i(ve,k))xe<te&&0>i(he,ve)?(G[ie]=he,G[xe]=k,ie=xe):(G[ie]=ve,G[oe]=k,ie=oe);else if(xe<te&&0>i(he,k))G[ie]=he,G[xe]=k,ie=xe;else break e}}return V}function i(G,V){var k=G.sortIndex-V.sortIndex;return k!==0?k:G.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var o=[],u=[],c=1,f=null,p=3,g=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var V=t(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=G)r(u),V.sortIndex=V.expirationTime,e(o,V);else break;V=t(u)}}function T(G){if(x=!1,E(G),!v)if(t(o)!==null)v=!0,re(L);else{var V=t(u);V!==null&&W(T,V.startTime-G)}}function L(G,V){v=!1,x&&(x=!1,_(U),U=-1),g=!0;var k=p;try{for(E(V),f=t(o);f!==null&&(!(f.expirationTime>V)||G&&!N());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var te=ie(f.expirationTime<=V);V=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(o)&&r(o),E(V)}else r(o);f=t(o)}if(f!==null)var se=!0;else{var oe=t(u);oe!==null&&W(T,oe.startTime-V),se=!1}return se}finally{f=null,p=k,g=!1}}var A=!1,O=null,U=-1,F=5,P=-1;function N(){return!(n.unstable_now()-P<F)}function K(){if(O!==null){var G=n.unstable_now();P=G;var V=!0;try{V=O(!0,G)}finally{V?$():(A=!1,O=null)}}else A=!1}var $;if(typeof w=="function")$=function(){w(K)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,le=j.port2;j.port1.onmessage=K,$=function(){le.postMessage(null)}}else $=function(){S(K,0)};function re(G){O=G,A||(A=!0,$())}function W(G,V){U=S(function(){G(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,re(L))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(o)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var k=p;p=V;try{return G()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var k=p;p=G;try{return V()}finally{p=k}},n.unstable_scheduleCallback=function(G,V,k){var ie=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?ie+k:ie):k=ie,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=k+te,G={id:c++,callback:V,priorityLevel:G,startTime:k,expirationTime:te,sortIndex:-1},k>ie?(G.sortIndex=k,e(u,G),t(o)===null&&G===t(u)&&(x?(_(U),U=-1):x=!0,W(T,k-ie))):(G.sortIndex=te,e(o,G),v||g||(v=!0,re(L))),G},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(G){var V=p;return function(){var k=p;p=V;try{return G.apply(this,arguments)}finally{p=k}}}})(FN);UN.exports=FN;var $E=UN.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DY=function(e){var t={},r=Ae,i=$E,s=Object.assign;function a(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,M=1;M<arguments.length;M++)m+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),L=Symbol.iterator;function A(d){return d===null||typeof d!="object"?null:(d=L&&d[L]||d["@@iterator"],typeof d=="function"?d:null)}function O(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case g:return(d._context.displayName||"Context")+".Provider";case x:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case w:return m=d.displayName||null,m!==null?m:O(d.type)||"Memo";case E:m=d._payload,d=d._init;try{return O(d(m))}catch{}}return null}function U(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function F(d){var m=d,M=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,m.flags&4098&&(M=m.return),d=m.return;while(d)}return m.tag===3?M:null}function P(d){if(F(d)!==d)throw Error(a(188))}function N(d){var m=d.alternate;if(!m){if(m=F(d),m===null)throw Error(a(188));return m!==d?null:d}for(var M=d,C=m;;){var I=M.return;if(I===null)break;var z=I.alternate;if(z===null){if(C=I.return,C!==null){M=C;continue}break}if(I.child===z.child){for(z=I.child;z;){if(z===M)return P(I),d;if(z===C)return P(I),m;z=z.sibling}throw Error(a(188))}if(M.return!==C.return)M=I,C=z;else{for(var ye=!1,Be=I.child;Be;){if(Be===M){ye=!0,M=I,C=z;break}if(Be===C){ye=!0,C=I,M=z;break}Be=Be.sibling}if(!ye){for(Be=z.child;Be;){if(Be===M){ye=!0,M=z,C=I;break}if(Be===C){ye=!0,C=z,M=I;break}Be=Be.sibling}if(!ye)throw Error(a(189))}}if(M.alternate!==C)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?d:m}function K(d){return d=N(d),d!==null?$(d):null}function $(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=$(d);if(m!==null)return m;d=d.sibling}return null}function j(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var m=j(d);if(m!==null)return m}d=d.sibling}return null}var le=Array.isArray,re=e.getPublicInstance,W=e.getRootHostContext,G=e.getChildHostContext,V=e.prepareForCommit,k=e.resetAfterCommit,ie=e.createInstance,te=e.appendInitialChild,se=e.finalizeInitialChildren,oe=e.prepareUpdate,ve=e.shouldSetTextContent,xe=e.createTextInstance,he=e.scheduleTimeout,Ue=e.cancelTimeout,ke=e.noTimeout,Qe=e.isPrimaryRenderer,Le=e.supportsMutation,Q=e.supportsPersistence,He=e.supportsHydration,Pe=e.getInstanceFromNode,Je=e.preparePortalMount,Ye=e.getCurrentEventPriority,mt=e.detachDeletedInstance,gt=e.supportsMicrotasks,ne=e.scheduleMicrotask,Y=e.supportsTestSelectors,Ie=e.findFiberRoot,st=e.getBoundingRect,ot=e.getTextContent,be=e.isHiddenSubtree,pe=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Fe=e.setupIntersectionObserver,nt=e.appendChild,Ce=e.appendChildToContainer,De=e.commitTextUpdate,Ut=e.commitMount,Bt=e.commitUpdate,Ct=e.insertBefore,wt=e.insertInContainerBefore,ut=e.removeChild,It=e.removeChildFromContainer,Kt=e.resetTextContent,Mn=e.hideInstance,Tt=e.hideTextInstance,Rt=e.unhideInstance,ce=e.unhideTextInstance,Re=e.clearContainer,We=e.cloneInstance,dt=e.createContainerChildSet,St=e.appendChildToContainerChildSet,Gt=e.finalizeContainerChildren,Qt=e.replaceContainerChildren,En=e.cloneHiddenInstance,Nn=e.cloneHiddenTextInstance,Tn=e.canHydrateInstance,lr=e.canHydrateTextInstance,Te=e.canHydrateSuspenseInstance,_e=e.isSuspenseInstancePending,je=e.isSuspenseInstanceFallback,lt=e.registerSuspenseInstanceRetry,Nt=e.getNextHydratableSibling,Jt=e.getFirstHydratableChild,mn=e.getFirstHydratableChildWithinContainer,Dt=e.getFirstHydratableChildWithinSuspenseInstance,An=e.hydrateInstance,an=e.hydrateTextInstance,ln=e.hydrateSuspenseInstance,ae=e.getNextHydratableInstanceAfterSuspenseInstance,Ne=e.commitHydratedContainer,qe=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,Pt=e.shouldDeleteUnhydratedTailInstances,Xt=e.didNotMatchHydratedContainerTextInstance,tn=e.didNotMatchHydratedTextInstance,rn;function gn(d){if(rn===void 0)try{throw Error()}catch(M){var m=M.stack.trim().match(/\n( *(at )?)/);rn=m&&m[1]||""}return`
`+rn+d}var pn=!1;function un(d,m){if(!d||pn)return"";pn=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Lt){var C=Lt}Reflect.construct(d,[],m)}else{try{m.call()}catch(Lt){C=Lt}d.call(m.prototype)}else{try{throw Error()}catch(Lt){C=Lt}d()}}catch(Lt){if(Lt&&C&&typeof Lt.stack=="string"){for(var I=Lt.stack.split(`
`),z=C.stack.split(`
`),ye=I.length-1,Be=z.length-1;1<=ye&&0<=Be&&I[ye]!==z[Be];)Be--;for(;1<=ye&&0<=Be;ye--,Be--)if(I[ye]!==z[Be]){if(ye!==1||Be!==1)do if(ye--,Be--,0>Be||I[ye]!==z[Be]){var ct=`
`+I[ye].replace(" at new "," at ");return d.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",d.displayName)),ct}while(1<=ye&&0<=Be);break}}}finally{pn=!1,Error.prepareStackTrace=M}return(d=d?d.displayName||d.name:"")?gn(d):""}var dr=Object.prototype.hasOwnProperty,ur=[],Jn=-1;function sn(d){return{current:d}}function Wt(d){0>Jn||(d.current=ur[Jn],ur[Jn]=null,Jn--)}function kt(d,m){Jn++,ur[Jn]=d.current,d.current=m}var kn={},yn=sn(kn),Tr=sn(!1),nr=kn;function Qi(d,m){var M=d.type.contextTypes;if(!M)return kn;var C=d.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===m)return C.__reactInternalMemoizedMaskedChildContext;var I={},z;for(z in M)I[z]=m[z];return C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=I),I}function li(d){return d=d.childContextTypes,d!=null}function Pr(){Wt(Tr),Wt(yn)}function hs(d,m,M){if(yn.current!==kn)throw Error(a(168));kt(yn,m),kt(Tr,M)}function ya(d,m,M){var C=d.stateNode;if(m=m.childContextTypes,typeof C.getChildContext!="function")return M;C=C.getChildContext();for(var I in C)if(!(I in m))throw Error(a(108,U(d)||"Unknown",I));return s({},M,C)}function Si(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||kn,nr=yn.current,kt(yn,d),kt(Tr,Tr.current),!0}function qo(d,m,M){var C=d.stateNode;if(!C)throw Error(a(169));M?(d=ya(d,m,nr),C.__reactInternalMemoizedMergedChildContext=d,Wt(Tr),Wt(yn),kt(yn,d)):Wt(Tr),kt(Tr,M)}var Ji=Math.clz32?Math.clz32:Ru,Qa=Math.log,Ip=Math.LN2;function Ru(d){return d>>>=0,d===0?32:31-(Qa(d)/Ip|0)|0}var _a=64,xa=4194304;function so(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ja(d,m){var M=d.pendingLanes;if(M===0)return 0;var C=0,I=d.suspendedLanes,z=d.pingedLanes,ye=M&268435455;if(ye!==0){var Be=ye&~I;Be!==0?C=so(Be):(z&=ye,z!==0&&(C=so(z)))}else ye=M&~I,ye!==0?C=so(ye):z!==0&&(C=so(z));if(C===0)return 0;if(m!==0&&m!==C&&!(m&I)&&(I=C&-C,z=m&-m,I>=z||I===16&&(z&4194240)!==0))return m;if(C&4&&(C|=M&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=C;0<m;)M=31-Ji(m),I=1<<M,C|=d[M],m&=~I;return C}function Il(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(d,m){for(var M=d.suspendedLanes,C=d.pingedLanes,I=d.expirationTimes,z=d.pendingLanes;0<z;){var ye=31-Ji(z),Be=1<<ye,ct=I[ye];ct===-1?(!(Be&M)||Be&C)&&(I[ye]=Il(Be,m)):ct<=m&&(d.expiredLanes|=Be),z&=~Be}}function Sa(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function wa(d){for(var m=[],M=0;31>M;M++)m.push(d);return m}function Ea(d,m,M){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Ji(m),d[m]=M}function Pu(d,m){var M=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var C=d.eventTimes;for(d=d.expirationTimes;0<M;){var I=31-Ji(M),z=1<<I;m[I]=0,C[I]=-1,d[I]=-1,M&=~z}}function Nl(d,m){var M=d.entangledLanes|=m;for(d=d.entanglements;M;){var C=31-Ji(M),I=1<<C;I&m|d[C]&m&&(d[C]|=m),M&=~I}}var rr=0;function Ch(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Za=i.unstable_scheduleCallback,Lu=i.unstable_cancelCallback,Rh=i.unstable_shouldYield,Np=i.unstable_requestPaint,ui=i.unstable_now,el=i.unstable_ImmediatePriority,Ma=i.unstable_UserBlockingPriority,Ou=i.unstable_NormalPriority,Ph=i.unstable_IdlePriority,Dl=null,Ui=null;function Ar(d){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Dl,d,void 0,(d.current.flags&128)===128)}catch{}}function Sr(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var xs=typeof Object.is=="function"?Object.is:Sr,bo=null,Iu=!1,Ul=!1;function Lh(d){bo===null?bo=[d]:bo.push(d)}function Dp(d){Iu=!0,Lh(d)}function wi(){if(!Ul&&bo!==null){Ul=!0;var d=0,m=rr;try{var M=bo;for(rr=1;d<M.length;d++){var C=M[d];do C=C(!0);while(C!==null)}bo=null,Iu=!1}catch(I){throw bo!==null&&(bo=bo.slice(d+1)),Za(el,wi),I}finally{rr=m,Ul=!1}}return null}var wr=l.ReactCurrentBatchConfig;function jr(d,m){if(xs(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var M=Object.keys(d),C=Object.keys(m);if(M.length!==C.length)return!1;for(C=0;C<M.length;C++){var I=M[C];if(!dr.call(m,I)||!xs(d[I],m[I]))return!1}return!0}function Nu(d){switch(d.tag){case 5:return gn(d.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return d=un(d.type,!1),d;case 11:return d=un(d.type.render,!1),d;case 1:return d=un(d.type,!0),d;default:return""}}function Ei(d,m){if(d&&d.defaultProps){m=s({},m),d=d.defaultProps;for(var M in d)m[M]===void 0&&(m[M]=d[M]);return m}return m}var Fl=sn(null),tl=null,ci=null,ba=null;function Du(){ba=ci=tl=null}function $c(d,m,M){Qe?(kt(Fl,m._currentValue),m._currentValue=M):(kt(Fl,m._currentValue2),m._currentValue2=M)}function Yo(d){var m=Fl.current;Wt(Fl),Qe?d._currentValue=m:d._currentValue2=m}function To(d,m,M){for(;d!==null;){var C=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),d===M)break;d=d.return}}function Ko(d,m){tl=d,ba=ci=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&m&&(ks=!0),d.firstContext=null)}function Nr(d){var m=Qe?d._currentValue:d._currentValue2;if(ba!==d)if(d={context:d,memoizedValue:m,next:null},ci===null){if(tl===null)throw Error(a(308));ci=d,tl.dependencies={lanes:0,firstContext:d}}else ci=ci.next=d;return m}var oo=null,Yr=!1;function Qc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Mi(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Ds(d,m){var M=d.updateQueue;M!==null&&(M=M.shared,hi!==null&&d.mode&1&&!(Gn&2)?(d=M.interleaved,d===null?(m.next=m,oo===null?oo=[M]:oo.push(M)):(m.next=d.next,d.next=m),M.interleaved=m):(d=M.pending,d===null?m.next=m:(m.next=d.next,d.next=m),M.pending=m))}function Ta(d,m,M){if(m=m.updateQueue,m!==null&&(m=m.shared,(M&4194240)!==0)){var C=m.lanes;C&=d.pendingLanes,M|=C,m.lanes=M,Nl(d,M)}}function Er(d,m){var M=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,M===C)){var I=null,z=null;if(M=M.firstBaseUpdate,M!==null){do{var ye={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};z===null?I=z=ye:z=z.next=ye,M=M.next}while(M!==null);z===null?I=z=m:z=z.next=m}else I=z=m;M={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:z,shared:C.shared,effects:C.effects},d.updateQueue=M;return}d=M.lastBaseUpdate,d===null?M.firstBaseUpdate=m:d.next=m,M.lastBaseUpdate=m}function ds(d,m,M,C){var I=d.updateQueue;Yr=!1;var z=I.firstBaseUpdate,ye=I.lastBaseUpdate,Be=I.shared.pending;if(Be!==null){I.shared.pending=null;var ct=Be,Lt=ct.next;ct.next=null,ye===null?z=Lt:ye.next=Lt,ye=ct;var en=d.alternate;en!==null&&(en=en.updateQueue,Be=en.lastBaseUpdate,Be!==ye&&(Be===null?en.firstBaseUpdate=Lt:Be.next=Lt,en.lastBaseUpdate=ct))}if(z!==null){var Dn=I.baseState;ye=0,en=Lt=ct=null,Be=z;do{var vn=Be.lane,Cr=Be.eventTime;if((C&vn)===vn){en!==null&&(en=en.next={eventTime:Cr,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var cn=d,os=Be;switch(vn=m,Cr=M,os.tag){case 1:if(cn=os.payload,typeof cn=="function"){Dn=cn.call(Cr,Dn,vn);break e}Dn=cn;break e;case 3:cn.flags=cn.flags&-65537|128;case 0:if(cn=os.payload,vn=typeof cn=="function"?cn.call(Cr,Dn,vn):cn,vn==null)break e;Dn=s({},Dn,vn);break e;case 2:Yr=!0}}Be.callback!==null&&Be.lane!==0&&(d.flags|=64,vn=I.effects,vn===null?I.effects=[Be]:vn.push(Be))}else Cr={eventTime:Cr,lane:vn,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},en===null?(Lt=en=Cr,ct=Dn):en=en.next=Cr,ye|=vn;if(Be=Be.next,Be===null){if(Be=I.shared.pending,Be===null)break;vn=Be,Be=vn.next,vn.next=null,I.lastBaseUpdate=vn,I.shared.pending=null}}while(!0);if(en===null&&(ct=Dn),I.baseState=ct,I.firstBaseUpdate=Lt,I.lastBaseUpdate=en,m=I.shared.interleaved,m!==null){I=m;do ye|=I.lane,I=I.next;while(I!==m)}else z===null&&(I.shared.lanes=0);qu|=ye,d.lanes=ye,d.memoizedState=Dn}}function Bl(d,m,M){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var C=d[m],I=C.callback;if(I!==null){if(C.callback=null,C=M,typeof I!="function")throw Error(a(191,I));I.call(C)}}}var nl=new r.Component().refs;function rl(d,m,M,C){m=d.memoizedState,M=M(C,m),M=M==null?m:s({},m,M),d.memoizedState=M,d.lanes===0&&(d.updateQueue.baseState=M)}var Ss={isMounted:function(d){return(d=d._reactInternals)?F(d)===d:!1},enqueueSetState:function(d,m,M){d=d._reactInternals;var C=ns(),I=ea(d),z=Mi(C,I);z.payload=m,M!=null&&(z.callback=M),Ds(d,z),m=lo(d,I,C),m!==null&&Ta(m,d,I)},enqueueReplaceState:function(d,m,M){d=d._reactInternals;var C=ns(),I=ea(d),z=Mi(C,I);z.tag=1,z.payload=m,M!=null&&(z.callback=M),Ds(d,z),m=lo(d,I,C),m!==null&&Ta(m,d,I)},enqueueForceUpdate:function(d,m){d=d._reactInternals;var M=ns(),C=ea(d),I=Mi(M,C);I.tag=2,m!=null&&(I.callback=m),Ds(d,I),m=lo(d,C,M),m!==null&&Ta(m,d,C)}};function kl(d,m,M,C,I,z,ye){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,z,ye):m.prototype&&m.prototype.isPureReactComponent?!jr(M,C)||!jr(I,z):!0}function zl(d,m,M){var C=!1,I=kn,z=m.contextType;return typeof z=="object"&&z!==null?z=Nr(z):(I=li(m)?nr:yn.current,C=m.contextTypes,z=(C=C!=null)?Qi(d,I):kn),m=new m(M,z),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ss,d.stateNode=m,m._reactInternals=d,C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=I,d.__reactInternalMemoizedMaskedChildContext=z),m}function il(d,m,M,C){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(M,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(M,C),m.state!==d&&Ss.enqueueReplaceState(m,m.state,null)}function Us(d,m,M,C){var I=d.stateNode;I.props=M,I.state=d.memoizedState,I.refs=nl,Qc(d);var z=m.contextType;typeof z=="object"&&z!==null?I.context=Nr(z):(z=li(m)?nr:yn.current,I.context=Qi(d,z)),I.state=d.memoizedState,z=m.getDerivedStateFromProps,typeof z=="function"&&(rl(d,m,z,M),I.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(m=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),m!==I.state&&Ss.enqueueReplaceState(I,I.state,null),ds(d,M,I,C),I.state=d.memoizedState),typeof I.componentDidMount=="function"&&(d.flags|=4194308)}var Fs=[],Aa=0,Hl=null,Gl=0,R=[],B=0,H=null,X=1,J="";function de(d,m){Fs[Aa++]=Gl,Fs[Aa++]=Hl,Hl=d,Gl=m}function ue(d,m,M){R[B++]=X,R[B++]=J,R[B++]=H,H=d;var C=X;d=J;var I=32-Ji(C)-1;C&=~(1<<I),M+=1;var z=32-Ji(m)+I;if(30<z){var ye=I-I%5;z=(C&(1<<ye)-1).toString(32),C>>=ye,I-=ye,X=1<<32-Ji(m)+I|M<<I|C,J=z+d}else X=1<<z|M<<I|C,J=d}function Me(d){d.return!==null&&(de(d,1),ue(d,1,0))}function Se(d){for(;d===Hl;)Hl=Fs[--Aa],Fs[Aa]=null,Gl=Fs[--Aa],Fs[Aa]=null;for(;d===H;)H=R[--B],R[B]=null,J=R[--B],R[B]=null,X=R[--B],R[B]=null}var me=null,ze=null,tt=!1,it=!1,vt=null;function ht(d,m){var M=uo(5,null,null,0);M.elementType="DELETED",M.stateNode=m,M.return=d,m=d.deletions,m===null?(d.deletions=[M],d.flags|=16):m.push(M)}function Et(d,m){switch(d.tag){case 5:return m=Tn(m,d.type,d.pendingProps),m!==null?(d.stateNode=m,me=d,ze=Jt(m),!0):!1;case 6:return m=lr(m,d.pendingProps),m!==null?(d.stateNode=m,me=d,ze=null,!0):!1;case 13:if(m=Te(m),m!==null){var M=H!==null?{id:X,overflow:J}:null;return d.memoizedState={dehydrated:m,treeContext:M,retryLane:1073741824},M=uo(18,null,null,0),M.stateNode=m,M.return=d,d.child=M,me=d,ze=null,!0}return!1;default:return!1}}function zt(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Zt(d){if(tt){var m=ze;if(m){var M=m;if(!Et(d,m)){if(zt(d))throw Error(a(418));m=Nt(M);var C=me;m&&Et(d,m)?ht(C,M):(d.flags=d.flags&-4097|2,tt=!1,me=d)}}else{if(zt(d))throw Error(a(418));d.flags=d.flags&-4097|2,tt=!1,me=d}}}function On(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;me=d}function cr(d){if(!He||d!==me)return!1;if(!tt)return On(d),tt=!0,!1;if(d.tag!==3&&(d.tag!==5||Pt(d.type)&&!ve(d.type,d.memoizedProps))){var m=ze;if(m){if(zt(d)){for(d=ze;d;)d=Nt(d);throw Error(a(418))}for(;m;)ht(d,m),m=Nt(m)}}if(On(d),d.tag===13){if(!He)throw Error(a(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));ze=ae(d)}else ze=me?Nt(d.stateNode):null;return!0}function Mr(){He&&(ze=me=null,it=tt=!1)}function Un(d){vt===null?vt=[d]:vt.push(d)}function xn(d,m,M){if(d=M.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(a(309));var C=M.stateNode}if(!C)throw Error(a(147,d));var I=C,z=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===z?m.ref:(m=function(ye){var Be=I.refs;Be===nl&&(Be=I.refs={}),ye===null?delete Be[z]:Be[z]=ye},m._stringRef=z,m)}if(typeof d!="string")throw Error(a(284));if(!M._owner)throw Error(a(290,d))}return d}function Fn(d,m){throw d=Object.prototype.toString.call(m),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function $r(d){var m=d._init;return m(d._payload)}function ir(d){function m(Ze,Ve){if(d){var at=Ze.deletions;at===null?(Ze.deletions=[Ve],Ze.flags|=16):at.push(Ve)}}function M(Ze,Ve){if(!d)return null;for(;Ve!==null;)m(Ze,Ve),Ve=Ve.sibling;return null}function C(Ze,Ve){for(Ze=new Map;Ve!==null;)Ve.key!==null?Ze.set(Ve.key,Ve):Ze.set(Ve.index,Ve),Ve=Ve.sibling;return Ze}function I(Ze,Ve){return Ze=Oa(Ze,Ve),Ze.index=0,Ze.sibling=null,Ze}function z(Ze,Ve,at){return Ze.index=at,d?(at=Ze.alternate,at!==null?(at=at.index,at<Ve?(Ze.flags|=2,Ve):at):(Ze.flags|=2,Ve)):(Ze.flags|=1048576,Ve)}function ye(Ze){return d&&Ze.alternate===null&&(Ze.flags|=2),Ze}function Be(Ze,Ve,at,Yt){return Ve===null||Ve.tag!==6?(Ve=ss(at,Ze.mode,Yt),Ve.return=Ze,Ve):(Ve=I(Ve,at),Ve.return=Ze,Ve)}function ct(Ze,Ve,at,Yt){var fn=at.type;return fn===c?en(Ze,Ve,at.props.children,Yt,at.key):Ve!==null&&(Ve.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===E&&$r(fn)===Ve.type)?(Yt=I(Ve,at.props),Yt.ref=xn(Ze,Ve,at),Yt.return=Ze,Yt):(Yt=Qh(at.type,at.key,at.props,null,Ze.mode,Yt),Yt.ref=xn(Ze,Ve,at),Yt.return=Ze,Yt)}function Lt(Ze,Ve,at,Yt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==at.containerInfo||Ve.stateNode.implementation!==at.implementation?(Ve=co(at,Ze.mode,Yt),Ve.return=Ze,Ve):(Ve=I(Ve,at.children||[]),Ve.return=Ze,Ve)}function en(Ze,Ve,at,Yt,fn){return Ve===null||Ve.tag!==7?(Ve=vl(at,Ze.mode,Yt,fn),Ve.return=Ze,Ve):(Ve=I(Ve,at),Ve.return=Ze,Ve)}function Dn(Ze,Ve,at){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Ve=ss(""+Ve,Ze.mode,at),Ve.return=Ze,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case o:return at=Qh(Ve.type,Ve.key,Ve.props,null,Ze.mode,at),at.ref=xn(Ze,null,Ve),at.return=Ze,at;case u:return Ve=co(Ve,Ze.mode,at),Ve.return=Ze,Ve;case E:var Yt=Ve._init;return Dn(Ze,Yt(Ve._payload),at)}if(le(Ve)||A(Ve))return Ve=vl(Ve,Ze.mode,at,null),Ve.return=Ze,Ve;Fn(Ze,Ve)}return null}function vn(Ze,Ve,at,Yt){var fn=Ve!==null?Ve.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return fn!==null?null:Be(Ze,Ve,""+at,Yt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case o:return at.key===fn?ct(Ze,Ve,at,Yt):null;case u:return at.key===fn?Lt(Ze,Ve,at,Yt):null;case E:return fn=at._init,vn(Ze,Ve,fn(at._payload),Yt)}if(le(at)||A(at))return fn!==null?null:en(Ze,Ve,at,Yt,null);Fn(Ze,at)}return null}function Cr(Ze,Ve,at,Yt,fn){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number")return Ze=Ze.get(at)||null,Be(Ve,Ze,""+Yt,fn);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case o:return Ze=Ze.get(Yt.key===null?at:Yt.key)||null,ct(Ve,Ze,Yt,fn);case u:return Ze=Ze.get(Yt.key===null?at:Yt.key)||null,Lt(Ve,Ze,Yt,fn);case E:var Vn=Yt._init;return Cr(Ze,Ve,at,Vn(Yt._payload),fn)}if(le(Yt)||A(Yt))return Ze=Ze.get(at)||null,en(Ve,Ze,Yt,fn,null);Fn(Ve,Yt)}return null}function cn(Ze,Ve,at,Yt){for(var fn=null,Vn=null,Bn=Ve,Wn=Ve=0,pi=null;Bn!==null&&Wn<at.length;Wn++){Bn.index>Wn?(pi=Bn,Bn=null):pi=Bn.sibling;var sr=vn(Ze,Bn,at[Wn],Yt);if(sr===null){Bn===null&&(Bn=pi);break}d&&Bn&&sr.alternate===null&&m(Ze,Bn),Ve=z(sr,Ve,Wn),Vn===null?fn=sr:Vn.sibling=sr,Vn=sr,Bn=pi}if(Wn===at.length)return M(Ze,Bn),tt&&de(Ze,Wn),fn;if(Bn===null){for(;Wn<at.length;Wn++)Bn=Dn(Ze,at[Wn],Yt),Bn!==null&&(Ve=z(Bn,Ve,Wn),Vn===null?fn=Bn:Vn.sibling=Bn,Vn=Bn);return tt&&de(Ze,Wn),fn}for(Bn=C(Ze,Bn);Wn<at.length;Wn++)pi=Cr(Bn,Ze,Wn,at[Wn],Yt),pi!==null&&(d&&pi.alternate!==null&&Bn.delete(pi.key===null?Wn:pi.key),Ve=z(pi,Ve,Wn),Vn===null?fn=pi:Vn.sibling=pi,Vn=pi);return d&&Bn.forEach(function(na){return m(Ze,na)}),tt&&de(Ze,Wn),fn}function os(Ze,Ve,at,Yt){var fn=A(at);if(typeof fn!="function")throw Error(a(150));if(at=fn.call(at),at==null)throw Error(a(151));for(var Vn=fn=null,Bn=Ve,Wn=Ve=0,pi=null,sr=at.next();Bn!==null&&!sr.done;Wn++,sr=at.next()){Bn.index>Wn?(pi=Bn,Bn=null):pi=Bn.sibling;var na=vn(Ze,Bn,sr.value,Yt);if(na===null){Bn===null&&(Bn=pi);break}d&&Bn&&na.alternate===null&&m(Ze,Bn),Ve=z(na,Ve,Wn),Vn===null?fn=na:Vn.sibling=na,Vn=na,Bn=pi}if(sr.done)return M(Ze,Bn),tt&&de(Ze,Wn),fn;if(Bn===null){for(;!sr.done;Wn++,sr=at.next())sr=Dn(Ze,sr.value,Yt),sr!==null&&(Ve=z(sr,Ve,Wn),Vn===null?fn=sr:Vn.sibling=sr,Vn=sr);return tt&&de(Ze,Wn),fn}for(Bn=C(Ze,Bn);!sr.done;Wn++,sr=at.next())sr=Cr(Bn,Ze,Wn,sr.value,Yt),sr!==null&&(d&&sr.alternate!==null&&Bn.delete(sr.key===null?Wn:sr.key),Ve=z(sr,Ve,Wn),Vn===null?fn=sr:Vn.sibling=sr,Vn=sr);return d&&Bn.forEach(function(Zh){return m(Ze,Zh)}),tt&&de(Ze,Wn),fn}function Ws(Ze,Ve,at,Yt){if(typeof at=="object"&&at!==null&&at.type===c&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case o:e:{for(var fn=at.key,Vn=Ve;Vn!==null;){if(Vn.key===fn){if(fn=at.type,fn===c){if(Vn.tag===7){M(Ze,Vn.sibling),Ve=I(Vn,at.props.children),Ve.return=Ze,Ze=Ve;break e}}else if(Vn.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===E&&$r(fn)===Vn.type){M(Ze,Vn.sibling),Ve=I(Vn,at.props),Ve.ref=xn(Ze,Vn,at),Ve.return=Ze,Ze=Ve;break e}M(Ze,Vn);break}else m(Ze,Vn);Vn=Vn.sibling}at.type===c?(Ve=vl(at.props.children,Ze.mode,Yt,at.key),Ve.return=Ze,Ze=Ve):(Yt=Qh(at.type,at.key,at.props,null,Ze.mode,Yt),Yt.ref=xn(Ze,Ve,at),Yt.return=Ze,Ze=Yt)}return ye(Ze);case u:e:{for(Vn=at.key;Ve!==null;){if(Ve.key===Vn)if(Ve.tag===4&&Ve.stateNode.containerInfo===at.containerInfo&&Ve.stateNode.implementation===at.implementation){M(Ze,Ve.sibling),Ve=I(Ve,at.children||[]),Ve.return=Ze,Ze=Ve;break e}else{M(Ze,Ve);break}else m(Ze,Ve);Ve=Ve.sibling}Ve=co(at,Ze.mode,Yt),Ve.return=Ze,Ze=Ve}return ye(Ze);case E:return Vn=at._init,Ws(Ze,Ve,Vn(at._payload),Yt)}if(le(at))return cn(Ze,Ve,at,Yt);if(A(at))return os(Ze,Ve,at,Yt);Fn(Ze,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,Ve!==null&&Ve.tag===6?(M(Ze,Ve.sibling),Ve=I(Ve,at),Ve.return=Ze,Ze=Ve):(M(Ze,Ve),Ve=ss(at,Ze.mode,Yt),Ve.return=Ze,Ze=Ve),ye(Ze)):M(Ze,Ve)}return Ws}var Ur=ir(!0),bi=ir(!1),Ti={},Qn=sn(Ti),fi=sn(Ti),Fr=sn(Ti);function bt(d){if(d===Ti)throw Error(a(174));return d}function At(d,m){kt(Fr,m),kt(fi,d),kt(Qn,Ti),d=W(m),Wt(Qn),kt(Qn,d)}function Ht(){Wt(Qn),Wt(fi),Wt(Fr)}function zn(d){var m=bt(Fr.current),M=bt(Qn.current);m=G(M,d.type,m),M!==m&&(kt(fi,d),kt(Qn,m))}function on(d){fi.current===d&&(Wt(Qn),Wt(fi))}var Ee=sn(0);function rt(d){for(var m=d;m!==null;){if(m.tag===13){var M=m.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||_e(M)||je(M)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var et=[];function Ft(){for(var d=0;d<et.length;d++){var m=et[d];Qe?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}et.length=0}var _n=l.ReactCurrentDispatcher,Cn=l.ReactCurrentBatchConfig,fr=0,Rn=null,Fi=null,Bi=null,ps=!1,sl=!1,Zc=0,Uu=0;function Ai(){throw Error(a(321))}function Fu(d,m){if(m===null)return!1;for(var M=0;M<m.length&&M<d.length;M++)if(!xs(d[M],m[M]))return!1;return!0}function pr(d,m,M,C,I,z){if(fr=z,Rn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,_n.current=d===null||d.memoizedState===null?lf:Gp,d=M(C,I),sl){z=0;do{if(sl=!1,Zc=0,25<=z)throw Error(a(301));z+=1,Bi=Fi=null,m.updateQueue=null,_n.current=zu,d=M(C,I)}while(sl)}if(_n.current=ku,m=Fi!==null&&Fi.next!==null,fr=0,Bi=Fi=Rn=null,ps=!1,m)throw Error(a(300));return d}function Up(){var d=Zc!==0;return Zc=0,d}function $o(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Rn.memoizedState=Bi=d:Bi=Bi.next=d,Bi}function Bs(){if(Fi===null){var d=Rn.alternate;d=d!==null?d.memoizedState:null}else d=Fi.next;var m=Bi===null?Rn.memoizedState:Bi.next;if(m!==null)Bi=m,Fi=d;else{if(d===null)throw Error(a(310));Fi=d,d={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},Bi===null?Rn.memoizedState=Bi=d:Bi=Bi.next=d}return Bi}function Vl(d,m){return typeof m=="function"?m(d):m}function Oh(d){var m=Bs(),M=m.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=d;var C=Fi,I=C.baseQueue,z=M.pending;if(z!==null){if(I!==null){var ye=I.next;I.next=z.next,z.next=ye}C.baseQueue=I=z,M.pending=null}if(I!==null){z=I.next,C=C.baseState;var Be=ye=null,ct=null,Lt=z;do{var en=Lt.lane;if((fr&en)===en)ct!==null&&(ct=ct.next={lane:0,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),C=Lt.hasEagerState?Lt.eagerState:d(C,Lt.action);else{var Dn={lane:en,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null};ct===null?(Be=ct=Dn,ye=C):ct=ct.next=Dn,Rn.lanes|=en,qu|=en}Lt=Lt.next}while(Lt!==null&&Lt!==z);ct===null?ye=C:ct.next=Be,xs(C,m.memoizedState)||(ks=!0),m.memoizedState=C,m.baseState=ye,m.baseQueue=ct,M.lastRenderedState=C}if(d=M.interleaved,d!==null){I=d;do z=I.lane,Rn.lanes|=z,qu|=z,I=I.next;while(I!==d)}else I===null&&(M.lanes=0);return[m.memoizedState,M.dispatch]}function Ih(d){var m=Bs(),M=m.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=d;var C=M.dispatch,I=M.pending,z=m.memoizedState;if(I!==null){M.pending=null;var ye=I=I.next;do z=d(z,ye.action),ye=ye.next;while(ye!==I);xs(z,m.memoizedState)||(ks=!0),m.memoizedState=z,m.baseQueue===null&&(m.baseState=z),M.lastRenderedState=z}return[z,C]}function ef(){}function Ca(d,m){var M=Rn,C=Bs(),I=m(),z=!xs(C.memoizedState,I);if(z&&(C.memoizedState=I,ks=!0),C=C.queue,rf(nf.bind(null,M,C,d),[d]),C.getSnapshot!==m||z||Bi!==null&&Bi.memoizedState.tag&1){if(M.flags|=2048,ol(9,Fp.bind(null,M,C,I,m),void 0,null),hi===null)throw Error(a(349));fr&30||tf(M,m,I)}return I}function tf(d,m,M){d.flags|=16384,d={getSnapshot:m,value:M},m=Rn.updateQueue,m===null?(m={lastEffect:null,stores:null},Rn.updateQueue=m,m.stores=[d]):(M=m.stores,M===null?m.stores=[d]:M.push(d))}function Fp(d,m,M,C){m.value=M,m.getSnapshot=C,Bp(m)&&lo(d,1,-1)}function nf(d,m,M){return M(function(){Bp(m)&&lo(d,1,-1)})}function Bp(d){var m=d.getSnapshot;d=d.value;try{var M=m();return!xs(d,M)}catch{return!0}}function Nh(d){var m=$o();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:d},m.queue=d,d=d.dispatch=Zi.bind(null,Rn,d),[m.memoizedState,d]}function ol(d,m,M,C){return d={tag:d,create:m,destroy:M,deps:C,next:null},m=Rn.updateQueue,m===null?(m={lastEffect:null,stores:null},Rn.updateQueue=m,m.lastEffect=d.next=d):(M=m.lastEffect,M===null?m.lastEffect=d.next=d:(C=M.next,M.next=d,d.next=C,m.lastEffect=d)),d}function kp(){return Bs().memoizedState}function al(d,m,M,C){var I=$o();Rn.flags|=d,I.memoizedState=ol(1|m,M,void 0,C===void 0?null:C)}function Qo(d,m,M,C){var I=Bs();C=C===void 0?null:C;var z=void 0;if(Fi!==null){var ye=Fi.memoizedState;if(z=ye.destroy,C!==null&&Fu(C,ye.deps)){I.memoizedState=ol(m,M,z,C);return}}Rn.flags|=d,I.memoizedState=ol(1|m,M,z,C)}function Bu(d,m){return al(8390656,8,d,m)}function rf(d,m){return Qo(2048,8,d,m)}function Sv(d,m){return Qo(4,2,d,m)}function wv(d,m){return Qo(4,4,d,m)}function sf(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function of(d,m,M){return M=M!=null?M.concat([d]):null,Qo(4,4,sf.bind(null,m,d),M)}function af(){}function Ev(d,m){var M=Bs();m=m===void 0?null:m;var C=M.memoizedState;return C!==null&&m!==null&&Fu(m,C[1])?C[0]:(M.memoizedState=[d,m],d)}function zp(d,m){var M=Bs();m=m===void 0?null:m;var C=M.memoizedState;return C!==null&&m!==null&&Fu(m,C[1])?C[0]:(d=d(),M.memoizedState=[d,m],d)}function Gx(d,m){var M=rr;rr=M!==0&&4>M?M:4,d(!0);var C=Cn.transition;Cn.transition={};try{d(!1),m()}finally{rr=M,Cn.transition=C}}function Mv(){return Bs().memoizedState}function Ci(d,m,M){var C=ea(d);M={lane:C,action:M,hasEagerState:!1,eagerState:null,next:null},bv(d)?Tv(m,M):(Hp(d,m,M),M=ns(),d=lo(d,C,M),d!==null&&Av(d,m,C))}function Zi(d,m,M){var C=ea(d),I={lane:C,action:M,hasEagerState:!1,eagerState:null,next:null};if(bv(d))Tv(m,I);else{Hp(d,m,I);var z=d.alternate;if(d.lanes===0&&(z===null||z.lanes===0)&&(z=m.lastRenderedReducer,z!==null))try{var ye=m.lastRenderedState,Be=z(ye,M);if(I.hasEagerState=!0,I.eagerState=Be,xs(Be,ye))return}catch{}finally{}M=ns(),d=lo(d,C,M),d!==null&&Av(d,m,C)}}function bv(d){var m=d.alternate;return d===Rn||m!==null&&m===Rn}function Tv(d,m){sl=ps=!0;var M=d.pending;M===null?m.next=m:(m.next=M.next,M.next=m),d.pending=m}function Hp(d,m,M){hi!==null&&d.mode&1&&!(Gn&2)?(d=m.interleaved,d===null?(M.next=M,oo===null?oo=[m]:oo.push(m)):(M.next=d.next,d.next=M),m.interleaved=M):(d=m.pending,d===null?M.next=M:(M.next=d.next,d.next=M),m.pending=M)}function Av(d,m,M){if(M&4194240){var C=m.lanes;C&=d.pendingLanes,M|=C,m.lanes=M,Nl(d,M)}}var ku={readContext:Nr,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},lf={readContext:Nr,useCallback:function(d,m){return $o().memoizedState=[d,m===void 0?null:m],d},useContext:Nr,useEffect:Bu,useImperativeHandle:function(d,m,M){return M=M!=null?M.concat([d]):null,al(4194308,4,sf.bind(null,m,d),M)},useLayoutEffect:function(d,m){return al(4194308,4,d,m)},useInsertionEffect:function(d,m){return al(4,2,d,m)},useMemo:function(d,m){var M=$o();return m=m===void 0?null:m,d=d(),M.memoizedState=[d,m],d},useReducer:function(d,m,M){var C=$o();return m=M!==void 0?M(m):m,C.memoizedState=C.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},C.queue=d,d=d.dispatch=Ci.bind(null,Rn,d),[C.memoizedState,d]},useRef:function(d){var m=$o();return d={current:d},m.memoizedState=d},useState:Nh,useDebugValue:af,useDeferredValue:function(d){var m=Nh(d),M=m[0],C=m[1];return Bu(function(){var I=Cn.transition;Cn.transition={};try{C(d)}finally{Cn.transition=I}},[d]),M},useTransition:function(){var d=Nh(!1),m=d[0];return d=Gx.bind(null,d[1]),$o().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,M){var C=Rn,I=$o();if(tt){if(M===void 0)throw Error(a(407));M=M()}else{if(M=m(),hi===null)throw Error(a(349));fr&30||tf(C,m,M)}I.memoizedState=M;var z={value:M,getSnapshot:m};return I.queue=z,Bu(nf.bind(null,C,z,d),[d]),C.flags|=2048,ol(9,Fp.bind(null,C,z,M,m),void 0,null),M},useId:function(){var d=$o(),m=hi.identifierPrefix;if(tt){var M=J,C=X;M=(C&~(1<<32-Ji(C)-1)).toString(32)+M,m=":"+m+"R"+M,M=Zc++,0<M&&(m+="H"+M.toString(32)),m+=":"}else M=Uu++,m=":"+m+"r"+M.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},Gp={readContext:Nr,useCallback:Ev,useContext:Nr,useEffect:rf,useImperativeHandle:of,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:zp,useReducer:Oh,useRef:kp,useState:function(){return Oh(Vl)},useDebugValue:af,useDeferredValue:function(d){var m=Oh(Vl),M=m[0],C=m[1];return rf(function(){var I=Cn.transition;Cn.transition={};try{C(d)}finally{Cn.transition=I}},[d]),M},useTransition:function(){var d=Oh(Vl)[0],m=Bs().memoizedState;return[d,m]},useMutableSource:ef,useSyncExternalStore:Ca,useId:Mv,unstable_isNewReconciler:!1},zu={readContext:Nr,useCallback:Ev,useContext:Nr,useEffect:rf,useImperativeHandle:of,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:zp,useReducer:Ih,useRef:kp,useState:function(){return Ih(Vl)},useDebugValue:af,useDeferredValue:function(d){var m=Ih(Vl),M=m[0],C=m[1];return rf(function(){var I=Cn.transition;Cn.transition={};try{C(d)}finally{Cn.transition=I}},[d]),M},useTransition:function(){var d=Ih(Vl)[0],m=Bs().memoizedState;return[d,m]},useMutableSource:ef,useSyncExternalStore:Ca,useId:Mv,unstable_isNewReconciler:!1};function Wl(d,m){try{var M="",C=m;do M+=Nu(C),C=C.return;while(C);var I=M}catch(z){I=`
Error generating stack: `+z.message+`
`+z.stack}return{value:d,source:m,stack:I}}function jl(d,m){try{console.error(m.value)}catch(M){setTimeout(function(){throw M})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function Xl(d,m,M){M=Mi(-1,M),M.tag=3,M.payload={element:null};var C=m.value;return M.callback=function(){gf||(gf=!0,Vh=C),jl(d,m)},M}function Cv(d,m,M){M=Mi(-1,M),M.tag=3;var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var I=m.value;M.payload=function(){return C(I)},M.callback=function(){jl(d,m)}}var z=d.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(M.callback=function(){jl(d,m),typeof C!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var ye=m.stack;this.componentDidCatch(m.value,{componentStack:ye!==null?ye:""})}),M}function Rv(d,m,M){var C=d.pingCache;if(C===null){C=d.pingCache=new Dh;var I=new Set;C.set(m,I)}else I=C.get(m),I===void 0&&(I=new Set,C.set(m,I));I.has(M)||(I.add(M),d=ml.bind(null,d,m,M),m.then(d,d))}function Pv(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function Lv(d,m,M,C,I){return d.mode&1?(d.flags|=65536,d.lanes=I,d):(d===m?d.flags|=65536:(d.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(m=Mi(-1,1),m.tag=2,Ds(M,m))),M.lanes|=1),d)}function Jo(d){d.flags|=4}function uf(d,m){if(d!==null&&d.child===m.child)return!0;if(m.flags&16)return!1;for(d=m.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Ra,Hu,Z,Pa;if(Le)Ra=function(d,m){for(var M=m.child;M!==null;){if(M.tag===5||M.tag===6)te(d,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Hu=function(){},Z=function(d,m,M,C,I){if(d=d.memoizedProps,d!==C){var z=m.stateNode,ye=bt(Qn.current);M=oe(z,M,d,C,I,ye),(m.updateQueue=M)&&Jo(m)}},Pa=function(d,m,M,C){M!==C&&Jo(m)};else if(Q){Ra=function(d,m,M,C){for(var I=m.child;I!==null;){if(I.tag===5){var z=I.stateNode;M&&C&&(z=En(z,I.type,I.memoizedProps,I)),te(d,z)}else if(I.tag===6)z=I.stateNode,M&&C&&(z=Nn(z,I.memoizedProps,I)),te(d,z);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)z=I.child,z!==null&&(z.return=I),Ra(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var cf=function(d,m,M,C){for(var I=m.child;I!==null;){if(I.tag===5){var z=I.stateNode;M&&C&&(z=En(z,I.type,I.memoizedProps,I)),St(d,z)}else if(I.tag===6)z=I.stateNode,M&&C&&(z=Nn(z,I.memoizedProps,I)),St(d,z);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)z=I.child,z!==null&&(z.return=I),cf(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};Hu=function(d,m){var M=m.stateNode;if(!uf(d,m)){d=M.containerInfo;var C=dt(d);cf(C,m,!1,!1),M.pendingChildren=C,Jo(m),Gt(d,C)}},Z=function(d,m,M,C,I){var z=d.stateNode,ye=d.memoizedProps;if((d=uf(d,m))&&ye===C)m.stateNode=z;else{var Be=m.stateNode,ct=bt(Qn.current),Lt=null;ye!==C&&(Lt=oe(Be,M,ye,C,I,ct)),d&&Lt===null?m.stateNode=z:(z=We(z,Lt,M,ye,C,m,d,Be),se(z,M,C,I,ct)&&Jo(m),m.stateNode=z,d?Jo(m):Ra(z,m,!1,!1))}},Pa=function(d,m,M,C){M!==C?(d=bt(Fr.current),M=bt(Qn.current),m.stateNode=xe(C,d,M,m),Jo(m)):m.stateNode=d.stateNode}}else Hu=function(){},Z=function(){},Pa=function(){};function es(d,m){if(!tt)switch(d.tailMode){case"hidden":m=d.tail;for(var M=null;m!==null;)m.alternate!==null&&(M=m),m=m.sibling;M===null?d.tail=null:M.sibling=null;break;case"collapsed":M=d.tail;for(var C=null;M!==null;)M.alternate!==null&&(C=M),M=M.sibling;C===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function wn(d){var m=d.alternate!==null&&d.alternate.child===d.child,M=0,C=0;if(m)for(var I=d.child;I!==null;)M|=I.lanes|I.childLanes,C|=I.subtreeFlags&14680064,C|=I.flags&14680064,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)M|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=C,d.childLanes=M,m}function Vx(d,m,M){var C=m.pendingProps;switch(Se(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(m),null;case 1:return li(m.type)&&Pr(),wn(m),null;case 3:return C=m.stateNode,Ht(),Wt(Tr),Wt(yn),Ft(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(d===null||d.child===null)&&(cr(m)?Jo(m):d===null||d.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,vt!==null&&(Ql(vt),vt=null))),Hu(d,m),wn(m),null;case 5:on(m),M=bt(Fr.current);var I=m.type;if(d!==null&&m.stateNode!=null)Z(d,m,I,C,M),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!C){if(m.stateNode===null)throw Error(a(166));return wn(m),null}if(d=bt(Qn.current),cr(m)){if(!He)throw Error(a(175));d=An(m.stateNode,m.type,m.memoizedProps,M,d,m,!it),m.updateQueue=d,d!==null&&Jo(m)}else{var z=ie(I,C,M,d,m);Ra(z,m,!1,!1),m.stateNode=z,se(z,I,C,M,d)&&Jo(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return wn(m),null;case 6:if(d&&m.stateNode!=null)Pa(d,m,d.memoizedProps,C);else{if(typeof C!="string"&&m.stateNode===null)throw Error(a(166));if(d=bt(Fr.current),M=bt(Qn.current),cr(m)){if(!He)throw Error(a(176));if(d=m.stateNode,C=m.memoizedProps,(M=an(d,C,m,!it))&&(I=me,I!==null))switch(z=(I.mode&1)!==0,I.tag){case 3:Xt(I.stateNode.containerInfo,d,C,z);break;case 5:tn(I.type,I.memoizedProps,I.stateNode,d,C,z)}M&&Jo(m)}else m.stateNode=xe(C,d,M,m)}return wn(m),null;case 13:if(Wt(Ee),C=m.memoizedState,tt&&ze!==null&&m.mode&1&&!(m.flags&128)){for(d=ze;d;)d=Nt(d);return Mr(),m.flags|=98560,m}if(C!==null&&C.dehydrated!==null){if(C=cr(m),d===null){if(!C)throw Error(a(318));if(!He)throw Error(a(344));if(d=m.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));ln(d,m)}else Mr(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return wn(m),null}return vt!==null&&(Ql(vt),vt=null),m.flags&128?(m.lanes=M,m):(C=C!==null,M=!1,d===null?cr(m):M=d.memoizedState!==null,C&&!M&&(m.child.flags|=8192,m.mode&1&&(d===null||Ee.current&1?Zr===0&&(Zr=3):Yh())),m.updateQueue!==null&&(m.flags|=4),wn(m),null);case 4:return Ht(),Hu(d,m),d===null&&Je(m.stateNode.containerInfo),wn(m),null;case 10:return Yo(m.type._context),wn(m),null;case 17:return li(m.type)&&Pr(),wn(m),null;case 19:if(Wt(Ee),I=m.memoizedState,I===null)return wn(m),null;if(C=(m.flags&128)!==0,z=I.rendering,z===null)if(C)es(I,!1);else{if(Zr!==0||d!==null&&d.flags&128)for(d=m.child;d!==null;){if(z=rt(d),z!==null){for(m.flags|=128,es(I,!1),d=z.updateQueue,d!==null&&(m.updateQueue=d,m.flags|=4),m.subtreeFlags=0,d=M,C=m.child;C!==null;)M=C,I=d,M.flags&=14680066,z=M.alternate,z===null?(M.childLanes=0,M.lanes=I,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=z.childLanes,M.lanes=z.lanes,M.child=z.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=z.memoizedProps,M.memoizedState=z.memoizedState,M.updateQueue=z.updateQueue,M.type=z.type,I=z.dependencies,M.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),C=C.sibling;return kt(Ee,Ee.current&1|2),m.child}d=d.sibling}I.tail!==null&&ui()>mf&&(m.flags|=128,C=!0,es(I,!1),m.lanes=4194304)}else{if(!C)if(d=rt(z),d!==null){if(m.flags|=128,C=!0,d=d.updateQueue,d!==null&&(m.updateQueue=d,m.flags|=4),es(I,!0),I.tail===null&&I.tailMode==="hidden"&&!z.alternate&&!tt)return wn(m),null}else 2*ui()-I.renderingStartTime>mf&&M!==1073741824&&(m.flags|=128,C=!0,es(I,!1),m.lanes=4194304);I.isBackwards?(z.sibling=m.child,m.child=z):(d=I.last,d!==null?d.sibling=z:m.child=z,I.last=z)}return I.tail!==null?(m=I.tail,I.rendering=m,I.tail=m.sibling,I.renderingStartTime=ui(),m.sibling=null,d=Ee.current,kt(Ee,C?d&1|2:d&1),m):(wn(m),null);case 22:case 23:return im(),C=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==C&&(m.flags|=8192),C&&m.mode&1?Gs&1073741824&&(wn(m),Le&&m.subtreeFlags&6&&(m.flags|=8192)):wn(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}var Wx=l.ReactCurrentOwner,ks=!1;function Qr(d,m,M,C){m.child=d===null?bi(m,null,M,C):Ur(m,d.child,M,C)}function Ov(d,m,M,C,I){M=M.render;var z=m.ref;return Ko(m,I),C=pr(d,m,M,C,z,I),M=Up(),d!==null&&!ks?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~I,Ri(d,m,I)):(tt&&M&&Me(m),m.flags|=1,Qr(d,m,C,I),m.child)}function Iv(d,m,M,C,I){if(d===null){var z=M.type;return typeof z=="function"&&!cm(z)&&z.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(m.tag=15,m.type=z,Nv(d,m,z,C,I)):(d=Qh(M.type,null,C,m,m.mode,I),d.ref=m.ref,d.return=m,m.child=d)}if(z=d.child,!(d.lanes&I)){var ye=z.memoizedProps;if(M=M.compare,M=M!==null?M:jr,M(ye,C)&&d.ref===m.ref)return Ri(d,m,I)}return m.flags|=1,d=Oa(z,C),d.ref=m.ref,d.return=m,m.child=d}function Nv(d,m,M,C,I){if(d!==null&&jr(d.memoizedProps,C)&&d.ref===m.ref)if(ks=!1,(d.lanes&I)!==0)d.flags&131072&&(ks=!0);else return m.lanes=d.lanes,Ri(d,m,I);return Ao(d,m,M,C,I)}function Dv(d,m,M){var C=m.pendingProps,I=C.children,z=d!==null?d.memoizedState:null;if(C.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},kt(ju,Gs),Gs|=M;else if(M&1073741824)m.memoizedState={baseLanes:0,cachePool:null},C=z!==null?z.baseLanes:M,kt(ju,Gs),Gs|=C;else return d=z!==null?z.baseLanes|M:M,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null},m.updateQueue=null,kt(ju,Gs),Gs|=d,null;else z!==null?(C=z.baseLanes|M,m.memoizedState=null):C=M,kt(ju,Gs),Gs|=C;return Qr(d,m,I,M),m.child}function Uv(d,m){var M=m.ref;(d===null&&M!==null||d!==null&&d.ref!==M)&&(m.flags|=512,m.flags|=2097152)}function Ao(d,m,M,C,I){var z=li(M)?nr:yn.current;return z=Qi(m,z),Ko(m,I),M=pr(d,m,M,C,z,I),C=Up(),d!==null&&!ks?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~I,Ri(d,m,I)):(tt&&C&&Me(m),m.flags|=1,Qr(d,m,M,I),m.child)}function Fv(d,m,M,C,I){if(li(M)){var z=!0;Si(m)}else z=!1;if(Ko(m,I),m.stateNode===null)d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),zl(m,M,C),Us(m,M,C,I),C=!0;else if(d===null){var ye=m.stateNode,Be=m.memoizedProps;ye.props=Be;var ct=ye.context,Lt=M.contextType;typeof Lt=="object"&&Lt!==null?Lt=Nr(Lt):(Lt=li(M)?nr:yn.current,Lt=Qi(m,Lt));var en=M.getDerivedStateFromProps,Dn=typeof en=="function"||typeof ye.getSnapshotBeforeUpdate=="function";Dn||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Be!==C||ct!==Lt)&&il(m,ye,C,Lt),Yr=!1;var vn=m.memoizedState;ye.state=vn,ds(m,C,ye,I),ct=m.memoizedState,Be!==C||vn!==ct||Tr.current||Yr?(typeof en=="function"&&(rl(m,M,en,C),ct=m.memoizedState),(Be=Yr||kl(m,M,Be,C,vn,ct,Lt))?(Dn||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=ct),ye.props=C,ye.state=ct,ye.context=Lt,C=Be):(typeof ye.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{ye=m.stateNode,Jc(d,m),Be=m.memoizedProps,Lt=m.type===m.elementType?Be:Ei(m.type,Be),ye.props=Lt,Dn=m.pendingProps,vn=ye.context,ct=M.contextType,typeof ct=="object"&&ct!==null?ct=Nr(ct):(ct=li(M)?nr:yn.current,ct=Qi(m,ct));var Cr=M.getDerivedStateFromProps;(en=typeof Cr=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Be!==Dn||vn!==ct)&&il(m,ye,C,ct),Yr=!1,vn=m.memoizedState,ye.state=vn,ds(m,C,ye,I);var cn=m.memoizedState;Be!==Dn||vn!==cn||Tr.current||Yr?(typeof Cr=="function"&&(rl(m,M,Cr,C),cn=m.memoizedState),(Lt=Yr||kl(m,M,Lt,C,vn,cn,ct)||!1)?(en||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(C,cn,ct),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(C,cn,ct)),typeof ye.componentDidUpdate=="function"&&(m.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Be===d.memoizedProps&&vn===d.memoizedState||(m.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Be===d.memoizedProps&&vn===d.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=cn),ye.props=C,ye.state=cn,ye.context=ct,C=Lt):(typeof ye.componentDidUpdate!="function"||Be===d.memoizedProps&&vn===d.memoizedState||(m.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Be===d.memoizedProps&&vn===d.memoizedState||(m.flags|=1024),C=!1)}return Vp(d,m,M,C,z,I)}function Vp(d,m,M,C,I,z){Uv(d,m);var ye=(m.flags&128)!==0;if(!C&&!ye)return I&&qo(m,M,!1),Ri(d,m,z);C=m.stateNode,Wx.current=m;var Be=ye&&typeof M.getDerivedStateFromError!="function"?null:C.render();return m.flags|=1,d!==null&&ye?(m.child=Ur(m,d.child,null,z),m.child=Ur(m,null,Be,z)):Qr(d,m,Be,z),m.memoizedState=C.state,I&&qo(m,M,!0),m.child}function Bv(d){var m=d.stateNode;m.pendingContext?hs(d,m.pendingContext,m.pendingContext!==m.context):m.context&&hs(d,m.context,!1),At(d,m.containerInfo)}function kv(d,m,M,C,I){return Mr(),Un(I),m.flags|=256,Qr(d,m,M,C),m.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function ao(d){return{baseLanes:d,cachePool:null}}function zv(d,m,M){var C=m.pendingProps,I=Ee.current,z=!1,ye=(m.flags&128)!==0,Be;if((Be=ye)||(Be=d!==null&&d.memoizedState===null?!1:(I&2)!==0),Be?(z=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(I|=1),kt(Ee,I&1),d===null)return Zt(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(m.mode&1?je(d)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(I=C.children,d=C.fallback,z?(C=m.mode,z=m.child,I={mode:"hidden",children:I},!(C&1)&&z!==null?(z.childLanes=0,z.pendingProps=I):z=xf(I,C,0,null),d=vl(d,C,M,null),z.return=m,d.return=m,z.sibling=d,m.child=z,m.child.memoizedState=ao(M),m.memoizedState=Uh,d):Wp(m,I));if(I=d.memoizedState,I!==null){if(Be=I.dehydrated,Be!==null){if(ye)return m.flags&256?(m.flags&=-257,Fh(d,m,M,Error(a(422)))):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(z=C.fallback,I=m.mode,C=xf({mode:"visible",children:C.children},I,0,null),z=vl(z,I,M,null),z.flags|=2,C.return=m,z.return=m,C.sibling=z,m.child=C,m.mode&1&&Ur(m,d.child,null,M),m.child.memoizedState=ao(M),m.memoizedState=Uh,z);if(!(m.mode&1))m=Fh(d,m,M,null);else if(je(Be))m=Fh(d,m,M,Error(a(419)));else if(C=(M&d.childLanes)!==0,ks||C){if(C=hi,C!==null){switch(M&-M){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}C=z&(C.suspendedLanes|M)?0:z,C!==0&&C!==I.retryLane&&(I.retryLane=C,lo(d,C,-1))}Yh(),m=Fh(d,m,M,Error(a(421)))}else _e(Be)?(m.flags|=128,m.child=d.child,m=gl.bind(null,d),lt(Be,m),m=null):(M=I.treeContext,He&&(ze=Dt(Be),me=m,tt=!0,vt=null,it=!1,M!==null&&(R[B++]=X,R[B++]=J,R[B++]=H,X=M.id,J=M.overflow,H=m)),m=Wp(m,m.pendingProps.children),m.flags|=4096);return m}return z?(C=Gv(d,m,C.children,C.fallback,M),z=m.child,I=d.child.memoizedState,z.memoizedState=I===null?ao(M):{baseLanes:I.baseLanes|M,cachePool:null},z.childLanes=d.childLanes&~M,m.memoizedState=Uh,C):(M=Hv(d,m,C.children,M),m.memoizedState=null,M)}return z?(C=Gv(d,m,C.children,C.fallback,M),z=m.child,I=d.child.memoizedState,z.memoizedState=I===null?ao(M):{baseLanes:I.baseLanes|M,cachePool:null},z.childLanes=d.childLanes&~M,m.memoizedState=Uh,C):(M=Hv(d,m,C.children,M),m.memoizedState=null,M)}function Wp(d,m){return m=xf({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Hv(d,m,M,C){var I=d.child;return d=I.sibling,M=Oa(I,{mode:"visible",children:M}),!(m.mode&1)&&(M.lanes=C),M.return=m,M.sibling=null,d!==null&&(C=m.deletions,C===null?(m.deletions=[d],m.flags|=16):C.push(d)),m.child=M}function Gv(d,m,M,C,I){var z=m.mode;d=d.child;var ye=d.sibling,Be={mode:"hidden",children:M};return!(z&1)&&m.child!==d?(M=m.child,M.childLanes=0,M.pendingProps=Be,m.deletions=null):(M=Oa(d,Be),M.subtreeFlags=d.subtreeFlags&14680064),ye!==null?C=Oa(ye,C):(C=vl(C,z,I,null),C.flags|=2),C.return=m,M.return=m,M.sibling=C,m.child=M,C}function Fh(d,m,M,C){return C!==null&&Un(C),Ur(m,d.child,null,M),d=Wp(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function ll(d,m,M){d.lanes|=m;var C=d.alternate;C!==null&&(C.lanes|=m),To(d.return,m,M)}function jp(d,m,M,C,I){var z=d.memoizedState;z===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:M,tailMode:I}:(z.isBackwards=m,z.rendering=null,z.renderingStartTime=0,z.last=C,z.tail=M,z.tailMode=I)}function Vv(d,m,M){var C=m.pendingProps,I=C.revealOrder,z=C.tail;if(Qr(d,m,C.children,M),C=Ee.current,C&2)C=C&1|2,m.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ll(d,M,m);else if(d.tag===19)ll(d,M,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}if(kt(Ee,C),!(m.mode&1))m.memoizedState=null;else switch(I){case"forwards":for(M=m.child,I=null;M!==null;)d=M.alternate,d!==null&&rt(d)===null&&(I=M),M=M.sibling;M=I,M===null?(I=m.child,m.child=null):(I=M.sibling,M.sibling=null),jp(m,!1,I,M,z);break;case"backwards":for(M=null,I=m.child,m.child=null;I!==null;){if(d=I.alternate,d!==null&&rt(d)===null){m.child=I;break}d=I.sibling,I.sibling=M,M=I,I=d}jp(m,!0,M,null,z);break;case"together":jp(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ri(d,m,M){if(d!==null&&(m.dependencies=d.dependencies),qu|=m.lanes,!(M&m.childLanes))return null;if(d!==null&&m.child!==d.child)throw Error(a(153));if(m.child!==null){for(d=m.child,M=Oa(d,d.pendingProps),m.child=M,M.return=m;d.sibling!==null;)d=d.sibling,M=M.sibling=Oa(d,d.pendingProps),M.return=m;M.sibling=null}return m.child}function jx(d,m,M){switch(m.tag){case 3:Bv(m),Mr();break;case 5:zn(m);break;case 1:li(m.type)&&Si(m);break;case 4:At(m,m.stateNode.containerInfo);break;case 10:$c(m,m.type._context,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(kt(Ee,Ee.current&1),m.flags|=128,null):M&m.child.childLanes?zv(d,m,M):(kt(Ee,Ee.current&1),d=Ri(d,m,M),d!==null?d.sibling:null);kt(Ee,Ee.current&1);break;case 19:if(C=(M&m.childLanes)!==0,d.flags&128){if(C)return Vv(d,m,M);m.flags|=128}var I=m.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),kt(Ee,Ee.current),C)break;return null;case 22:case 23:return m.lanes=0,Dv(d,m,M)}return Ri(d,m,M)}function Xx(d,m){switch(Se(m),m.tag){case 1:return li(m.type)&&Pr(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Ht(),Wt(Tr),Wt(yn),Ft(),d=m.flags,d&65536&&!(d&128)?(m.flags=d&-65537|128,m):null;case 5:return on(m),null;case 13:if(Wt(Ee),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(a(340));Mr()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Wt(Ee),null;case 4:return Ht(),null;case 10:return Yo(m.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var Bh=!1,ql=!1,qx=typeof WeakSet=="function"?WeakSet:Set,jt=null;function ff(d,m){var M=d.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(C){is(d,m,C)}else M.current=null}function Xp(d,m,M){try{M()}catch(C){is(d,m,C)}}var Wv=!1;function qp(d,m){for(V(d.containerInfo),jt=m;jt!==null;)if(d=jt,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,jt=m;else for(;jt!==null;){d=jt;try{var M=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var C=M.memoizedProps,I=M.memoizedState,z=d.stateNode,ye=z.getSnapshotBeforeUpdate(d.elementType===d.type?C:Ei(d.type,C),I);z.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:Le&&Re(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Be){is(d,d.return,Be)}if(m=d.sibling,m!==null){m.return=d.return,jt=m;break}jt=d.return}return M=Wv,Wv=!1,M}function Co(d,m,M){var C=m.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var I=C=C.next;do{if((I.tag&d)===d){var z=I.destroy;I.destroy=void 0,z!==void 0&&Xp(m,M,z)}I=I.next}while(I!==C)}}function ul(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var M=m=m.next;do{if((M.tag&d)===d){var C=M.create;M.destroy=C()}M=M.next}while(M!==m)}}function Yp(d){var m=d.ref;if(m!==null){var M=d.stateNode;switch(d.tag){case 5:d=re(M);break;default:d=M}typeof m=="function"?m(d):m.current=d}}function Kp(d,m,M){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Dl,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(d=m.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var C=d=d.next;do{var I=C,z=I.destroy;I=I.tag,z!==void 0&&(I&2||I&4)&&Xp(m,M,z),C=C.next}while(C!==d)}break;case 1:if(ff(m,M),d=m.stateNode,typeof d.componentWillUnmount=="function")try{d.props=m.memoizedProps,d.state=m.memoizedState,d.componentWillUnmount()}catch(ye){is(m,M,ye)}break;case 5:ff(m,M);break;case 4:Le?Qp(d,m,M):Q&&Q&&(m=m.stateNode.containerInfo,M=dt(m),Qt(m,M))}}function jv(d,m,M){for(var C=m;;)if(Kp(d,C,M),C.child===null||Le&&C.tag===4){if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function Zo(d){var m=d.alternate;m!==null&&(d.alternate=null,Zo(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&mt(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function kh(d){return d.tag===5||d.tag===3||d.tag===4}function cl(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||kh(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function zs(d){if(Le){e:{for(var m=d.return;m!==null;){if(kh(m))break e;m=m.return}throw Error(a(160))}var M=m;switch(M.tag){case 5:m=M.stateNode,M.flags&32&&(Kt(m),M.flags&=-33),M=cl(d),zh(d,M,m);break;case 3:case 4:m=M.stateNode.containerInfo,M=cl(d),$p(d,M,m);break;default:throw Error(a(161))}}}function $p(d,m,M){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?wt(M,d,m):Ce(M,d);else if(C!==4&&(d=d.child,d!==null))for($p(d,m,M),d=d.sibling;d!==null;)$p(d,m,M),d=d.sibling}function zh(d,m,M){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?Ct(M,d,m):nt(M,d);else if(C!==4&&(d=d.child,d!==null))for(zh(d,m,M),d=d.sibling;d!==null;)zh(d,m,M),d=d.sibling}function Qp(d,m,M){for(var C=m,I=!1,z,ye;;){if(!I){I=C.return;e:for(;;){if(I===null)throw Error(a(160));switch(z=I.stateNode,I.tag){case 5:ye=!1;break e;case 3:z=z.containerInfo,ye=!0;break e;case 4:z=z.containerInfo,ye=!0;break e}I=I.return}I=!0}if(C.tag===5||C.tag===6)jv(d,C,M),ye?It(z,C.stateNode):ut(z,C.stateNode);else if(C.tag===18)ye?$e(z,C.stateNode):Ke(z,C.stateNode);else if(C.tag===4){if(C.child!==null){z=C.stateNode.containerInfo,ye=!0,C.child.return=C,C=C.child;continue}}else if(Kp(d,C,M),C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return,C.tag===4&&(I=!1)}C.sibling.return=C.return,C=C.sibling}}function Yl(d,m){if(Le){switch(m.tag){case 0:case 11:case 14:case 15:Co(3,m,m.return),ul(3,m),Co(5,m,m.return);return;case 1:return;case 5:var M=m.stateNode;if(M!=null){var C=m.memoizedProps;d=d!==null?d.memoizedProps:C;var I=m.type,z=m.updateQueue;m.updateQueue=null,z!==null&&Bt(M,z,I,d,C,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));M=m.memoizedProps,De(m.stateNode,d!==null?d.memoizedProps:M,M);return;case 3:He&&d!==null&&d.memoizedState.isDehydrated&&Ne(m.stateNode.containerInfo);return;case 12:return;case 13:Ro(m);return;case 19:Ro(m);return;case 17:return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:Co(3,m,m.return),ul(3,m),Co(5,m,m.return);return;case 12:return;case 13:Ro(m);return;case 19:Ro(m);return;case 3:He&&d!==null&&d.memoizedState.isDehydrated&&Ne(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(Q){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Qt(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function Ro(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var M=d.stateNode;M===null&&(M=d.stateNode=new qx),m.forEach(function(C){var I=Zv.bind(null,d,C);M.has(C)||(M.add(C),C.then(I,I))})}}function Xv(d,m){for(jt=m;jt!==null;){m=jt;var M=m.deletions;if(M!==null)for(var C=0;C<M.length;C++){var I=M[C];try{var z=d;Le?Qp(z,I,m):jv(z,I,m);var ye=I.alternate;ye!==null&&(ye.return=null),I.return=null}catch(fn){is(I,m,fn)}}if(M=m.child,m.subtreeFlags&12854&&M!==null)M.return=m,jt=M;else for(;jt!==null;){m=jt;try{var Be=m.flags;if(Be&32&&Le&&Kt(m.stateNode),Be&512){var ct=m.alternate;if(ct!==null){var Lt=ct.ref;Lt!==null&&(typeof Lt=="function"?Lt(null):Lt.current=null)}}if(Be&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var en=m.alternate;(en===null||en.memoizedState===null)&&(nm=ui())}break;case 22:var Dn=m.memoizedState!==null,vn=m.alternate,Cr=vn!==null&&vn.memoizedState!==null;if(M=m,Le){e:if(C=M,I=Dn,z=null,Le)for(var cn=C;;){if(cn.tag===5){if(z===null){z=cn;var os=cn.stateNode;I?Mn(os):Rt(cn.stateNode,cn.memoizedProps)}}else if(cn.tag===6){if(z===null){var Ws=cn.stateNode;I?Tt(Ws):ce(Ws,cn.memoizedProps)}}else if((cn.tag!==22&&cn.tag!==23||cn.memoizedState===null||cn===C)&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===C)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===C)break e;z===cn&&(z=null),cn=cn.return}z===cn&&(z=null),cn.sibling.return=cn.return,cn=cn.sibling}}if(Dn&&!Cr&&M.mode&1){jt=M;for(var Ze=M.child;Ze!==null;){for(M=jt=Ze;jt!==null;){C=jt;var Ve=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Co(4,C,C.return);break;case 1:ff(C,C.return);var at=C.stateNode;if(typeof at.componentWillUnmount=="function"){var Yt=C.return;try{at.props=C.memoizedProps,at.state=C.memoizedState,at.componentWillUnmount()}catch(fn){is(C,Yt,fn)}}break;case 5:ff(C,C.return);break;case 22:if(C.memoizedState!==null){Jp(M);continue}}Ve!==null?(Ve.return=C,jt=Ve):Jp(M)}Ze=Ze.sibling}}}switch(Be&4102){case 2:zs(m),m.flags&=-3;break;case 6:zs(m),m.flags&=-3,Yl(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,Yl(m.alternate,m);break;case 4:Yl(m.alternate,m)}}catch(fn){is(m,m.return,fn)}if(M=m.sibling,M!==null){M.return=m.return,jt=M;break}jt=m.return}}}function Yx(d,m,M){jt=d,hf(d)}function hf(d,m,M){for(var C=(d.mode&1)!==0;jt!==null;){var I=jt,z=I.child;if(I.tag===22&&C){var ye=I.memoizedState!==null||Bh;if(!ye){var Be=I.alternate,ct=Be!==null&&Be.memoizedState!==null||ql;Be=Bh;var Lt=ql;if(Bh=ye,(ql=ct)&&!Lt)for(jt=I;jt!==null;)ye=jt,ct=ye.child,ye.tag===22&&ye.memoizedState!==null?ki(I):ct!==null?(ct.return=ye,jt=ct):ki(I);for(;z!==null;)jt=z,hf(z),z=z.sibling;jt=I,Bh=Be,ql=Lt}qv(d)}else I.subtreeFlags&8772&&z!==null?(z.return=I,jt=z):qv(d)}}function qv(d){for(;jt!==null;){var m=jt;if(m.flags&8772){var M=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:ql||ul(5,m);break;case 1:var C=m.stateNode;if(m.flags&4&&!ql)if(M===null)C.componentDidMount();else{var I=m.elementType===m.type?M.memoizedProps:Ei(m.type,M.memoizedProps);C.componentDidUpdate(I,M.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var z=m.updateQueue;z!==null&&Bl(m,z,C);break;case 3:var ye=m.updateQueue;if(ye!==null){if(M=null,m.child!==null)switch(m.child.tag){case 5:M=re(m.child.stateNode);break;case 1:M=m.child.stateNode}Bl(m,ye,M)}break;case 5:var Be=m.stateNode;M===null&&m.flags&4&&Ut(Be,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(He&&m.memoizedState===null){var ct=m.alternate;if(ct!==null){var Lt=ct.memoizedState;if(Lt!==null){var en=Lt.dehydrated;en!==null&&qe(en)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ql||m.flags&512&&Yp(m)}catch(Dn){is(m,m.return,Dn)}}if(m===d){jt=null;break}if(M=m.sibling,M!==null){M.return=m.return,jt=M;break}jt=m.return}}function Jp(d){for(;jt!==null;){var m=jt;if(m===d){jt=null;break}var M=m.sibling;if(M!==null){M.return=m.return,jt=M;break}jt=m.return}}function ki(d){for(;jt!==null;){var m=jt;try{switch(m.tag){case 0:case 11:case 15:var M=m.return;try{ul(4,m)}catch(ct){is(m,M,ct)}break;case 1:var C=m.stateNode;if(typeof C.componentDidMount=="function"){var I=m.return;try{C.componentDidMount()}catch(ct){is(m,I,ct)}}var z=m.return;try{Yp(m)}catch(ct){is(m,z,ct)}break;case 5:var ye=m.return;try{Yp(m)}catch(ct){is(m,ye,ct)}}}catch(ct){is(m,m.return,ct)}if(m===d){jt=null;break}var Be=m.sibling;if(Be!==null){Be.return=m.return,jt=Be;break}jt=m.return}}var Gu=0,df=1,Hs=2,Vu=3,Kl=4;if(typeof Symbol=="function"&&Symbol.for){var Po=Symbol.for;Gu=Po("selector.component"),df=Po("selector.has_pseudo_class"),Hs=Po("selector.role"),Vu=Po("selector.test_id"),Kl=Po("selector.text")}function Hh(d){var m=Pe(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(d=Ie(d),d===null)throw Error(a(362));return d.stateNode.current}function Vi(d,m){switch(m.$$typeof){case Gu:if(d.type===m.value)return!0;break;case df:e:{m=m.value,d=[d,0];for(var M=0;M<d.length;){var C=d[M++],I=d[M++],z=m[I];if(C.tag!==5||!be(C)){for(;z!=null&&Vi(C,z);)I++,z=m[I];if(I===m.length){m=!0;break e}else for(C=C.child;C!==null;)d.push(C,I),C=C.sibling}}m=!1}return m;case Hs:if(d.tag===5&&pe(d.stateNode,m.value))return!0;break;case Kl:if((d.tag===5||d.tag===6)&&(d=ot(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case Vu:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function pf(d){switch(d.$$typeof){case Gu:return"<"+(O(d.value)||"Unknown")+">";case df:return":has("+(pf(d)||"")+")";case Hs:return'[role="'+d.value+'"]';case Kl:return'"'+d.value+'"';case Vu:return'[data-testname="'+d.value+'"]';default:throw Error(a(365))}}function Yv(d,m){var M=[];d=[d,0];for(var C=0;C<d.length;){var I=d[C++],z=d[C++],ye=m[z];if(I.tag!==5||!be(I)){for(;ye!=null&&Vi(I,ye);)z++,ye=m[z];if(z===m.length)M.push(I);else for(I=I.child;I!==null;)d.push(I,z),I=I.sibling}}return M}function Zp(d,m){if(!Y)throw Error(a(363));d=Hh(d),d=Yv(d,m),m=[],d=Array.from(d);for(var M=0;M<d.length;){var C=d[M++];if(C.tag===5)be(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)d.push(C),C=C.sibling}return m}var Kx=Math.ceil,Wu=l.ReactCurrentDispatcher,em=l.ReactCurrentOwner,Br=l.ReactCurrentBatchConfig,Gn=0,hi=null,di=null,Jr=0,Gs=0,ju=sn(0),Zr=0,Xu=null,qu=0,Gh=0,tm=0,Yu=null,ts=null,nm=0,mf=1/0;function $l(){mf=ui()+500}var gf=!1,Vh=null,Lo=null,Wh=!1,La=null,vf=0,yf=0,jh=null,Xh=-1,Ku=0;function ns(){return Gn&6?ui():Xh!==-1?Xh:Xh=ui()}function ea(d){return d.mode&1?Gn&2&&Jr!==0?Jr&-Jr:wr.transition!==null?(Ku===0&&(d=_a,_a<<=1,!(_a&4194240)&&(_a=64),Ku=d),Ku):(d=rr,d!==0?d:Ye()):1}function lo(d,m,M){if(50<yf)throw yf=0,jh=null,Error(a(185));var C=$u(d,m);return C===null?null:(Ea(C,m,M),(!(Gn&2)||C!==hi)&&(C===hi&&(!(Gn&2)&&(Gh|=m),Zr===4&&fl(C,Jr)),Sn(C,M),m===1&&Gn===0&&!(d.mode&1)&&($l(),Iu&&wi())),C)}function $u(d,m){d.lanes|=m;var M=d.alternate;for(M!==null&&(M.lanes|=m),M=d,d=d.return;d!==null;)d.childLanes|=m,M=d.alternate,M!==null&&(M.childLanes|=m),M=d,d=d.return;return M.tag===3?M.stateNode:null}function Sn(d,m){var M=d.callbackNode;Kc(d,m);var C=Ja(d,d===hi?Jr:0);if(C===0)M!==null&&Lu(M),d.callbackNode=null,d.callbackPriority=0;else if(m=C&-C,d.callbackPriority!==m){if(M!=null&&Lu(M),m===1)d.tag===0?Dp(Qv.bind(null,d)):Lh(Qv.bind(null,d)),gt?ne(function(){Gn===0&&wi()}):Za(el,wi),M=null;else{switch(Ch(C)){case 1:M=el;break;case 4:M=Ma;break;case 16:M=Ou;break;case 536870912:M=Ph;break;default:M=Ou}M=$h(M,Kv.bind(null,d))}d.callbackPriority=m,d.callbackNode=M}}function Kv(d,m){if(Xh=-1,Ku=0,Gn&6)throw Error(a(327));var M=d.callbackNode;if(pl()&&d.callbackNode!==M)return null;var C=Ja(d,d===hi?Jr:0);if(C===0)return null;if(C&30||C&d.expiredLanes||m)m=rs(d,C);else{m=C;var I=Gn;Gn|=2;var z=sm();(hi!==d||Jr!==m)&&($l(),ta(d,m));do try{om();break}catch(Be){qh(d,Be)}while(!0);Du(),Wu.current=z,Gn=I,di!==null?m=0:(hi=null,Jr=0,m=Zr)}if(m!==0){if(m===2&&(I=Sa(d),I!==0&&(C=I,m=rm(d,I))),m===1)throw M=Xu,ta(d,0),fl(d,C),Sn(d,ui()),M;if(m===6)fl(d,C);else{if(I=d.current.alternate,!(C&30)&&!$v(I)&&(m=rs(d,C),m===2&&(z=Sa(d),z!==0&&(C=z,m=rm(d,z))),m===1))throw M=Xu,ta(d,0),fl(d,C),Sn(d,ui()),M;switch(d.finishedWork=I,d.finishedLanes=C,m){case 0:case 1:throw Error(a(345));case 2:dl(d,ts);break;case 3:if(fl(d,C),(C&130023424)===C&&(m=nm+500-ui(),10<m)){if(Ja(d,0)!==0)break;if(I=d.suspendedLanes,(I&C)!==C){ns(),d.pingedLanes|=d.suspendedLanes&I;break}d.timeoutHandle=he(dl.bind(null,d,ts),m);break}dl(d,ts);break;case 4:if(fl(d,C),(C&4194240)===C)break;for(m=d.eventTimes,I=-1;0<C;){var ye=31-Ji(C);z=1<<ye,ye=m[ye],ye>I&&(I=ye),C&=~z}if(C=I,C=ui()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*Kx(C/1960))-C,10<C){d.timeoutHandle=he(dl.bind(null,d,ts),C);break}dl(d,ts);break;case 5:dl(d,ts);break;default:throw Error(a(329))}}}return Sn(d,ui()),d.callbackNode===M?Kv.bind(null,d):null}function rm(d,m){var M=Yu;return d.current.memoizedState.isDehydrated&&(ta(d,m).flags|=256),d=rs(d,m),d!==2&&(m=ts,ts=M,m!==null&&Ql(m)),d}function Ql(d){ts===null?ts=d:ts.push.apply(ts,d)}function $v(d){for(var m=d;;){if(m.flags&16384){var M=m.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var C=0;C<M.length;C++){var I=M[C],z=I.getSnapshot;I=I.value;try{if(!xs(z(),I))return!1}catch{return!1}}}if(M=m.child,m.subtreeFlags&16384&&M!==null)M.return=m,m=M;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function fl(d,m){for(m&=~tm,m&=~Gh,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var M=31-Ji(m),C=1<<M;d[M]=-1,m&=~C}}function Qv(d){if(Gn&6)throw Error(a(327));pl();var m=Ja(d,0);if(!(m&1))return Sn(d,ui()),null;var M=rs(d,m);if(d.tag!==0&&M===2){var C=Sa(d);C!==0&&(m=C,M=rm(d,C))}if(M===1)throw M=Xu,ta(d,0),fl(d,m),Sn(d,ui()),M;if(M===6)throw Error(a(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,dl(d,ts),Sn(d,ui()),null}function Vs(d){La!==null&&La.tag===0&&!(Gn&6)&&pl();var m=Gn;Gn|=1;var M=Br.transition,C=rr;try{if(Br.transition=null,rr=1,d)return d()}finally{rr=C,Br.transition=M,Gn=m,!(Gn&6)&&wi()}}function im(){Gs=ju.current,Wt(ju)}function ta(d,m){d.finishedWork=null,d.finishedLanes=0;var M=d.timeoutHandle;if(M!==ke&&(d.timeoutHandle=ke,Ue(M)),di!==null)for(M=di.return;M!==null;){var C=M;switch(Se(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Pr();break;case 3:Ht(),Wt(Tr),Wt(yn),Ft();break;case 5:on(C);break;case 4:Ht();break;case 13:Wt(Ee);break;case 19:Wt(Ee);break;case 10:Yo(C.type._context);break;case 22:case 23:im()}M=M.return}if(hi=d,di=d=Oa(d.current,null),Jr=Gs=m,Zr=0,Xu=null,tm=Gh=qu=0,ts=Yu=null,oo!==null){for(m=0;m<oo.length;m++)if(M=oo[m],C=M.interleaved,C!==null){M.interleaved=null;var I=C.next,z=M.pending;if(z!==null){var ye=z.next;z.next=I,C.next=ye}M.pending=C}oo=null}return d}function qh(d,m){do{var M=di;try{if(Du(),_n.current=ku,ps){for(var C=Rn.memoizedState;C!==null;){var I=C.queue;I!==null&&(I.pending=null),C=C.next}ps=!1}if(fr=0,Bi=Fi=Rn=null,sl=!1,Zc=0,em.current=null,M===null||M.return===null){Zr=1,Xu=m,di=null;break}e:{var z=d,ye=M.return,Be=M,ct=m;if(m=Jr,Be.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Lt=ct,en=Be,Dn=en.tag;if(!(en.mode&1)&&(Dn===0||Dn===11||Dn===15)){var vn=en.alternate;vn?(en.updateQueue=vn.updateQueue,en.memoizedState=vn.memoizedState,en.lanes=vn.lanes):(en.updateQueue=null,en.memoizedState=null)}var Cr=Pv(ye);if(Cr!==null){Cr.flags&=-257,Lv(Cr,ye,Be,z,m),Cr.mode&1&&Rv(z,Lt,m),m=Cr,ct=Lt;var cn=m.updateQueue;if(cn===null){var os=new Set;os.add(ct),m.updateQueue=os}else cn.add(ct);break e}else{if(!(m&1)){Rv(z,Lt,m),Yh();break e}ct=Error(a(426))}}else if(tt&&Be.mode&1){var Ws=Pv(ye);if(Ws!==null){!(Ws.flags&65536)&&(Ws.flags|=256),Lv(Ws,ye,Be,z,m),Un(ct);break e}}z=ct,Zr!==4&&(Zr=2),Yu===null?Yu=[z]:Yu.push(z),ct=Wl(ct,Be),Be=ye;do{switch(Be.tag){case 3:Be.flags|=65536,m&=-m,Be.lanes|=m;var Ze=Xl(Be,ct,m);Er(Be,Ze);break e;case 1:z=ct;var Ve=Be.type,at=Be.stateNode;if(!(Be.flags&128)&&(typeof Ve.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Lo===null||!Lo.has(at)))){Be.flags|=65536,m&=-m,Be.lanes|=m;var Yt=Cv(Be,z,m);Er(Be,Yt);break e}}Be=Be.return}while(Be!==null)}_f(M)}catch(fn){m=fn,di===M&&M!==null&&(di=M=M.return);continue}break}while(!0)}function sm(){var d=Wu.current;return Wu.current=ku,d===null?ku:d}function Yh(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),hi===null||!(qu&268435455)&&!(Gh&268435455)||fl(hi,Jr)}function rs(d,m){var M=Gn;Gn|=2;var C=sm();hi===d&&Jr===m||ta(d,m);do try{hl();break}catch(I){qh(d,I)}while(!0);if(Du(),Gn=M,Wu.current=C,di!==null)throw Error(a(261));return hi=null,Jr=0,Zr}function hl(){for(;di!==null;)am(di)}function om(){for(;di!==null&&!Rh();)am(di)}function am(d){var m=um(d.alternate,d,Gs);d.memoizedProps=d.pendingProps,m===null?_f(d):di=m,em.current=null}function _f(d){var m=d;do{var M=m.alternate;if(d=m.return,m.flags&32768){if(M=Xx(M,m),M!==null){M.flags&=32767,di=M;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Zr=6,di=null;return}}else if(M=Vx(M,m,Gs),M!==null){di=M;return}if(m=m.sibling,m!==null){di=m;return}di=m=d}while(m!==null);Zr===0&&(Zr=5)}function dl(d,m){var M=rr,C=Br.transition;try{Br.transition=null,rr=1,lm(d,m,M)}finally{Br.transition=C,rr=M}return null}function lm(d,m,M){do pl();while(La!==null);if(Gn&6)throw Error(a(327));var C=d.finishedWork,I=d.finishedLanes;if(C===null)return null;if(d.finishedWork=null,d.finishedLanes=0,C===d.current)throw Error(a(177));d.callbackNode=null,d.callbackPriority=0;var z=C.lanes|C.childLanes;if(Pu(d,z),d===hi&&(di=hi=null,Jr=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||Wh||(Wh=!0,$h(Ou,function(){return pl(),null})),z=(C.flags&15990)!==0,C.subtreeFlags&15990||z){z=Br.transition,Br.transition=null;var ye=rr;rr=1;var Be=Gn;Gn|=4,em.current=null,qp(d,C),Xv(d,C),k(d.containerInfo),d.current=C,Yx(C),Np(),Gn=Be,rr=ye,Br.transition=z}else d.current=C;if(Wh&&(Wh=!1,La=d,vf=I),z=d.pendingLanes,z===0&&(Lo=null),Ar(C.stateNode),Sn(d,ui()),m!==null)for(M=d.onRecoverableError,C=0;C<m.length;C++)M(m[C]);if(gf)throw gf=!1,d=Vh,Vh=null,d;return vf&1&&d.tag!==0&&pl(),z=d.pendingLanes,z&1?d===jh?yf++:(yf=0,jh=d):yf=0,wi(),null}function pl(){if(La!==null){var d=Ch(vf),m=Br.transition,M=rr;try{if(Br.transition=null,rr=16>d?16:d,La===null)var C=!1;else{if(d=La,La=null,vf=0,Gn&6)throw Error(a(331));var I=Gn;for(Gn|=4,jt=d.current;jt!==null;){var z=jt,ye=z.child;if(jt.flags&16){var Be=z.deletions;if(Be!==null){for(var ct=0;ct<Be.length;ct++){var Lt=Be[ct];for(jt=Lt;jt!==null;){var en=jt;switch(en.tag){case 0:case 11:case 15:Co(8,en,z)}var Dn=en.child;if(Dn!==null)Dn.return=en,jt=Dn;else for(;jt!==null;){en=jt;var vn=en.sibling,Cr=en.return;if(Zo(en),en===Lt){jt=null;break}if(vn!==null){vn.return=Cr,jt=vn;break}jt=Cr}}}var cn=z.alternate;if(cn!==null){var os=cn.child;if(os!==null){cn.child=null;do{var Ws=os.sibling;os.sibling=null,os=Ws}while(os!==null)}}jt=z}}if(z.subtreeFlags&2064&&ye!==null)ye.return=z,jt=ye;else e:for(;jt!==null;){if(z=jt,z.flags&2048)switch(z.tag){case 0:case 11:case 15:Co(9,z,z.return)}var Ze=z.sibling;if(Ze!==null){Ze.return=z.return,jt=Ze;break e}jt=z.return}}var Ve=d.current;for(jt=Ve;jt!==null;){ye=jt;var at=ye.child;if(ye.subtreeFlags&2064&&at!==null)at.return=ye,jt=at;else e:for(ye=Ve;jt!==null;){if(Be=jt,Be.flags&2048)try{switch(Be.tag){case 0:case 11:case 15:ul(9,Be)}}catch(fn){is(Be,Be.return,fn)}if(Be===ye){jt=null;break e}var Yt=Be.sibling;if(Yt!==null){Yt.return=Be.return,jt=Yt;break e}jt=Be.return}}if(Gn=I,wi(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Dl,d)}catch{}C=!0}return C}finally{rr=M,Br.transition=m}}return!1}function Kh(d,m,M){m=Wl(M,m),m=Xl(d,m,1),Ds(d,m),m=ns(),d=$u(d,1),d!==null&&(Ea(d,1,m),Sn(d,m))}function is(d,m,M){if(d.tag===3)Kh(d,d,M);else for(;m!==null;){if(m.tag===3){Kh(m,d,M);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Lo===null||!Lo.has(C))){d=Wl(M,d),d=Cv(m,d,1),Ds(m,d),d=ns(),m=$u(m,1),m!==null&&(Ea(m,1,d),Sn(m,d));break}}m=m.return}}function ml(d,m,M){var C=d.pingCache;C!==null&&C.delete(m),m=ns(),d.pingedLanes|=d.suspendedLanes&M,hi===d&&(Jr&M)===M&&(Zr===4||Zr===3&&(Jr&130023424)===Jr&&500>ui()-nm?ta(d,0):tm|=M),Sn(d,m)}function Jv(d,m){m===0&&(d.mode&1?(m=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):m=1);var M=ns();d=$u(d,m),d!==null&&(Ea(d,m,M),Sn(d,M))}function gl(d){var m=d.memoizedState,M=0;m!==null&&(M=m.retryLane),Jv(d,M)}function Zv(d,m){var M=0;switch(d.tag){case 13:var C=d.stateNode,I=d.memoizedState;I!==null&&(M=I.retryLane);break;case 19:C=d.stateNode;break;default:throw Error(a(314))}C!==null&&C.delete(m),Jv(d,M)}var um;um=function(d,m,M){if(d!==null)if(d.memoizedProps!==m.pendingProps||Tr.current)ks=!0;else{if(!(d.lanes&M)&&!(m.flags&128))return ks=!1,jx(d,m,M);ks=!!(d.flags&131072)}else ks=!1,tt&&m.flags&1048576&&ue(m,Gl,m.index);switch(m.lanes=0,m.tag){case 2:var C=m.type;d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),d=m.pendingProps;var I=Qi(m,yn.current);Ko(m,M),I=pr(null,m,C,d,I,M);var z=Up();return m.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,li(C)?(z=!0,Si(m)):z=!1,m.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Qc(m),I.updater=Ss,m.stateNode=I,I._reactInternals=m,Us(m,C,d,M),m=Vp(null,m,C,!0,z,M)):(m.tag=0,tt&&z&&Me(m),Qr(null,m,I,M),m=m.child),m;case 16:C=m.elementType;e:{switch(d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),d=m.pendingProps,I=C._init,C=I(C._payload),m.type=C,I=m.tag=ey(C),d=Ei(C,d),I){case 0:m=Ao(null,m,C,d,M);break e;case 1:m=Fv(null,m,C,d,M);break e;case 11:m=Ov(null,m,C,d,M);break e;case 14:m=Iv(null,m,C,Ei(C.type,d),M);break e}throw Error(a(306,C,""))}return m;case 0:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Ei(C,I),Ao(d,m,C,I,M);case 1:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Ei(C,I),Fv(d,m,C,I,M);case 3:e:{if(Bv(m),d===null)throw Error(a(387));C=m.pendingProps,z=m.memoizedState,I=z.element,Jc(d,m),ds(m,C,null,M);var ye=m.memoizedState;if(C=ye.element,He&&z.isDehydrated)if(z={element:C,isDehydrated:!1,cache:ye.cache,transitions:ye.transitions},m.updateQueue.baseState=z,m.memoizedState=z,m.flags&256){I=Error(a(423)),m=kv(d,m,C,M,I);break e}else if(C!==I){I=Error(a(424)),m=kv(d,m,C,M,I);break e}else for(He&&(ze=mn(m.stateNode.containerInfo),me=m,tt=!0,vt=null,it=!1),M=bi(m,null,C,M),m.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Mr(),C===I){m=Ri(d,m,M);break e}Qr(d,m,C,M)}m=m.child}return m;case 5:return zn(m),d===null&&Zt(m),C=m.type,I=m.pendingProps,z=d!==null?d.memoizedProps:null,ye=I.children,ve(C,I)?ye=null:z!==null&&ve(C,z)&&(m.flags|=32),Uv(d,m),Qr(d,m,ye,M),m.child;case 6:return d===null&&Zt(m),null;case 13:return zv(d,m,M);case 4:return At(m,m.stateNode.containerInfo),C=m.pendingProps,d===null?m.child=Ur(m,null,C,M):Qr(d,m,C,M),m.child;case 11:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Ei(C,I),Ov(d,m,C,I,M);case 7:return Qr(d,m,m.pendingProps,M),m.child;case 8:return Qr(d,m,m.pendingProps.children,M),m.child;case 12:return Qr(d,m,m.pendingProps.children,M),m.child;case 10:e:{if(C=m.type._context,I=m.pendingProps,z=m.memoizedProps,ye=I.value,$c(m,C,ye),z!==null)if(xs(z.value,ye)){if(z.children===I.children&&!Tr.current){m=Ri(d,m,M);break e}}else for(z=m.child,z!==null&&(z.return=m);z!==null;){var Be=z.dependencies;if(Be!==null){ye=z.child;for(var ct=Be.firstContext;ct!==null;){if(ct.context===C){if(z.tag===1){ct=Mi(-1,M&-M),ct.tag=2;var Lt=z.updateQueue;if(Lt!==null){Lt=Lt.shared;var en=Lt.pending;en===null?ct.next=ct:(ct.next=en.next,en.next=ct),Lt.pending=ct}}z.lanes|=M,ct=z.alternate,ct!==null&&(ct.lanes|=M),To(z.return,M,m),Be.lanes|=M;break}ct=ct.next}}else if(z.tag===10)ye=z.type===m.type?null:z.child;else if(z.tag===18){if(ye=z.return,ye===null)throw Error(a(341));ye.lanes|=M,Be=ye.alternate,Be!==null&&(Be.lanes|=M),To(ye,M,m),ye=z.sibling}else ye=z.child;if(ye!==null)ye.return=z;else for(ye=z;ye!==null;){if(ye===m){ye=null;break}if(z=ye.sibling,z!==null){z.return=ye.return,ye=z;break}ye=ye.return}z=ye}Qr(d,m,I.children,M),m=m.child}return m;case 9:return I=m.type,C=m.pendingProps.children,Ko(m,M),I=Nr(I),C=C(I),m.flags|=1,Qr(d,m,C,M),m.child;case 14:return C=m.type,I=Ei(C,m.pendingProps),I=Ei(C.type,I),Iv(d,m,C,I,M);case 15:return Nv(d,m,m.type,m.pendingProps,M);case 17:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Ei(C,I),d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,li(C)?(d=!0,Si(m)):d=!1,Ko(m,M),zl(m,C,I),Us(m,C,I,M),Vp(null,m,C,!0,d,M);case 19:return Vv(d,m,M);case 22:return Dv(d,m,M)}throw Error(a(156,m.tag))};function $h(d,m){return Za(d,m)}function $x(d,m,M,C){this.tag=d,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(d,m,M,C){return new $x(d,m,M,C)}function cm(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ey(d){if(typeof d=="function")return cm(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===w)return 14}return 2}function Oa(d,m){var M=d.alternate;return M===null?(M=uo(d.tag,m,d.key,d.mode),M.elementType=d.elementType,M.type=d.type,M.stateNode=d.stateNode,M.alternate=d,d.alternate=M):(M.pendingProps=m,M.type=d.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=d.flags&14680064,M.childLanes=d.childLanes,M.lanes=d.lanes,M.child=d.child,M.memoizedProps=d.memoizedProps,M.memoizedState=d.memoizedState,M.updateQueue=d.updateQueue,m=d.dependencies,M.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},M.sibling=d.sibling,M.index=d.index,M.ref=d.ref,M}function Qh(d,m,M,C,I,z){var ye=2;if(C=d,typeof d=="function")cm(d)&&(ye=1);else if(typeof d=="string")ye=5;else e:switch(d){case c:return vl(M.children,I,z,m);case f:ye=8,I|=8;break;case p:return d=uo(12,M,m,I|2),d.elementType=p,d.lanes=z,d;case S:return d=uo(13,M,m,I),d.elementType=S,d.lanes=z,d;case _:return d=uo(19,M,m,I),d.elementType=_,d.lanes=z,d;case T:return xf(M,I,z,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case g:ye=10;break e;case v:ye=9;break e;case x:ye=11;break e;case w:ye=14;break e;case E:ye=16,C=null;break e}throw Error(a(130,d==null?d:typeof d,""))}return m=uo(ye,M,m,I),m.elementType=d,m.type=C,m.lanes=z,m}function vl(d,m,M,C){return d=uo(7,d,C,m),d.lanes=M,d}function xf(d,m,M,C){return d=uo(22,d,C,m),d.elementType=T,d.lanes=M,d.stateNode={},d}function ss(d,m,M){return d=uo(6,d,null,m),d.lanes=M,d}function co(d,m,M){return m=uo(4,d.children!==null?d.children:[],d.key,m),m.lanes=M,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Qx(d,m,M,C,I){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=C,this.onRecoverableError=I,He&&(this.mutableSourceEagerHydrationData=null)}function ty(d,m,M,C,I,z,ye,Be,ct){return d=new Qx(d,m,M,Be,ct),m===1?(m=1,z===!0&&(m|=8)):m=0,z=uo(3,null,null,m),d.current=z,z.stateNode=d,z.memoizedState={element:C,isDehydrated:M,cache:null,transitions:null},Qc(z),d}function Sf(d){if(!d)return kn;d=d._reactInternals;e:{if(F(d)!==d||d.tag!==1)throw Error(a(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(li(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(d.tag===1){var M=d.type;if(li(M))return ya(d,M,m)}return m}function Jl(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=K(m),d===null?null:d.stateNode}function fm(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var M=d.retryLane;d.retryLane=M!==0&&M<m?M:m}}function Jh(d,m){fm(d,m),(d=d.alternate)&&fm(d,m)}function Jx(d){return d=K(d),d===null?null:d.stateNode}function ny(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var m=ns();lo(d,134217728,m),Jh(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var m=ns(),M=ea(d);lo(d,M,m),Jh(d,M)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var M=so(m.pendingLanes);M!==0&&(Nl(m,M|1),Sn(m,ui()),!(Gn&6)&&($l(),wi()))}break;case 13:var C=ns();Vs(function(){return lo(d,1,C)}),Jh(d,1)}},t.batchedUpdates=function(d,m){var M=Gn;Gn|=1;try{return d(m)}finally{Gn=M,Gn===0&&($l(),Iu&&wi())}},t.createComponentSelector=function(d){return{$$typeof:Gu,value:d}},t.createContainer=function(d,m,M,C,I,z,ye){return ty(d,m,!1,null,M,C,I,z,ye)},t.createHasPseudoClassSelector=function(d){return{$$typeof:df,value:d}},t.createHydrationContainer=function(d,m,M,C,I,z,ye,Be,ct){return d=ty(M,C,!0,d,I,z,ye,Be,ct),d.context=Sf(null),M=d.current,C=ns(),I=ea(M),z=Mi(C,I),z.callback=m??null,Ds(M,z),d.current.lanes=I,Ea(d,I,C),Sn(d,C),d},t.createPortal=function(d,m,M){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:d,containerInfo:m,implementation:M}},t.createRoleSelector=function(d){return{$$typeof:Hs,value:d}},t.createTestNameSelector=function(d){return{$$typeof:Vu,value:d}},t.createTextSelector=function(d){return{$$typeof:Kl,value:d}},t.deferredUpdates=function(d){var m=rr,M=Br.transition;try{return Br.transition=null,rr=16,d()}finally{rr=m,Br.transition=M}},t.discreteUpdates=function(d,m,M,C,I){var z=rr,ye=Br.transition;try{return Br.transition=null,rr=1,d(m,M,C,I)}finally{rr=z,Br.transition=ye,Gn===0&&$l()}},t.findAllNodes=Zp,t.findBoundingRects=function(d,m){if(!Y)throw Error(a(363));m=Zp(d,m),d=[];for(var M=0;M<m.length;M++)d.push(st(m[M]));for(m=d.length-1;0<m;m--){M=d[m];for(var C=M.x,I=C+M.width,z=M.y,ye=z+M.height,Be=m-1;0<=Be;Be--)if(m!==Be){var ct=d[Be],Lt=ct.x,en=Lt+ct.width,Dn=ct.y,vn=Dn+ct.height;if(C>=Lt&&z>=Dn&&I<=en&&ye<=vn){d.splice(m,1);break}else if(C!==Lt||M.width!==ct.width||vn<z||Dn>ye){if(!(z!==Dn||M.height!==ct.height||en<C||Lt>I)){Lt>C&&(ct.width+=Lt-C,ct.x=C),en<I&&(ct.width=I-Lt),d.splice(m,1);break}}else{Dn>z&&(ct.height+=Dn-z,ct.y=z),vn<ye&&(ct.height=ye-Dn),d.splice(m,1);break}}}return d},t.findHostInstance=Jl,t.findHostInstanceWithNoPortals=function(d){return d=N(d),d=d!==null?j(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return Jl(d)},t.flushControlled=function(d){var m=Gn;Gn|=1;var M=Br.transition,C=rr;try{Br.transition=null,rr=1,d()}finally{rr=C,Br.transition=M,Gn=m,Gn===0&&($l(),wi())}},t.flushPassiveEffects=pl,t.flushSync=Vs,t.focusWithin=function(d,m){if(!Y)throw Error(a(363));for(d=Hh(d),m=Yv(d,m),m=Array.from(m),d=0;d<m.length;){var M=m[d++];if(!be(M)){if(M.tag===5&&Ge(M.stateNode))return!0;for(M=M.child;M!==null;)m.push(M),M=M.sibling}}return!1},t.getCurrentUpdatePriority=function(){return rr},t.getFindAllNodesFailureDescription=function(d,m){if(!Y)throw Error(a(363));var M=0,C=[];d=[Hh(d),0];for(var I=0;I<d.length;){var z=d[I++],ye=d[I++],Be=m[ye];if((z.tag!==5||!be(z))&&(Vi(z,Be)&&(C.push(pf(Be)),ye++,ye>M&&(M=ye)),ye<m.length))for(z=z.child;z!==null;)d.push(z,ye),z=z.sibling}if(M<m.length){for(d=[];M<m.length;M++)d.push(pf(m[M]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return re(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Jx,findFiberByHostInstance:d.findFiberByHostInstance||ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{Dl=m.inject(d),Ui=m}catch{}d=!!m.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,m,M,C){if(!Y)throw Error(a(363));d=Zp(d,m);var I=Fe(d,M,C).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(d,m){var M=m._getVersion;M=M(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,M]:d.mutableSourceEagerHydrationData.push(m,M)},t.runWithPriority=function(d,m){var M=rr;try{return rr=d,m()}finally{rr=M}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,m,M,C){var I=m.current,z=ns(),ye=ea(I);return M=Sf(M),m.context===null?m.context=M:m.pendingContext=M,m=Mi(z,ye),m.payload={element:d},C=C===void 0?null:C,C!==null&&(m.callback=C),Ds(I,m),d=lo(I,ye,z),d!==null&&Ta(d,I,ye),ye},t};DN.exports=DY;var UY=DN.exports;const FY=Jg(UY),BY=n=>typeof n=="object"&&typeof n.then=="function",Zf=[];function BN(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function kN(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Zf)if(BN(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Zf.indexOf(i);s!==-1&&Zf.splice(s,1)},promise:(BY(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Zf.push(i),!t)throw i.promise}const kY=(n,e,t)=>kN(n,e,!1,t),zY=(n,e,t)=>void kN(n,e,!0,t),HY=n=>{if(n===void 0||n.length===0)Zf.splice(0,Zf.length);else{const e=Zf.find(t=>BN(n,t.keys,t.equal));e&&e.remove()}},iT={},GY=n=>void Object.assign(iT,n);function VY(n,e){function t(c,{args:f=[],attach:p,...g},v){let x=`${c[0].toUpperCase()}${c.slice(1)}`,S;if(c==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=g.object;S=Pd(_,{type:c,root:v,attach:p,primitive:!0})}else{const _=iT[x];if(!_)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");S=Pd(new _(...f),{type:c,root:v,attach:p,memoizedProps:{args:f}})}return S.__r3f.attach===void 0&&(S instanceof Xn?S.__r3f.attach="geometry":S instanceof $i&&(S.__r3f.attach="material")),x!=="inject"&&kS(S,g),S}function r(c,f){let p=!1;if(f){var g,v;(g=f.__r3f)!=null&&g.attach?BS(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),p=!0),p||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||Pd(f,{}),f.__r3f.parent=c,JE(f),Ld(f)}}function i(c,f,p){let g=!1;if(f){var v,x;if((v=f.__r3f)!=null&&v.attach)BS(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const S=c.children.filter(w=>w!==f),_=S.indexOf(p);c.children=[...S.slice(0,_),f,...S.slice(_)],g=!0}g||(x=c.__r3f)==null||x.objects.push(f),f.__r3f||Pd(f,{}),f.__r3f.parent=c,JE(f),Ld(f)}}function s(c,f,p=!1){c&&[...c].forEach(g=>a(f,g,p))}function a(c,f,p){if(f){var g,v,x;if(f.__r3f&&(f.__r3f.parent=null),(g=c.__r3f)!=null&&g.objects&&(c.__r3f.objects=c.__r3f.objects.filter(T=>T!==f)),(v=f.__r3f)!=null&&v.attach)DR(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var S;c.remove(f),(S=f.__r3f)!=null&&S.root&&JY(J0(f),f)}const w=(x=f.__r3f)==null?void 0:x.primitive,E=!w&&(p===void 0?f.dispose!==null:p);if(!w){var _;s((_=f.__r3f)==null?void 0:_.objects,f,E),s(f.children,f,E)}if(delete f.__r3f,E&&f.dispose&&f.type!=="Scene"){const T=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?$E.unstable_scheduleCallback($E.unstable_IdlePriority,T):T()}Ld(c)}}function l(c,f,p,g){var v;const x=(v=c.__r3f)==null?void 0:v.parent;if(!x)return;const S=t(f,p,c.__r3f.root);if(c.children){for(const _ of c.children)_.__r3f&&r(S,_);c.children=c.children.filter(_=>!_.__r3f)}c.__r3f.objects.forEach(_=>r(S,_)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(x,c),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),r(x,S),S.raycast&&S.__r3f.eventCount&&J0(S).getState().internal.interaction.push(S),[g,g.alternate].forEach(_=>{_!==null&&(_.stateNode=S,_.ref&&(typeof _.ref=="function"?_.ref(S):_.ref.current=S))})}const o=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:FY({createInstance:t,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,f))},removeChildFromContainer:(c,f)=>{f&&a(c.getState().scene,f)},insertInContainerBefore:(c,f,p)=>{if(!f||!p)return;const g=c.getState().scene;g.__r3f&&i(g,f,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,p,g){var v;if(((v=c==null?void 0:c.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==c)return[!0];{const{args:S=[],children:_,...w}=g,{args:E=[],children:T,...L}=p;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((O,U)=>O!==E[U]))return[!0];const A=XN(c,w,L,!0);return A.changes.length?[!1,A]:null}},commitUpdate(c,[f,p],g,v,x,S){f?l(c,g,x,S):kS(c,p)},commitMount(c,f,p,g){var v;const x=(v=c.__r3f)!=null?v:{};c.raycast&&x.handlers&&x.eventCount&&J0(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Pd(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:p,parent:g}=(f=c.__r3f)!=null?f:{};p&&g&&DR(g,c,p),c.isObject3D&&(c.visible=!1),Ld(c)},unhideInstance(c,f){var p;const{attach:g,parent:v}=(p=c.__r3f)!=null?p:{};g&&v&&BS(v,c,g),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Ld(c)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:()=>e?e():Kd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Hr.fun(performance.now)?performance.now:Hr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Hr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Hr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:kS}}var LR,OR;const FS=n=>"colorSpace"in n||"outputColorSpace"in n,zN=()=>{var n;return(n=iT.ColorManagement)!=null?n:null},HN=n=>n&&n.isOrthographicCamera,WY=n=>n&&n.hasOwnProperty("current"),Op=typeof window<"u"&&((LR=window.document)!=null&&LR.createElement||((OR=window.navigator)==null?void 0:OR.product)==="ReactNative")?Ae.useLayoutEffect:Ae.useEffect;function GN(n){const e=Ae.useRef(n);return Op(()=>void(e.current=n),[n]),e}function jY({set:n}){return Op(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class VN extends Ae.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}VN.getDerivedStateFromError=()=>({error:!0});const WN="__default",IR=new Map,XY=n=>n&&!!n.memoized&&!!n.changes;function jN(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Bm=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function J0(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Hr={obj:n=>n===Object(n)&&!Hr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Hr.str(n)||Hr.num(n)||Hr.boo(n))return n===e;const s=Hr.obj(n);if(s&&r==="reference")return n===e;const a=Hr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(l in i?e:n)if(!Hr.equ(n[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:n)if(n[l]!==e[l])return!1;if(Hr.und(l)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function qY(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function YY(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Pd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function QE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,a)=>s[a],n),{target:t,key:i}}else return{target:t,key:e}}const NR=/-\d+$/;function BS(n,e,t){if(Hr.str(t)){if(NR.test(t)){const s=t.replace(NR,""),{target:a,key:l}=QE(n,s);Array.isArray(a[l])||(a[l]=[])}const{target:r,key:i}=QE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function DR(n,e,t){var r,i;if(Hr.str(t)){const{target:s,key:a}=QE(n,t),l=e.__r3f.previousAttach;l===void 0?delete s[a]:s[a]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function XN(n,{children:e,key:t,ref:r,...i},{children:s,key:a,ref:l,...o}={},u=!1){const c=n.__r3f,f=Object.entries(i),p=[];if(u){const v=Object.keys(o);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||f.unshift([v[x],WN+"remove"])}f.forEach(([v,x])=>{var S;if((S=n.__r3f)!=null&&S.primitive&&v==="object"||Hr.equ(x,o[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),p.push([v,x,!1,_]);for(const w in i){const E=i[w];w.startsWith(`${v}-`)&&p.push([w,E,!1,w.split("-")])}});const g={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(g.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(g.attach=c.memoizedProps.attach),{memoized:g,changes:p}}const KY=typeof process<"u"&&!1;function kS(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:l}=XY(e)?e:XN(n,e),o=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=a);for(let c=0;c<l.length;c++){let[f,p,g,v]=l[c];if(FS(n)){const w="srgb",E="srgb-linear";f==="encoding"?(f="colorSpace",p=p===3001?w:E):f==="outputEncoding"&&(f="outputColorSpace",p=p===3001?w:E)}let x=n,S=x[f];if(v.length&&(S=v.reduce((_,w)=>_[w],n),!(S&&S.set))){const[_,...w]=v.reverse();x=w.reverse().reduce((E,T)=>E[T],n),f=_}if(p===WN+"remove")if(x.constructor){let _=IR.get(x.constructor);_||(_=new x.constructor,IR.set(x.constructor,_)),p=_[f]}else p=0;if(g&&r)p?r.handlers[f]=p:delete r.handlers[f],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof oh)){if(Array.isArray(p))S.fromArray?S.fromArray(p):S.set(...p);else if(S.copy&&p&&p.constructor&&(KY?S.constructor.name===p.constructor.name:S.constructor===p.constructor))S.copy(p);else if(p!==void 0){const _=S instanceof $t;!_&&S.setScalar?S.setScalar(p):S instanceof oh&&p instanceof oh?S.mask=p.mask:S.set(p),!zN()&&s&&!s.linear&&_&&S.convertSRGBToLinear()}}else if(x[f]=p,x[f]instanceof Di&&x[f].format===cs&&x[f].type===Os&&s){const _=x[f];FS(_)&&FS(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}Ld(n)}if(r&&r.parent&&n.raycast&&o!==r.eventCount){const c=J0(n).getState().internal,f=c.interaction.indexOf(n);f>-1&&c.interaction.splice(f,1),r.eventCount&&c.interaction.push(n)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(t=n.__r3f)!=null&&t.parent&&JE(n),n}function Ld(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function JE(n){n.onUpdate==null||n.onUpdate(n)}function $Y(n,e){n.manual||(HN(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function S0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function QY(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Kd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Kd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Kd.ContinuousEventPriority;default:return Kd.DefaultEventPriority}}function qN(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function JY(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{qN(t.capturedMap,e,r,i)})}function ZY(n){function e(o){const{internal:u}=n.getState(),c=o.offsetX-u.initialClick[0],f=o.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(o){return o.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(o,u){const c=n.getState(),f=new Set,p=[],g=u?u(c.internal.interaction):c.internal.interaction;for(let _=0;_<g.length;_++){const w=Bm(g[_]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(o,c);function v(_){const w=Bm(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var E;w.events.compute==null||w.events.compute(o,w,(E=w.previousRoot)==null?void 0:E.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let x=g.flatMap(v).sort((_,w)=>{const E=Bm(_.object),T=Bm(w.object);return!E||!T?_.distance-w.distance:T.events.priority-E.events.priority||_.distance-w.distance}).filter(_=>{const w=S0(_);return f.has(w)?!1:(f.add(w),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const _ of x){let w=_.object;for(;w;){var S;(S=w.__r3f)!=null&&S.eventCount&&p.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in o&&c.internal.capturedMap.has(o.pointerId))for(let _ of c.internal.capturedMap.get(o.pointerId).values())f.has(S0(_.intersection))||p.push(_.intersection);return p}function i(o,u,c,f){const p=n.getState();if(o.length){const g={stopped:!1};for(const v of o){const x=Bm(v.object)||p,{raycaster:S,pointer:_,camera:w,internal:E}=x,T=new ge(_.x,_.y,0).unproject(w),L=P=>{var N,K;return(N=(K=E.capturedMap.get(P))==null?void 0:K.has(v.eventObject))!=null?N:!1},A=P=>{const N={intersection:v,target:u.target};E.capturedMap.has(P)?E.capturedMap.get(P).set(v.eventObject,N):E.capturedMap.set(P,new Map([[v.eventObject,N]])),u.target.setPointerCapture(P)},O=P=>{const N=E.capturedMap.get(P);N&&qN(E.capturedMap,v.eventObject,N,P)};let U={};for(let P in u){let N=u[P];typeof N!="function"&&(U[P]=N)}let F={...v,...U,pointer:_,intersections:o,stopped:g.stopped,delta:c,unprojectedPoint:T,ray:S.ray,camera:w,stopPropagation(){const P="pointerId"in u&&E.capturedMap.get(u.pointerId);if((!P||P.has(v.eventObject))&&(F.stopped=g.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(N=>N.eventObject===v.eventObject))){const N=o.slice(0,o.indexOf(v));s([...N,v])}},target:{hasPointerCapture:L,setPointerCapture:A,releasePointerCapture:O},currentTarget:{hasPointerCapture:L,setPointerCapture:A,releasePointerCapture:O},nativeEvent:u};if(f(F),g.stopped===!0)break}}return o}function s(o){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!o.length||!o.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const p=c.eventObject.__r3f,g=p==null?void 0:p.handlers;if(u.hovered.delete(S0(c)),p!=null&&p.eventCount){const v={...c,intersections:o};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function a(o,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(o)}}function l(o){switch(o){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=c;const g=o==="onPointerMove",v=o==="onClick"||o==="onContextMenu"||o==="onDoubleClick",S=r(c,g?t:void 0),_=v?e(c):0;o==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=S.map(E=>E.eventObject)),v&&!S.length&&_<=2&&(a(c,p.interaction),f&&f(c)),g&&s(S);function w(E){const T=E.eventObject,L=T.__r3f,A=L==null?void 0:L.handlers;if(L!=null&&L.eventCount)if(g){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const O=S0(E),U=p.hovered.get(O);U?U.stopped&&E.stopPropagation():(p.hovered.set(O,E),A.onPointerOver==null||A.onPointerOver(E),A.onPointerEnter==null||A.onPointerEnter(E))}A.onPointerMove==null||A.onPointerMove(E)}else{const O=A[o];O?(!v||p.initialHits.includes(T))&&(a(c,p.interaction.filter(U=>!p.initialHits.includes(U))),O(E)):v&&p.initialHits.includes(T)&&a(c,p.interaction.filter(U=>!p.initialHits.includes(U)))}}i(S,c,_,w)}}return{handlePointer:l}}const YN=n=>!!(n!=null&&n.render),KN=Ae.createContext(null),eK=(n,e)=>{const t=NY((l,o)=>{const u=new ge,c=new ge,f=new ge;function p(_=o().camera,w=c,E=o().size){const{width:T,height:L,top:A,left:O}=E,U=T/L;w instanceof ge?f.copy(w):f.set(...w);const F=_.getWorldPosition(u).distanceTo(f);if(HN(_))return{width:T/_.zoom,height:L/_.zoom,top:A,left:O,factor:1,distance:F,aspect:U};{const P=_.fov*Math.PI/180,N=2*Math.tan(P/2)*F,K=N*(T/L);return{width:K,height:N,top:A,left:O,factor:T/K,distance:F,aspect:U}}}let g;const v=_=>l(w=>({performance:{...w.performance,current:_}})),x=new ft;return{set:l,get:o,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>n(o(),_),advance:(_,w)=>e(_,w,o()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tT,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=o();g&&clearTimeout(g),_.performance.current!==_.performance.min&&v(_.performance.min),g=setTimeout(()=>v(o().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>l(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,E,T,L)=>{const A=o().camera,O={width:_,height:w,top:T||0,left:L||0,updateStyle:E};l(U=>({size:O,viewport:{...U.viewport,...p(A,c,O)}}))},setDpr:_=>l(w=>{const E=jN(_);return{viewport:{...w.viewport,dpr:E,initialDpr:w.viewport.initialDpr||E}}}),setFrameloop:(_="always")=>{const w=o().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Ae.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,w,E)=>{const T=o().internal;return T.priority=T.priority+(w>0?1:0),T.subscribers.push({ref:_,priority:w,store:E}),T.subscribers=T.subscribers.sort((L,A)=>L.priority-A.priority),()=>{const L=o().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(w>0?1:0),L.subscribers=L.subscribers.filter(A=>A.ref!==_))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return t.subscribe(()=>{const{camera:l,size:o,viewport:u,gl:c,set:f}=t.getState();if(o.width!==i.width||o.height!==i.height||u.dpr!==s){var p;i=o,s=u.dpr,$Y(l,o),c.setPixelRatio(u.dpr);const g=(p=o.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(o.width,o.height,g)}l!==a&&(a=l,f(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};let w0,tK=new Set,nK=new Set,rK=new Set;function zS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function km(n,e){switch(n){case"before":return zS(tK,e);case"after":return zS(nK,e);case"tail":return zS(rK,e)}}let HS,GS;function VS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),HS=e.internal.subscribers,w0=0;w0<HS.length;w0++)GS=HS[w0],GS.ref.current(GS.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function iK(n){let e=!1,t=!1,r,i,s;function a(u){i=requestAnimationFrame(a),e=!0,r=0,km("before",u),t=!0;for(const f of n.values()){var c;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((c=s.gl.xr)!=null&&c.isPresenting)&&(r+=VS(u,s))}if(t=!1,km("after",u),r===0)return km("tail",u),e=!1,cancelAnimationFrame(i)}function l(u,c=1){var f;if(!u)return n.forEach(p=>l(p.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function o(u,c=!0,f,p){if(c&&km("before",u),f)VS(u,f,p);else for(const g of n.values())VS(u,g.store.getState());c&&km("after",u)}return{loop:a,invalidate:l,advance:o}}function sK(n){const e=Ae.useRef(null);return Op(()=>void(e.current=n.current.__r3f),[n]),e}function $N(){const n=Ae.useContext(KN);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function QN(n=t=>t,e){return $N()(n,e)}function oK(n,e=0){const t=$N(),r=t.getState().internal.subscribe,i=GN(n);return Op(()=>r(i,e,t),[e,r,t]),null}const UR=new WeakMap;function JN(n,e){return function(t,...r){let i=UR.get(t);return i||(i=new t,UR.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((a,l)=>i.load(s,o=>{o.scene&&Object.assign(o,qY(o.scene)),a(o)},e,o=>l(new Error(`Could not load ${s}: ${o==null?void 0:o.message}`))))))}}function sT(n,e,t,r){const i=Array.isArray(e)?e:[e],s=kY(JN(t,r),[n,...i],{equal:Hr.equ});return Array.isArray(e)?s:s[0]}sT.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return zY(JN(t),[n,...r])};sT.clear=function(n,e){const t=Array.isArray(e)?e:[e];return HY([n,...t])};const yp=new Map,{invalidate:FR,advance:BR}=iK(yp),{reconciler:z_,applyProps:Ad}=VY(yp,QY),Cd={objects:"shallow",strict:!1},aK=(n,e)=>{const t=typeof n=="function"?n(e):n;return YN(t)?t:new Fb({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function lK(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:l=t}=e;return{width:r,height:i,top:s,left:a,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function uK(n){const e=yp.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||eK(FR,BR),a=t||z_.createContainer(s,Kd.ConcurrentRoot,null,!1,null,"",i,null);e||yp.set(n,{fiber:a,store:s});let l,o=!1,u;return{configure(c={}){let{gl:f,size:p,scene:g,events:v,onCreated:x,shadows:S=!1,linear:_=!1,flat:w=!1,legacy:E=!1,orthographic:T=!1,frameloop:L="always",dpr:A=[1,2],performance:O,raycaster:U,camera:F,onPointerMissed:P}=c,N=s.getState(),K=N.gl;N.gl||N.set({gl:K=aK(f,n)});let $=N.raycaster;$||N.set({raycaster:$=new ON});const{params:j,...le}=U||{};if(Hr.equ(le,$,Cd)||Ad($,{...le}),Hr.equ(j,$.params,Cd)||Ad($,{params:{...$.params,...j}}),!N.camera||N.camera===u&&!Hr.equ(u,F,Cd)){u=F;const k=F instanceof Ap,ie=k?F:T?new gv(0,0,0,0,.1,1e3):new ji(75,0,.1,1e3);k||(ie.position.z=5,F&&(Ad(ie,F),("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(ie.manual=!0,ie.updateProjectionMatrix())),!N.camera&&!(F!=null&&F.rotation)&&ie.lookAt(0,0,0)),N.set({camera:ie}),$.camera=ie}if(!N.scene){let k;g instanceof gp?k=g:(k=new gp,g&&Ad(k,g)),N.set({scene:Pd(k)})}if(!N.xr){var re;const k=(se,oe)=>{const ve=s.getState();ve.frameloop!=="never"&&BR(se,!0,ve,oe)},ie=()=>{const se=s.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?k:null),se.gl.xr.isPresenting||FR(se)},te={connect(){const se=s.getState().gl;se.xr.addEventListener("sessionstart",ie),se.xr.addEventListener("sessionend",ie)},disconnect(){const se=s.getState().gl;se.xr.removeEventListener("sessionstart",ie),se.xr.removeEventListener("sessionend",ie)}};typeof((re=K.xr)==null?void 0:re.addEventListener)=="function"&&te.connect(),N.set({xr:te})}if(K.shadowMap){const k=K.shadowMap.enabled,ie=K.shadowMap.type;if(K.shadowMap.enabled=!!S,Hr.boo(S))K.shadowMap.type=ig;else if(Hr.str(S)){var W;const te={basic:AO,percentage:hx,soft:ig,variance:za};K.shadowMap.type=(W=te[S])!=null?W:ig}else Hr.obj(S)&&Object.assign(K.shadowMap,S);(k!==K.shadowMap.enabled||ie!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}const G=zN();G&&("enabled"in G?G.enabled=!E:"legacyMode"in G&&(G.legacyMode=E)),o||Ad(K,{outputEncoding:_?3e3:3001,toneMapping:w?qa:gb}),N.legacy!==E&&N.set(()=>({legacy:E})),N.linear!==_&&N.set(()=>({linear:_})),N.flat!==w&&N.set(()=>({flat:w})),f&&!Hr.fun(f)&&!YN(f)&&!Hr.equ(f,K,Cd)&&Ad(K,f),v&&!N.events.handlers&&N.set({events:v(s)});const V=lK(n,p);return Hr.equ(V,N.size,Cd)||N.setSize(V.width,V.height,V.updateStyle,V.top,V.left),A&&N.viewport.dpr!==jN(A)&&N.setDpr(A),N.frameloop!==L&&N.setFrameloop(L),N.onPointerMissed||N.set({onPointerMissed:P}),O&&!Hr.equ(O,N.performance,Cd)&&N.set(k=>({performance:{...k.performance,...O}})),l=x,o=!0,this},render(c){return o||this.configure(),z_.updateContainer(ee.jsx(cK,{store:s,children:c,onCreated:l,rootElement:n}),a,null,()=>{}),s},unmount(){ZN(n)}}}function cK({store:n,children:e,onCreated:t,rootElement:r}){return Op(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ee.jsx(KN.Provider,{value:n,children:e})}function ZN(n,e){const t=yp.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),z_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,l,o;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(o=i.gl)!=null&&o.xr&&i.xr.disconnect(),YY(i),yp.delete(n)}catch{}},500)})}}z_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Ae.version});function ZE(n,e,t){var r,i,s,a,l;e==null&&(e=100);function o(){var c=Date.now()-a;c<e&&c>=0?r=setTimeout(o,e-c):(r=null,t||(l=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,a=Date.now();var c=t&&!r;return r||(r=setTimeout(o,e)),c&&(l=n.apply(s,i),s=i=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}ZE.debounce=ZE;var fK=ZE;const kR=Jg(fK);function hK(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=Ae.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=Ae.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=Ae.useRef(!1);Ae.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,g,v]=Ae.useMemo(()=>{const w=()=>{if(!o.current.element)return;const{left:E,top:T,width:L,height:A,bottom:O,right:U,x:F,y:P}=o.current.element.getBoundingClientRect(),N={left:E,top:T,width:L,height:A,bottom:O,right:U,x:F,y:P};o.current.element instanceof HTMLElement&&i&&(N.height=o.current.element.offsetHeight,N.width=o.current.element.offsetWidth),Object.freeze(N),f.current&&!gK(o.current.lastBounds,N)&&l(o.current.lastBounds=N)};return[w,c?kR(w,c):w,u?kR(w,u):w]},[l,i,u,c]);function x(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null)}function S(){o.current.element&&(o.current.resizeObserver=new s(v),o.current.resizeObserver.observe(o.current.element),t&&o.current.scrollContainers&&o.current.scrollContainers.forEach(w=>w.addEventListener("scroll",v,{capture:!0,passive:!0})))}const _=w=>{!w||w===o.current.element||(x(),o.current.element=w,o.current.scrollContainers=eD(w),S())};return pK(v,!!t),dK(g),Ae.useEffect(()=>{x(),S()},[t,v,g]),Ae.useEffect(()=>x,[]),[_,a,p]}function dK(n){Ae.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function pK(n,e){Ae.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function eD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...eD(n.parentElement)]}const mK=["x","y","top","bottom","left","right","width","height"],gK=(n,e)=>mK.every(t=>n[t]===e[t]);var vK=Object.defineProperty,yK=Object.defineProperties,_K=Object.getOwnPropertyDescriptors,zR=Object.getOwnPropertySymbols,xK=Object.prototype.hasOwnProperty,SK=Object.prototype.propertyIsEnumerable,HR=(n,e,t)=>e in n?vK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,GR=(n,e)=>{for(var t in e||(e={}))xK.call(e,t)&&HR(n,t,e[t]);if(zR)for(var t of zR(e))SK.call(e,t)&&HR(n,t,e[t]);return n},wK=(n,e)=>yK(n,_K(e)),VR,WR;typeof window<"u"&&((VR=window.document)!=null&&VR.createElement||((WR=window.navigator)==null?void 0:WR.product)==="ReactNative")?Ae.useLayoutEffect:Ae.useEffect;function tD(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=tD(r,e,t);if(i)return i;r=r.sibling}}function nD(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const jR=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=jR;return}return jR.apply(this,arguments)};const oT=nD(Ae.createContext(null));class rD extends Ae.Component{render(){return Ae.createElement(oT.Provider,{value:this._reactInternals},this.props.children)}}function EK(){const n=Ae.useContext(oT);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Ae.useId();return Ae.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=tD(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}function MK(){const n=EK(),[e]=Ae.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==oT&&!e.has(i)&&e.set(i,Ae.useContext(nD(i)))}t=t.return}return e}function bK(){const n=MK();return Ae.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Ae.createElement(e,null,Ae.createElement(t.Provider,wK(GR({},r),{value:n.get(t)}))),e=>Ae.createElement(rD,GR({},e))),[n])}const WS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function TK(n){const{handlePointer:e}=ZY(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(WS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,l])=>{const[o,u]=WS[a];t.addEventListener(o,l,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[l]=WS[s];r.connected.removeEventListener(l,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const AK=Ae.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:a=TK,eventSource:l,eventPrefix:o,shadows:u,linear:c,flat:f,legacy:p,orthographic:g,frameloop:v,dpr:x,performance:S,raycaster:_,camera:w,scene:E,onPointerMissed:T,onCreated:L,...A},O){Ae.useMemo(()=>GY(LY),[]);const U=bK(),[F,P]=hK({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=Ae.useRef(null),K=Ae.useRef(null);Ae.useImperativeHandle(O,()=>N.current);const $=GN(T),[j,le]=Ae.useState(!1),[re,W]=Ae.useState(!1);if(j)throw j;if(re)throw re;const G=Ae.useRef(null);Op(()=>{const k=N.current;P.width>0&&P.height>0&&k&&(G.current||(G.current=uK(k)),G.current.configure({gl:s,events:a,shadows:u,linear:c,flat:f,legacy:p,orthographic:g,frameloop:v,dpr:x,performance:S,raycaster:_,camera:w,scene:E,size:P,onPointerMissed:(...ie)=>$.current==null?void 0:$.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(l?WY(l)?l.current:l:K.current),o&&ie.setEvents({compute:(te,se)=>{const oe=te[o+"X"],ve=te[o+"Y"];se.pointer.set(oe/se.size.width*2-1,-(ve/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),L==null||L(ie)}}),G.current.render(ee.jsx(U,{children:ee.jsx(VN,{set:W,children:ee.jsx(Ae.Suspense,{fallback:ee.jsx(jY,{set:le}),children:e})})})))}),Ae.useEffect(()=>{const k=N.current;if(k)return()=>ZN(k)},[]);const V=l?"none":"auto";return ee.jsx("div",{ref:K,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i},...A,children:ee.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:ee.jsx("canvas",{ref:N,style:{display:"block"},children:t})})})}),CK=Ae.forwardRef(function(e,t){return ee.jsx(rD,{children:ee.jsx(AK,{...e,ref:t})})});/**
 * postprocessing v6.35.6 build Fri Jul 05 2024
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2024 Raoul van Rüschen
 * @license Zlib
 */var jS=1/1e3,RK=1e3,PK=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(n){typeof document<"u"&&document.hidden!==void 0&&(n?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=n)}get delta(){return this._delta*jS}get fixedDelta(){return this._fixedDelta*jS}set fixedDelta(n){this._fixedDelta=n*RK}get elapsed(){return this._elapsed*jS}update(n){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(n!==void 0?n:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(n){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},LK=new Ap,lc=null;function OK(){if(lc===null){const n=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);lc=new Xn,lc.setAttribute!==void 0?(lc.setAttribute("position",new vr(n,3)),lc.setAttribute("uv",new vr(e,2))):(lc.addAttribute("position",new vr(n,3)),lc.addAttribute("uv",new vr(e,2)))}return lc}var Ol=class iD{constructor(e="Pass",t=new gp,r=LK){this.name=e,this.renderer=null,this.scene=t,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;t!==null&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new Ni(OK(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new gp),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Wc){}render(e,t,r,i,s){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,r){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof _s||t instanceof $i||t instanceof Di||t instanceof iD)&&this[e].dispose()}}},IK=class extends Ol{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(n,e,t,r,i){const s=n.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},NK=Number(Mp.replace(/\D+/g,""));function sD(n){return NK<154?n.replace("colorspace_fragment","encodings_fragment"):n}var DK=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,UK="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",FK=class extends to{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new ri(null),opacity:new ri(1)},blending:da,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:DK,vertexShader:UK}),this.fragmentShader=sD(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}getOpacity(n){return this.uniforms.opacity.value}setOpacity(n){this.uniforms.opacity.value=n}},BK=class extends Ol{constructor(n,e=!0){super("CopyPass"),this.fullscreenMaterial=new FK,this.needsSwap=!1,this.renderTarget=n,n===void 0&&(this.renderTarget=new _s(1,1,{minFilter:kr,magFilter:kr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(n){this.autoResize=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(n){this.autoResize=n}render(n,e,t,r,i){this.fullscreenMaterial.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){this.autoResize&&this.renderTarget.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==Os?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":n!==null&&n.outputColorSpace===Dr&&(this.renderTarget.texture.colorSpace=Dr))}},XR=new $t,oD=class extends Ol{constructor(n=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=n,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(n,e,t){this.color=n,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(n){this.overrideClearColor=n}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(n){this.overrideClearAlpha=n}render(n,e,t,r,i){const s=this.overrideClearColor,a=this.overrideClearAlpha,l=n.getClearAlpha(),o=s!==null,u=a>=0;o?(n.getClearColor(XR),n.setClearColor(s,u?a:l)):u&&n.setClearAlpha(a),n.setRenderTarget(this.renderToScreen?null:e),n.clear(this.color,this.depth,this.stencil),o?n.setClearColor(XR,l):u&&n.setClearAlpha(l)}},kK=class extends Ol{constructor(n,e){super("MaskPass",n,e),this.needsSwap=!1,this.clearPass=new oD(!1,!1,!0),this.inverse=!1}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get inverted(){return this.inverse}set inverted(n){this.inverse=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(n){this.inverted=n}render(n,e,t,r,i){const s=n.getContext(),a=n.state.buffers,l=this.scene,o=this.camera,u=this.clearPass,c=this.inverted?0:1,f=1-c;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),a.stencil.setFunc(s.ALWAYS,c,4294967295),a.stencil.setClear(f),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(n,null):(u.render(n,e),u.render(n,t))),this.renderToScreen?(n.setRenderTarget(null),n.render(l,o)):(n.setRenderTarget(e),n.render(l,o),n.setRenderTarget(t),n.render(l,o)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(s.EQUAL,1,4294967295),a.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),a.stencil.setLocked(!0)}},zK=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new BK,this.depthTexture=null,this.passes=[],this.timer=new PK,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new ft),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Os&&e.outputColorSpace===Dr&&(this.inputBuffer.texture.colorSpace=Dr,this.outputBuffer.texture.colorSpace=Dr,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,t=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),t&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new _x;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Bc,e.type=yu):e.type=Ml,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i){const s=this.renderer,a=s===null?new ft:s.getDrawingBufferSize(new ft),l={minFilter:kr,magFilter:kr,stencilBuffer:t,depthBuffer:e,type:r},o=new _s(a.width,a.height,l);return i>0&&(o.ignoreDepthForMultisampleCopy=!1,o.samples=i),r===Os&&s!==null&&s.outputColorSpace===Dr&&(o.texture.colorSpace=Dr),o.texture.name="EffectComposer.Buffer",o.texture.generateMipmaps=!1,o}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new ft),a=i.getContext().getContextAttributes().alpha,l=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,a,l),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const o=this.createDepthTexture();for(e of r)e.setDepthTexture(o)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){const a=(o,u)=>o||u.needsDepthTexture;t.reduce(a,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,a=!1,l,o,u;e===void 0&&(this.timer.update(),e=this.timer.getDelta());for(const c of this.passes)c.enabled&&(c.render(t,i,s,e,a),c.needsSwap&&(a&&(r.renderToScreen=c.renderToScreen,l=t.getContext(),o=t.state.buffers.stencil,o.setFunc(l.NOTEQUAL,1,4294967295),r.render(t,i,s,e,a),o.setFunc(l.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof kK?a=!0:c instanceof IK&&(a=!1))}setSize(e,t,r){const i=this.renderer,s=i.getSize(new ft);(e===void 0||t===void 0)&&(e=s.width,t=s.height),(s.width!==e||s.height!==t)&&i.setSize(e,t,r);const a=i.getDrawingBufferSize(new ft);this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height);for(const l of this.passes)l.setSize(a.width,a.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},_u={NONE:0,DEPTH:1,CONVOLUTION:2},_r={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},HK=class{constructor(){this.shaderParts=new Map([[_r.FRAGMENT_HEAD,null],[_r.FRAGMENT_MAIN_UV,null],[_r.FRAGMENT_MAIN_IMAGE,null],[_r.VERTEX_HEAD,null],[_r.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=_u.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=ga}},XS=!1,qR=class{constructor(n=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case yo:t=this.materialsFlatShadedDoubleSide;break;case qi:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case yo:t=this.materialsDoubleSide;break;case qi:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(n){if(!(n instanceof to))return n.clone();const e=n.uniforms,t=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,t.set(i,s))}const r=n.clone();for(const i of t)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(n){if(this.disposeMaterials(),this.material=n,n!==null){const e=this.materials=[this.cloneMaterial(n),this.cloneMaterial(n),this.cloneMaterial(n)];for(const t of e)t.uniforms=Object.assign({},n.uniforms),t.side=Rl;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},n.uniforms),r.side=qi,r}),this.materialsDoubleSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},n.uniforms),r.side=yo,r}),this.materialsFlatShaded=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},n.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},n.uniforms),r.flatShading=!0,r.side=qi,r}),this.materialsFlatShadedDoubleSide=e.map(t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},n.uniforms),r.flatShading=!0,r.side=yo,r})}}render(n,e,t){const r=n.shadowMap.enabled;if(n.shadowMap.enabled=!1,XS){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),n.render(e,t);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,n.render(e,t),e.overrideMaterial=i}n.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const n=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of n)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return XS}static set workaroundEnabled(n){XS=n}},uc=-1,rp=class extends va{constructor(n,e=uc,t=uc,r=1){super(),this.resizable=n,this.baseSize=new ft(1,1),this.preferredSize=new ft(e,t),this.target=this.preferredSize,this.s=r,this.effectiveSize=new ft,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const n=this.baseSize,e=this.preferredSize,t=this.effectiveSize,r=this.scale;e.width!==uc?t.width=e.width:e.height!==uc?t.width=Math.round(e.height*(n.width/Math.max(n.height,1))):t.width=Math.round(n.width*r),e.height!==uc?t.height=e.height:e.width!==uc?t.height=Math.round(e.width/Math.max(n.width/Math.max(n.height,1),1)):t.height=Math.round(n.height*r)}get width(){return this.effectiveSize.width}set width(n){this.preferredWidth=n}get height(){return this.effectiveSize.height}set height(n){this.preferredHeight=n}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(n){this.s!==n&&(this.s=n,this.preferredSize.setScalar(uc),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(n){this.scale=n}get baseWidth(){return this.baseSize.width}set baseWidth(n){this.baseSize.width!==n&&(this.baseSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(n){this.baseWidth=n}get baseHeight(){return this.baseSize.height}set baseHeight(n){this.baseSize.height!==n&&(this.baseSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(n){this.baseHeight=n}setBaseSize(n,e){(this.baseSize.width!==n||this.baseSize.height!==e)&&(this.baseSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(n){this.preferredSize.width!==n&&(this.preferredSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(n){this.preferredWidth=n}get preferredHeight(){return this.preferredSize.height}set preferredHeight(n){this.preferredSize.height!==n&&(this.preferredSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(n){this.preferredHeight=n}setPreferredSize(n,e){(this.preferredSize.width!==n||this.preferredSize.height!==e)&&(this.preferredSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(n){this.s=n.scale,this.baseSize.set(n.baseWidth,n.baseHeight),this.preferredSize.set(n.preferredWidth,n.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return uc}},ar={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},GK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",VK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",WK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",jK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",XK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",qK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",YK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",KK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",$K="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",QK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",JK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",ZK="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",e$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",t$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",n$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",r$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",i$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",s$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",o$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",a$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",l$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",u$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",c$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",f$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",h$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",d$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",p$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",m$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",g$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",v$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",y$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",_$="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",x$=new Map([[ar.ADD,GK],[ar.ALPHA,VK],[ar.AVERAGE,WK],[ar.COLOR,jK],[ar.COLOR_BURN,XK],[ar.COLOR_DODGE,qK],[ar.DARKEN,YK],[ar.DIFFERENCE,KK],[ar.DIVIDE,$K],[ar.DST,null],[ar.EXCLUSION,QK],[ar.HARD_LIGHT,JK],[ar.HARD_MIX,ZK],[ar.HUE,e$],[ar.INVERT,t$],[ar.INVERT_RGB,n$],[ar.LIGHTEN,r$],[ar.LINEAR_BURN,i$],[ar.LINEAR_DODGE,s$],[ar.LINEAR_LIGHT,o$],[ar.LUMINOSITY,a$],[ar.MULTIPLY,l$],[ar.NEGATION,u$],[ar.NORMAL,c$],[ar.OVERLAY,f$],[ar.PIN_LIGHT,h$],[ar.REFLECT,d$],[ar.SATURATION,p$],[ar.SCREEN,m$],[ar.SOFT_LIGHT,g$],[ar.SRC,v$],[ar.SUBTRACT,y$],[ar.VIVID_LIGHT,_$]]),S$=class extends va{constructor(n,e=1){super(),this._blendFunction=n,this.opacity=new ri(e)}getOpacity(){return this.opacity.value}setOpacity(n){this.opacity.value=n}get blendFunction(){return this._blendFunction}set blendFunction(n){this._blendFunction=n,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(n){this.blendFunction=n}getShaderCode(){return x$.get(this.blendFunction)}},eM=class extends va{constructor(n,e,{attributes:t=_u.NONE,blendFunction:r=ar.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:a=null,vertexShader:l=null}={}){super(),this.name=n,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=l,this.defines=i,this.uniforms=s,this.extensions=a,this.blendMode=new S$(r),this.blendMode.addEventListener("change",o=>this.setChanged()),this._inputColorSpace=ga,this._outputColorSpace=Qs}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(n){this._inputColorSpace=n,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(n){this._outputColorSpace=n,this.setChanged()}set mainScene(n){}set mainCamera(n){}getName(){return this.name}setRenderer(n){this.renderer=n}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(n){this.attributes=n,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(n){this.fragmentShader=n,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(n){this.vertexShader=n,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(n,e=Wc){}update(n,e,t){}setSize(n,e){}initialize(n,e,t){}dispose(){for(const n of Object.keys(this)){const e=this[n];(e instanceof _s||e instanceof $i||e instanceof Di||e instanceof Ol)&&this[n].dispose()}}},_c={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3};function w$(n,e,t){const r=new Map([[mx,1],[xb,1],[wb,2],[cs,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),t===Os){i=new Uint8Array(n*r.get(e));for(let s=0,a=i.length;s<a;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(n*r.get(e));for(let s=0,a=i.length;s<a;++s)i[s]=Math.random()}return i}var YR=class extends Oc{constructor(n,e,t=mx,r=Os){super(w$(n*e,t,r),n,e,t,r),this.needsUpdate=!0}},E$="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",E0="Glitch.Generated";function mo(n,e){return n+Math.random()*(e-n)}var M$=class extends eM{constructor({chromaticAberrationOffset:n=null,delay:e=new ft(1.5,3.5),duration:t=new ft(.6,1),strength:r=new ft(.3,1),columns:i=.05,ratio:s=.85,perturbationMap:a=null,dtSize:l=64}={}){if(super("GlitchEffect",E$,{uniforms:new Map([["perturbationMap",new ri(null)],["columns",new ri(i)],["active",new ri(!1)],["random",new ri(1)],["seeds",new ri(new ft)],["distortion",new ri(new ft)]])}),a===null){const o=new YR(l,l,cs);o.name=E0,this.perturbationMap=o}else this.perturbationMap=a;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=t,this.breakPoint=new ft(mo(this.delay.x,this.delay.y),mo(this.duration.x,this.duration.y)),this.strength=r,this.mode=_c.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=n}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(n){this.delay.x=n}getMinDelay(){return this.delay.x}setMinDelay(n){this.delay.x=n}get maxDelay(){return this.delay.y}set maxDelay(n){this.delay.y=n}getMaxDelay(){return this.delay.y}setMaxDelay(n){this.delay.y=n}get minDuration(){return this.duration.x}set minDuration(n){this.duration.x=n}getMinDuration(){return this.duration.x}setMinDuration(n){this.duration.x=n}get maxDuration(){return this.duration.y}set maxDuration(n){this.duration.y=n}getMaxDuration(){return this.duration.y}setMaxDuration(n){this.duration.y=n}get minStrength(){return this.strength.x}set minStrength(n){this.strength.x=n}getMinStrength(){return this.strength.x}setMinStrength(n){this.strength.x=n}get maxStrength(){return this.strength.y}set maxStrength(n){this.strength.y=n}getMaxStrength(){return this.strength.y}setMaxStrength(n){this.strength.y=n}getMode(){return this.mode}setMode(n){this.mode=n}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(n){this.ratio=Math.min(Math.max(1-n,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(n){this.uniforms.get("columns").value=n}getGlitchColumns(){return this.columns}setGlitchColumns(n){this.columns=n}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(n){this.chromaticAberrationOffset=n}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(n){const e=this.perturbationMap;e!==null&&e.name===E0&&e.dispose(),n.minFilter=n.magFilter=Vr,n.wrapS=n.wrapT=Fc,n.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=n}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(n){this.perturbationMap=n}generatePerturbationMap(n=64){const e=new YR(n,n,cs);return e.name=E0,e}update(n,e,t){const r=this.mode,i=this.breakPoint,s=this.chromaticAberrationOffset,a=this.strength;let l=this.time,o=!1,u=0,c=0,f;r!==_c.DISABLED&&(r===_c.SPORADIC&&(l+=t,f=l>i.x,l>=i.x+i.y&&(i.set(mo(this.delay.x,this.delay.y),mo(this.duration.x,this.duration.y)),l=0)),u=Math.random(),this.uniforms.get("random").value=u,f&&u>this.ratio||r===_c.CONSTANT_WILD?(o=!0,u*=a.y*.03,c=mo(-Math.PI,Math.PI),this.seeds.set(mo(-a.y,a.y),mo(-a.y,a.y)),this.distortion.set(mo(0,1),mo(0,1))):(f||r===_c.CONSTANT_MILD)&&(o=!0,u*=a.x*.03,c=mo(-Math.PI,Math.PI),this.seeds.set(mo(-a.x,a.x),mo(-a.x,a.x)),this.distortion.set(mo(0,1),mo(0,1))),this.time=l),s!==null&&(o?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=o}dispose(){const n=this.perturbationMap;n!==null&&n.name===E0&&n.dispose()}},aD=class extends Ol{constructor(n,e,t=null){super("RenderPass",n,e),this.needsSwap=!1,this.clearPass=new oD,this.overrideMaterialManager=t===null?null:new qR(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get renderToScreen(){return super.renderToScreen}set renderToScreen(n){super.renderToScreen=n,this.clearPass.renderToScreen=n}get overrideMaterial(){const n=this.overrideMaterialManager;return n!==null?n.material:null}set overrideMaterial(n){const e=this.overrideMaterialManager;n!==null?e!==null?e.setMaterial(n):this.overrideMaterialManager=new qR(n):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(n){this.overrideMaterial=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getSelection(){return this.selection}setSelection(n){this.selection=n}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(n){this.ignoreBackground=n}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(n){this.skipShadowMapUpdate=n}getClearPass(){return this.clearPass}render(n,e,t,r,i){const s=this.scene,a=this.camera,l=this.selection,o=a.layers.mask,u=s.background,c=n.shadowMap.autoUpdate,f=this.renderToScreen?null:e;l!==null&&a.layers.set(l.getLayer()),this.skipShadowMapUpdate&&(n.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(n,e),n.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(n,s,a):n.render(s,a),a.layers.mask=o,s.background=u,n.shadowMap.autoUpdate=c}},b$=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,T$="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",A$=class extends to{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ri(null),normalBuffer:new ri(null),texelSize:new ri(new ft)},blending:da,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:b$,vertexShader:T$})}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=Wc){this.depthBuffer=n,this.depthPacking=e}set normalBuffer(n){this.uniforms.normalBuffer.value=n,n!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(n){this.normalBuffer=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},C$=class extends Ol{constructor({normalBuffer:n=null,resolutionScale:e=.5,width:t=rp.AUTO_SIZE,height:r=rp.AUTO_SIZE,resolutionX:i=t,resolutionY:s=r}={}){super("DepthDownsamplingPass");const a=new A$;a.normalBuffer=n,this.fullscreenMaterial=a,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new _s(1,1,{minFilter:Vr,magFilter:Vr,depthBuffer:!1,type:ko}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const l=this.resolution=new rp(this,i,s,e);l.addEventListener("change",o=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(n,e=Wc){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e}render(n,e,t,r,i){n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(n,e)}initialize(n,e,t){const r=n.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},R$=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,P$="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",L$=class extends to{constructor(n,e,t,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Mp.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new ri(null),depthBuffer:new ri(null),resolution:new ri(new ft),texelSize:new ri(new ft),cameraNear:new ri(.3),cameraFar:new ri(1e3),aspect:new ri(1),time:new ri(0)},blending:da,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),n&&this.setShaderParts(n),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(r)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(n){this.uniforms.depthBuffer.value=n}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=Wc){this.depthBuffer=n,this.depthPacking=e}setShaderData(n){this.setShaderParts(n.shaderParts),this.setDefines(n.defines),this.setUniforms(n.uniforms),this.setExtensions(n.extensions)}setShaderParts(n){return this.fragmentShader=R$.replace(_r.FRAGMENT_HEAD,n.get(_r.FRAGMENT_HEAD)||"").replace(_r.FRAGMENT_MAIN_UV,n.get(_r.FRAGMENT_MAIN_UV)||"").replace(_r.FRAGMENT_MAIN_IMAGE,n.get(_r.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=P$.replace(_r.VERTEX_HEAD,n.get(_r.VERTEX_HEAD)||"").replace(_r.VERTEX_MAIN_SUPPORT,n.get(_r.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=sD(this.fragmentShader),this.needsUpdate=!0,this}setDefines(n){for(const e of n.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(n){for(const e of n.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(n){this.extensions={};for(const e of n)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(n){this.encodeOutput!==n&&(n?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(n){return this.encodeOutput}setOutputEncodingEnabled(n){this.encodeOutput=n}get time(){return this.uniforms.time.value}set time(n){this.uniforms.time.value=n}setDeltaTime(n){this.uniforms.time.value+=n}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof ji?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(n,e){const t=this.uniforms;t.resolution.value.set(n,e),t.texelSize.value.set(1/n,1/e),t.aspect.value=n/e}static get Section(){return _r}};function KR(n,e,t){for(const r of e){const i="$1"+n+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const a of t.entries())a[1]!==null&&t.set(a[0],a[1].replace(s,i))}}function O$(n,e,t){let r=e.getFragmentShader(),i=e.getVertexShader();const s=r!==void 0&&/mainImage/.test(r),a=r!==void 0&&/mainUv/.test(r);if(t.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(a&&t.attributes&_u.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!a)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const l=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,o=t.shaderParts;let u=o.get(_r.FRAGMENT_HEAD)||"",c=o.get(_r.FRAGMENT_MAIN_UV)||"",f=o.get(_r.FRAGMENT_MAIN_IMAGE)||"",p=o.get(_r.VERTEX_HEAD)||"",g=o.get(_r.VERTEX_MAIN_SUPPORT)||"";const v=new Set,x=new Set;if(a&&(c+=`	${n}MainUv(UV);
`,t.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const w=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);g+=`	${n}MainSupport(`,g+=w?`vUv);
`:`);
`;for(const E of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const T of E[1].split(/\s*,\s*/))t.varyings.add(T),v.add(T),x.add(T);for(const E of i.matchAll(l))x.add(E[1])}for(const w of r.matchAll(l))x.add(w[1]);for(const w of e.defines.keys())x.add(w.replace(/\([\w\s,]*\)/g,""));for(const w of e.uniforms.keys())x.add(w);x.delete("while"),x.delete("for"),x.delete("if"),e.uniforms.forEach((w,E)=>t.uniforms.set(n+E.charAt(0).toUpperCase()+E.slice(1),w)),e.defines.forEach((w,E)=>t.defines.set(n+E.charAt(0).toUpperCase()+E.slice(1),w));const S=new Map([["fragment",r],["vertex",i]]);KR(n,x,t.defines),KR(n,x,S),r=S.get("fragment"),i=S.get("vertex");const _=e.blendMode;if(t.blendModes.set(_.blendFunction,_),s){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(f+=e.inputColorSpace===Dr?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==Qs?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const w=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${n}MainImage(color0, UV, `,t.attributes&_u.DEPTH&&w.test(r)&&(f+="depth, ",t.readDepth=!0),f+=`color1);
	`;const E=n+"BlendOpacity";t.uniforms.set(E,_.opacity),f+=`color0 = blend${_.blendFunction}(color0, color1, ${E});

	`,u+=`uniform float ${E};

`}if(u+=r+`
`,i!==null&&(p+=i+`
`),o.set(_r.FRAGMENT_HEAD,u),o.set(_r.FRAGMENT_MAIN_UV,c),o.set(_r.FRAGMENT_MAIN_IMAGE,f),o.set(_r.VERTEX_HEAD,p),o.set(_r.VERTEX_MAIN_SUPPORT,g),e.extensions!==null)for(const w of e.extensions)t.extensions.add(w)}}var I$=class extends Ol{constructor(n,...e){super("EffectPass"),this.fullscreenMaterial=new L$(null,null,null,n),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(n){for(const e of this.effects)e.mainScene=n}set mainCamera(n){this.fullscreenMaterial.copyCameraSettings(n);for(const e of this.effects)e.mainCamera=n}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(n){this.fullscreenMaterial.encodeOutput=n}get dithering(){return this.fullscreenMaterial.dithering}set dithering(n){const e=this.fullscreenMaterial;e.dithering=n,e.needsUpdate=!0}setEffects(n){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=n.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const n=new HK;let e=0;for(const a of this.effects)if(a.blendMode.blendFunction===ar.DST)n.attributes|=a.getAttributes()&_u.DEPTH;else{if(n.attributes&a.getAttributes()&_u.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${a.name})`);O$("e"+e++,a,n)}let t=n.shaderParts.get(_r.FRAGMENT_HEAD),r=n.shaderParts.get(_r.FRAGMENT_MAIN_IMAGE),i=n.shaderParts.get(_r.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const a of n.blendModes.values())t+=a.getShaderCode().replace(s,`blend${a.blendFunction}`)+`
`;n.attributes&_u.DEPTH?(n.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,n.colorSpace===Dr&&(r+=`color0 = sRGBToLinear(color0);
	`),n.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,n.defines.set("UV","transformedUv")):n.defines.set("UV","vUv"),n.shaderParts.set(_r.FRAGMENT_HEAD,t),n.shaderParts.set(_r.FRAGMENT_MAIN_IMAGE,r),n.shaderParts.set(_r.FRAGMENT_MAIN_UV,i);for(const[a,l]of n.shaderParts)l!==null&&n.shaderParts.set(a,l.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(n)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(n,e=Wc){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(n,e)}render(n,e,t,r,i){for(const s of this.effects)s.update(n,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}}setSize(n,e){this.fullscreenMaterial.setSize(n,e);for(const t of this.effects)t.setSize(n,e)}initialize(n,e,t){this.renderer=n;for(const r of this.effects)r.initialize(n,e,t);this.updateMaterial(),t!==void 0&&t!==Os&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const n of this.effects)n.removeEventListener("change",this.listener),n.dispose()}handleEvent(n){switch(n.type){case"change":this.recompile();break}}},N$=class extends Ol{constructor(n,e,{renderTarget:t,resolutionScale:r=1,width:i=rp.AUTO_SIZE,height:s=rp.AUTO_SIZE,resolutionX:a=i,resolutionY:l=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new aD(n,e,new Yb);const o=this.renderPass;o.ignoreBackground=!0,o.skipShadowMapUpdate=!0;const u=o.getClearPass();u.overrideClearColor=new $t(7829503),u.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new _s(1,1,{minFilter:Vr,magFilter:Vr}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new rp(this,a,l,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(n){this.renderPass.mainScene=n}set mainCamera(n){this.renderPass.mainCamera=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,s,s)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}};let zm;function D$(){var n;if(zm!==void 0)return zm;try{let e;const t=document.createElement("canvas");return zm=!!(window.WebGL2RenderingContext&&(e=t.getContext("webgl2"))),e&&((n=e.getExtension("WEBGL_lose_context"))==null||n.loseContext()),zm}catch{return zm=!1}}const U$=Ae.createContext(null),$R=n=>(n.getAttributes()&_u.CONVOLUTION)===_u.CONVOLUTION,F$=ii.memo(Ae.forwardRef(({children:n,camera:e,scene:t,resolutionScale:r,enabled:i=!0,renderPriority:s=1,autoClear:a=!0,depthBuffer:l,enableNormalPass:o,stencilBuffer:u,multisampling:c=8,frameBufferType:f=mh},p)=>{const{gl:g,scene:v,camera:x,size:S}=QN(),_=t||v,w=e||x,[E,T,L]=Ae.useMemo(()=>{const F=D$(),P=new zK(g,{depthBuffer:l,stencilBuffer:u,multisampling:c>0&&F?c:0,frameBufferType:f});P.addPass(new aD(_,w));let N=null,K=null;return o&&(K=new N$(_,w),K.enabled=!1,P.addPass(K),r!==void 0&&F&&(N=new C$({normalBuffer:K.texture,resolutionScale:r}),N.enabled=!1,P.addPass(N))),[P,K,N]},[w,g,l,u,c,f,_,o,r]);Ae.useEffect(()=>E==null?void 0:E.setSize(S.width,S.height),[E,S]),oK((F,P)=>{if(i){const N=g.autoClear;g.autoClear=a,u&&!a&&g.clearStencil(),E.render(P),g.autoClear=N}},i?s:0);const A=Ae.useRef(null),O=sK(A);Ae.useLayoutEffect(()=>{const F=[];if(A.current&&O.current&&E){const P=O.current.objects;for(let N=0;N<P.length;N++){const K=P[N];if(K instanceof eM){const $=[K];if(!$R(K)){let le=null;for(;(le=P[N+1])instanceof eM&&!$R(le);)$.push(le),N++}const j=new I$(w,...$);F.push(j)}else K instanceof Ol&&F.push(K)}for(const N of F)E==null||E.addPass(N);T&&(T.enabled=!0),L&&(L.enabled=!0)}return()=>{for(const P of F)E==null||E.removePass(P);T&&(T.enabled=!1),L&&(L.enabled=!1)}},[E,n,w,T,L,O]),Ae.useEffect(()=>{const F=g.toneMapping;return g.toneMapping=qa,()=>{g.toneMapping=F}},[]);const U=Ae.useMemo(()=>({composer:E,normalPass:T,downSamplingPass:L,resolutionScale:r,camera:w,scene:_}),[E,T,L,r,w,_]);return Ae.useImperativeHandle(p,()=>E,[E]),ee.jsx(U$.Provider,{value:U,children:ee.jsx("group",{ref:A,children:n})})})),M0=(n,e)=>{const t=n[e];return ii.useMemo(()=>typeof t=="number"?new ft(t,t):t?new ft(...t):new ft,[t])},B$=Ae.forwardRef(function({active:e=!0,...t},r){const i=QN(c=>c.invalidate),s=M0(t,"delay"),a=M0(t,"duration"),l=M0(t,"strength"),o=M0(t,"chromaticAberrationOffset"),u=Ae.useMemo(()=>new M$({...t,delay:s,duration:a,strength:l,chromaticAberrationOffset:o}),[s,a,t,l,o]);return Ae.useLayoutEffect(()=>{u.mode=e?t.mode||_c.SPORADIC:_c.DISABLED,i()},[e,u,i,t.mode]),Ae.useEffect(()=>()=>{var c;(c=u.dispose)==null||c.call(u)},[u]),ee.jsx("primitive",{ref:r,object:u,dispose:null})}),QR={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class k${constructor(e,t,r){const i=this;let s=!1,a=0,l=0,o;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){l++,s===!1&&i.onStart!==void 0&&i.onStart(c,a,l),s=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,l),a===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return o?o(c):c},this.setURLModifier=function(c){return o=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,p=u.length;f<p;f+=2){const g=u[f],v=u[f+1];if(g.global&&(g.lastIndex=0),g.test(c))return v}return null}}}const z$=new k$;class aT{constructor(e){this.manager=e!==void 0?e:z$,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}aT.DEFAULT_MATERIAL_NAME="__DEFAULT";function tM(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const JR={};function qS(n){n in JR||(JR[n]=!0,console.warn(n))}class H$ extends aT{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=QR.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=tM("img");function o(){c(),QR.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){l.removeEventListener("load",o,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",o,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class G${addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const lD=300,ZR=1e3,b0=1001,eP=1002,V$=1006,W$=1008,j$=1009,X$=1023,q$=3e3,YS=3001,KS="",$S="srgb",Cs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function uD(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cs[n&255]+Cs[n>>8&255]+Cs[n>>16&255]+Cs[n>>24&255]+"-"+Cs[e&255]+Cs[e>>8&255]+"-"+Cs[e>>16&15|64]+Cs[e>>24&255]+"-"+Cs[t&63|128]+Cs[t>>8&255]+"-"+Cs[t>>16&255]+Cs[t>>24&255]+Cs[r&255]+Cs[r>>8&255]+Cs[r>>16&255]+Cs[r>>24&255]).toLowerCase()}function Y$(n,e,t){return Math.max(e,Math.min(t,n))}class ug{constructor(e=0,t=0){ug.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Y$(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hx{constructor(e,t,r,i,s,a,l,o,u){Hx.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,l,o,u)}set(e,t,r,i,s,a,l,o,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=l,c[3]=t,c[4]=s,c[5]=o,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],l=r[3],o=r[6],u=r[1],c=r[4],f=r[7],p=r[2],g=r[5],v=r[8],x=i[0],S=i[3],_=i[6],w=i[1],E=i[4],T=i[7],L=i[2],A=i[5],O=i[8];return s[0]=a*x+l*w+o*L,s[3]=a*S+l*E+o*A,s[6]=a*_+l*T+o*O,s[1]=u*x+c*w+f*L,s[4]=u*S+c*E+f*A,s[7]=u*_+c*T+f*O,s[2]=p*x+g*w+v*L,s[5]=p*S+g*E+v*A,s[8]=p*_+g*T+v*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],o=e[6],u=e[7],c=e[8];return t*a*c-t*l*u-r*s*c+r*l*o+i*s*u-i*a*o}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],o=e[6],u=e[7],c=e[8],f=c*a-l*u,p=l*o-c*s,g=u*s-a*o,v=t*f+r*p+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(l*r-i*a)*x,e[3]=p*x,e[4]=(c*t-i*o)*x,e[5]=(i*s-l*t)*x,e[6]=g*x,e[7]=(r*o-u*t)*x,e[8]=(a*t-r*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,l){const o=Math.cos(s),u=Math.sin(s);return this.set(r*o,r*u,-r*(o*a+u*l)+a+e,-i*u,i*o,-i*(-u*a+o*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(QS.makeScale(e,t)),this}rotate(e){return this.premultiply(QS.makeRotation(-e)),this}translate(e,t){return this.premultiply(QS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QS=new Hx;function JS(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}let Rd;class K${static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Rd===void 0&&(Rd=tM("canvas")),Rd.width=e.width,Rd.height=e.height;const r=Rd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Rd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=tM("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=JS(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(JS(t[r]/255)*255):t[r]=JS(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $$=0;class Q${constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$$++}),this.uuid=uD(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,l=i.length;a<l;a++)i[a].isDataTexture?s.push(ZS(i[a].image)):s.push(ZS(i[a]))}else s=ZS(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function ZS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?K$.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let J$=0;class Ic extends G${constructor(e=Ic.DEFAULT_IMAGE,t=Ic.DEFAULT_MAPPING,r=b0,i=b0,s=V$,a=W$,l=X$,o=j$,u=Ic.DEFAULT_ANISOTROPY,c=KS){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:J$++}),this.uuid=uD(),this.name="",this.source=new Q$(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=o,this.offset=new ug(0,0),this.repeat=new ug(1,1),this.center=new ug(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hx,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(qS("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===YS?$S:KS),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==lD)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ZR:e.x=e.x-Math.floor(e.x);break;case b0:e.x=e.x<0?0:1;break;case eP:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ZR:e.y=e.y-Math.floor(e.y);break;case b0:e.y=e.y<0?0:1;break;case eP:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return qS("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===$S?YS:q$}set encoding(e){qS("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===YS?$S:KS}}Ic.DEFAULT_IMAGE=null;Ic.DEFAULT_MAPPING=lD;Ic.DEFAULT_ANISOTROPY=1;class Z$ extends aT{constructor(e){super(e)}load(e,t,r,i){const s=new Ic,a=new H$(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}const eQ=({img:n})=>{const e=sT(Z$,n);return e.wrapS=Fc,e.wrapT=Fc,e.repeat.set(1,1),ee.jsxs("mesh",{scale:[16.8,8.4,1],children:[ee.jsx("planeGeometry",{}),ee.jsx("meshStandardMaterial",{map:e})]})},tQ="/maytry/assets/hero-image-Sq0mxbcj.jpg",nQ=({children:n})=>ee.jsxs("div",{className:"Fiber",children:[ee.jsxs(CK,{style:{width:"100%",height:"100%"},children:[ee.jsx(F$,{children:ee.jsx(B$,{delay:new ft(.25,1),duration:new ft(.6,1),strength:new ft(.3,1),mode:_c.SPORADIC,active:!0,ratio:.85})}),ee.jsx(eQ,{img:tQ}),ee.jsx("ambientLight",{intensity:1})]}),n&&ee.jsx("div",{className:"Fiber__children",children:n})]}),rQ=({})=>{const{data:n}=Eh(),{showStartBanner:e}=pt(),{showSearch:t}=pt(),{searchString:r}=pt(),{setSearchString:i}=pt(),{showFilter:s}=pt(),{filterBy:a}=pt(),{setFilterBy:l}=pt(),{showExtendedFilter:o}=pt(),{sortOrder:u}=pt(),{mainPageView:c}=pt(),{priceFrom:f}=pt(),{setPriceFrom:p}=pt(),{priceTo:g}=pt(),{setPriceTo:v}=pt(),{selectedColorIds:x}=pt(),{setSelectedColorIds:S}=pt(),{selectedSizesIds:_}=pt(),{setSelectedSizesIds:w}=pt(),E=Ae.useRef(null);return Ae.useEffect(()=>{t||i("")},[t]),Ae.useEffect(()=>{s||l([])},[s]),Ae.useEffect(()=>{o||(p(void 0),v(void 0),S([]),w([]))},[o]),ee.jsx(qQ,{children:({scrollTo:T})=>ee.jsxs("div",{className:"container-2",children:[e&&ee.jsx(nQ,{children:ee.jsx(yr,{transparent:!0,medium:!0,className:"flicker",onClick:()=>{var L;T(((L=E.current)==null?void 0:L.offsetTop)||0)},children:"Начать"})}),ee.jsx("div",{ref:E,className:`
              d-flex
              flex-${c==="IMG"?"row":"column"}
              flex-wrap
              justify-content-between
            `,children:n==null?void 0:n.items.filter(L=>!t||r.length===0||L.name.toLocaleLowerCase().includes(r.toLocaleLowerCase())).filter(L=>{var A;return!s||a.length===0||((A=L.categories)==null?void 0:A.map(O=>O.name).some(O=>a.includes(O)))}).filter(L=>!o||f===void 0?!0:sd(L)>=f).filter(L=>!o||g===void 0?!0:sd(L)<=g).filter(L=>{var A;return!o||x.length===0?!0:(A=L.color_price_size)==null?void 0:A.find(O=>{var U;return x.includes(((U=O.color)==null?void 0:U.id)||"")})}).filter(L=>{var A;return!o||_.length===0?!0:(A=L.color_price_size)==null?void 0:A.find(O=>{var U;return _.includes(((U=O.size)==null?void 0:U.id)||"")})}).sort((L,A)=>o?u==="asc"?sd(L)-sd(A):sd(A)-sd(L):0).map((L,A)=>{var O;return c==="IMG"?ee.jsx(IH,{...L},((O=L.oneC_item)==null?void 0:O.barcode)||A):ee.jsx(NH,{...L},L.id)})})]})})},iQ=()=>{const{setUser:n}=pt(),e=ax(),t=wh();return ee.jsx("div",{className:"container",children:ee.jsxs("div",{className:"row",children:[ee.jsx("h3",{className:"h3 mb-5",children:"Регистрация"}),ee.jsx("p",{className:"p"}),ee.jsx(gs,{children:ee.jsx(yr,{gray:!0,onClick:()=>{n(qL()),t("/account"),setTimeout(()=>e.invalidateQueries({queryKey:["user"]}),25)},children:"Зарегестрироваться"})})]})})},sQ=(n,e)=>`${n}${e?` ${e}`:""}`,oQ=n=>n.username?`@${n.username}`:sQ(n.first_name,n.last_name),aQ=()=>{const{user:n}=pt();return ee.jsx("div",{className:"container",children:n&&ee.jsxs(ee.Fragment,{children:["Привет, ",oQ(n)]})})},cD=({to:n})=>{const e=wh();return Ae.useEffect(()=>{e(n)},[]),ee.jsx("div",{children:"Redirect page"})},lQ=({})=>ee.jsx("div",{className:"container-2",children:"Заказ оформлен"}),uQ=({})=>{const{parselCreateError:n}=pt();return ee.jsxs("div",{className:"container-2",children:[ee.jsx("h4",{className:"h4 mt-5 mb-4 font-bold",children:"Ошибка"}),n||"Что-то пошло не так",ee.jsx(gs,{to:"/cart",className:"mt-4",children:ee.jsx(yr,{black:!0,children:"ЗАКАЗАТЬ ЕЩЁ РАЗ"})})]})},cQ=()=>lb("orders",fQ),fQ=async()=>mb("/orders"),hQ=({})=>{const{data:n}=cQ(),{data:e}=Eh();return ee.jsx("div",{className:"Orders",children:n==null?void 0:n.map(t=>ee.jsxs("div",{className:"Orders__item",children:[ee.jsxs("div",{className:"col-1 mb-2",children:["order_id:",ee.jsx("br",{}),t.details.order_id]}),ee.jsxs("div",{className:"col-1",children:["items: ",t.details.items.map(r=>{const i=e==null?void 0:e.items.find(s=>s.id===r.id);return console.log(i),console.log(r.id),ee.jsxs("div",{className:"",children:[r.name," × ",r.quantity]},r.id)})]}),Object.entries({...t.details,...t.parcel}).filter(([r])=>!["order_id","items"].includes(r)).map(([r,i])=>ee.jsxs("div",{className:"col-1 mb-2",children:[r,":",ee.jsx("br",{}),["price","payment_sum","delivery_sum"].includes(r)?la(i):i]},r))]},t.parcel.label))})},dQ=({})=>{const[n,e]=Ae.useState("loaded"),t=async()=>{e("loading");const r=await mb("/update-data");return e("loaded"),r};return ee.jsxs("div",{className:"container-2",children:[ee.jsx("div",{className:"row",children:ee.jsx("div",{className:"col",children:ee.jsx(yr,{black:!0,className:"d-inline-block",onClick:t,disabled:n==="loading",children:n==="loading"?"обновление...":"Обновить данные с 1С и contentful"})})}),ee.jsx("h4",{className:"h4 my-4 font-bold",children:"Заказы"}),ee.jsx(hQ,{})]})},pQ=async n=>SO("/delivery-calculation",n),fD=()=>{const n=wp(),{userZIP:e}=pt();return lb(["user-zip-delivery-price",e],async()=>e.length===6?await pQ({OrderSum:n,PaySum:n+300,DeliverySum:300,Zip:e}):await Promise.resolve({error:!0,message:"Неправильный почтовый индекс",result:{DeliveryCosts:[]}}))},mQ=()=>{var e,t;const{data:n}=fD();return n?n.error?-1:Math.ceil(parseFloat(((t=(e=n.result)==null?void 0:e.DeliveryCosts[0])==null?void 0:t.TotalPrice)+""))||-1:0},lT=()=>{const{deliveryType:n}=pt(),{boxberryData:e}=pt(),t=mQ();return Ae.useMemo(()=>n==="Пункт выдачи Boxberry"?parseInt((e==null?void 0:e.price)||"0"):t||-1,[n,e,t])},gQ=async n=>SO("/parsel-create",n),hD=()=>{const{deliveryType:n}=pt(),e=n==="Доставка до двери",{boxberryData:t}=pt(),{userZIP:r}=pt(),{userCity:i}=pt(),{userAddress:s}=pt(),{paymentType:a}=pt(),{emptyCart:l}=pt(),{itemsInCart:o}=pt(),u=wp(),c=lT(),f=u+c,p=wh(),{userFullName:g}=pt(),{userPhone:v}=pt(),{userEmail:x}=pt(),{setParselCreateError:S}=pt();return async()=>{const w=await gQ({price:u,payment_sum:a==="Оплата онлайн"?0:f,delivery_sum:c,pvz_number:e?void 0:(t==null?void 0:t.id)||"",zip:e?r:void 0,city:e?i:void 0,address:e?s:void 0,fio:g,phone:v,email:x,items:o.map(E=>({id:E.id,name:E.name,UnitName:"шт.",price:E.price,quantity:E.quantity}))});console.log(w),w.err?(S(w.err),p("/fail")):(l(),p("/success"))}},vQ=n=>{const{cp:e}=window,{amount:t,onSuccess:r,onFail:i,onComplete:s}=n;var a=new e.CloudPayments;a.pay("auth",{publicId:"pk_15732f58701e01bbff1459cfeb9bf",description:"Оплата товаров maytry",amount:t,currency:"RUB",skin:"mini",data:{myProp:"myProp value"},payer:{firstName:"Тест",lastName:"Тестов",middleName:"Тестович",birth:"1955-02-24",address:"тестовый проезд дом тест",street:"Lenina",city:"MO",country:"RU",phone:"123",postcode:"345"}},{onSuccess:r,onFail:i,onComplete:s})},yQ=({disabled:n})=>{const{boxberryData:e}=pt(),t=wp(),r=lT(),i=t+r,s=hD(),a=wh();return ee.jsxs(yr,{black:!0,disabled:!e||n,onClick:()=>vQ({amount:i,onSuccess:s,onFail:()=>{a("/fail")},onComplete:()=>{}}),children:["ОПЛАТИТЬ ",la(i)]})},_Q=({disabled:n})=>{const{paymentType:e}=pt(),{boxberryData:t}=pt(),r=!t||n,i=hD();return e==="Оплата онлайн"?ee.jsx(yQ,{disabled:r}):ee.jsx(yr,{black:!0,disabled:r,onClick:i,children:"ЗАКАЗАТЬ"})},dD=({selected:n,options:e,onChange:t,className:r})=>ee.jsx("div",{className:`Radio ${r}`,children:e.map(i=>ee.jsx("div",{onClick:()=>t(i),className:`
              Radio__option
              ${i===n&&"Radio__option--selected"}
            `,children:i},i))}),xQ=({})=>{const{paymentType:n}=pt(),{setPaymentType:e}=pt(),{itemsInCart:t}=pt(),{boxberryData:r}=pt(),i=wp(),s=lT(),a=i+s,{userFullName:l}=pt(),{userPhone:o}=pt(),{userEmail:u}=pt(),{deliveryType:c}=pt(),{userAddress:f}=pt(),{userZIP:p}=pt(),{userCity:g}=pt(),v=l.length<5||o.length<7||u.length<7||g.length<5||c==="Доставка до двери"&&(f.length<5||p.length!==6||s===-1);return ee.jsxs(ee.Fragment,{children:[ee.jsx("h4",{className:"h4 mt-5 mb-4 font-bold",children:"Товары"}),t.map((x,S)=>ee.jsxs("div",{className:"d-flex flex-row",children:[ee.jsxs("div",{className:"",children:[S+1,". ",x.name]}),ee.jsxs("div",{className:"ms-auto",children:[x.quantity," × ",la(x.salePrice||x.price)," = ",la((x.salePrice||x.price)*x.quantity)]})]},x.id)),ee.jsxs("div",{className:"d-flex flex-row mt-3",children:[ee.jsx("div",{className:"",children:"Доставка."}),ee.jsx("div",{className:"ms-auto",children:c==="Доставка до двери"?s!==-1?la(s):"Неверный почтовый индекс":r?la(s):"Выберите пункт выдачи"})]}),ee.jsxs("div",{className:"d-flex flex-row mt-3",children:[ee.jsx("div",{className:"",children:"Итого."}),ee.jsx("div",{className:"ms-auto",children:la(a)})]}),ee.jsx("h4",{className:"h4 mt-5 mb-4 font-bold",children:"Оплата"}),ee.jsx(dD,{selected:n,options:["Оплата онлайн","Оплата при получении"],onChange:x=>e(x),className:"mb-5"}),ee.jsx("div",{className:"d-flex flex-row justify-content-between py-3",children:ee.jsx(_Q,{disabled:v})})]})},fu=({value:n,onChange:e,type:t,label:r,placeholder:i,className:s,children:a,isSuccess:l,onBlur:o,min:u,max:c,_ref:f})=>ee.jsxs("div",{className:`Input ${s}`,children:[r&&ee.jsx("div",{className:"Input__label",children:r}),ee.jsx("input",{ref:f,type:t,className:`Input__input ${c&&"Input__input--max"} ${l&&"text-success form-control bg-transparent is-valid"}`,value:n,onBlur:o,autoComplete:"off",autoCorrect:"off",onChange:p=>e(p.target.value),min:t==="number"?u||"0":void 0,max:t==="number"&&c||void 0,placeholder:i}),a&&ee.jsx("div",{className:"Input__children",children:a})]}),SQ=n=>n.replace(/[^0-9+)]+/g,""),wQ=n=>n.replace(/[^(A-Z|a-z|0-9.-_@)]+/g,""),EQ=()=>{var i,s;const{data:n}=fD(),{boxberryData:e}=pt(),{deliveryType:t}=pt(),r=t==="Доставка до двери"?(s=(i=n==null?void 0:n.result)==null?void 0:i.DeliveryCosts[0])==null?void 0:s.DeliveryPeriod:(e==null?void 0:e.period)&&parseInt(e==null?void 0:e.period);return r?r+3:14},MQ=(n,e)=>n%100>=5&&n%100<=20||n%10>=5?e[2]:n%10===1?e[0]:e[1],bQ=n=>MQ(n,["день","дня","дней"]),TQ=({})=>{const{userFullName:n}=pt(),{setUserFullName:e}=pt(),{userPhone:t}=pt(),{setUserPhone:r}=pt(),{userEmail:i}=pt(),{setUserEmail:s}=pt(),{deliveryType:a}=pt(),{setDeliveryType:l}=pt(),{boxberryData:o}=pt(),{setBoxberryData:u}=pt(),{userCity:c}=pt(),{setUserCity:f}=pt(),{userAddress:p}=pt(),{setUserAddress:g}=pt(),{userZIP:v}=pt(),{setUserZIP:x}=pt(),S=EQ();return ee.jsxs(ee.Fragment,{children:[ee.jsx("h4",{className:"h4 mt-5 mb-4 font-bold",children:"Доставка"}),ee.jsx(dD,{selected:a,options:["Пункт выдачи Boxberry","Доставка до двери"],onChange:_=>l(_),className:"mb-2"}),ee.jsxs("div",{className:"",children:["Срок доставки: ",S," ",bQ(S)]}),ee.jsx("h4",{className:"h4 mt-5 mb-4 font-bold",children:"Адрес"}),a==="Доставка до двери"?ee.jsxs(ee.Fragment,{children:[ee.jsx(fu,{label:"Почтовый индекс",type:"number",value:v,onChange:x,className:"mb-2"}),ee.jsx(fu,{label:"Город",value:c,onChange:f,className:"mb-2"}),ee.jsx(fu,{label:"Адрес",value:p,onChange:g,className:"mb-2"})]}):ee.jsxs(ee.Fragment,{children:[ee.jsxs("div",{className:"mb-2",children:["Пункт выдачи: ",o?o.address:"Не выбран"]}),ee.jsx(yr,{black:!0,onClick:()=>u(void 0),children:"Поменять пункт выдачи"})]}),ee.jsx("h4",{className:"h4 mt-5 mb-4 font-bold",children:"Контакты"}),ee.jsx(fu,{label:"ФИО",value:n,onChange:e,className:"mb-2"}),ee.jsx(fu,{label:"Телефон",type:"tel",value:t,onChange:_=>r(SQ(_)),className:"mb-2"}),ee.jsx(fu,{label:"Email",type:"email",value:i,onChange:_=>s(wQ(_)),className:"mb-2"})]})},AQ=async()=>(await xi.get("https://ipapi.co/json/")).data,CQ=({})=>{const{userCity:n}=pt(),{setUserCity:e}=pt(),t=async()=>{e((await AQ()).city)};Ae.useEffect(()=>{n.length===0&&t()},[n]);const{setBoxberryData:r}=pt(),{setUserZIP:i}=pt(),{setUserAddress:s}=pt(),{boxberry:a}=window,l=c=>{r(c),i(c.zip),e(c.name),s(c.address.replace(`${c.zip}, ${c.name} г, `,""))},o=Ae.useRef(null),u=wp();return Ae.useEffect(()=>{o.current&&o.current.children.length===0&&n&&(a.openOnPage("boxberry_map"),a.open(l,"1$9ad707c2628d25fcd212a01daed532f3",n,"01010",u,500,0,30,70,70))},[n]),ee.jsx("div",{className:"Boxberry",children:ee.jsx("div",{id:"boxberry_map",ref:o})})},RQ=({})=>{const{deliveryType:n}=pt(),{boxberryData:e}=pt();return ee.jsx("div",{className:"container-2",children:ee.jsxs("div",{className:"row",children:[ee.jsx("div",{className:"col-9 col-md-5 pe-md-5",children:n==="Пункт выдачи Boxberry"&&!e?ee.jsx(CQ,{}):ee.jsx(TQ,{})}),ee.jsx("div",{className:"col-9 col-md-4 d-flex flex-column mb-5",children:ee.jsx(xQ,{})})]})})},nM=[{to:"/login",title:"Вход",Comp:ee.jsx(l7,{})},{to:"/register",title:"Регистрация",Comp:ee.jsx(iQ,{})},{to:"/account",title:"Аккаунт",Comp:ee.jsx(aQ,{})},{to:"/cart",title:"Корзина",Comp:ee.jsx(J2,{})},{to:"/checkout",title:"Оформление заказа",Comp:ee.jsx(RQ,{})},{to:"/success",title:"Заказ оформлен",Comp:ee.jsx(lQ,{})},{to:"/fail",title:"Что-то пошло не так",Comp:ee.jsx(uQ,{})},{to:"/account",title:"Корзина",Comp:ee.jsx(J2,{})},{to:"/admin",title:"Кабинет",Comp:ee.jsx(dQ,{})},{to:"/",exact:!0,title:"main",Comp:ee.jsx(rQ,{})},{to:"/*",title:"redirect",Comp:ee.jsx(cD,{to:"/"})}],PQ=n=>{const e="maytry: "+(n||"");return ii.useEffect(()=>{document.title=e},[n]),e},LQ=()=>{const n=Sh();return nM.find(e=>e.to.replace("*","")===n.pathname)},OQ=n=>Ae.createElement("svg",{id:"\\u0421\\u043B\\u043E\\u0439_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800",style:{enableBackground:"new 0 0 800 800"},xmlSpace:"preserve",...n},Ae.createElement("style",{type:"text/css"},`\r
	.st0{fill:#010202;}\r
	.st1{fill:#FFFFFF;}\r
`),Ae.createElement("rect",{x:0,y:.5,className:"st0",width:800,height:800}),Ae.createElement("g",null,Ae.createElement("path",{className:"st1",d:"M148.62,401.66h-17.26v-49.42l-37.23,29.29h-3.8l-60.12-46.65v-2.27h23.33l38.71,29.98l38.66-29.98h17.7 V401.66z"}),Ae.createElement("path",{className:"st1",d:"M232.02,348.25l-39.4,53.41h-18.3v-2.27l48.87-66.77h18l48.92,66.77v2.27h-18.44L232.02,348.25z"}),Ae.createElement("path",{className:"st1",d:"M356.89,364.28l33.63-31.66h21.35v2.27l-46.5,43.55v23.23h-17.26v-23.28l-46.41-43.5v-2.27h21.55 L356.89,364.28z"}),Ae.createElement("path",{className:"st1",d:"M528.12,348.15h-42.71v53.51h-17.26v-53.51h-42.71v-15.53h102.68V348.15z"}),Ae.createElement("path",{className:"st1",d:"M638.39,351.55v4.44c0,12.23-6.66,18.89-18.89,18.89h-11.74l32.3,24.51v2.27h-20.81l-45.91-34.52v-7.74h42.21 c4.83,0,5.57-0.79,5.57-5.62c0-4.88-0.74-5.62-5.57-5.62h-68.5v-15.53h72.45C631.73,332.62,638.39,339.27,638.39,351.55z"}),Ae.createElement("path",{className:"st1",d:"M713.45,364.28l33.63-31.66h21.35v2.27l-46.5,43.55v23.23h-17.26v-23.28l-46.41-43.5v-2.27h21.55 L713.45,364.28z"})),Ae.createElement("g",null,Ae.createElement("path",{className:"st1",d:"M231.34,453.12h-28.97c-2.06,0-2.37,0.31-2.37,2.37v11.26c0,2.06,0.31,2.37,2.37,2.37h28.97v6.54h-30.63 c-5.17,0-7.97-2.8-7.97-7.97v-13.12c0-5.17,2.8-7.97,7.97-7.97h30.63V453.12z"}),Ae.createElement("path",{className:"st1",d:"M278.33,454.55v13.12c0,5.17-2.8,7.97-7.95,7.97H244.1c-5.17,0-7.97-2.8-7.97-7.97v-13.12 c0-5.17,2.8-7.97,7.97-7.97h26.27C275.52,446.58,278.33,449.38,278.33,454.55z M245.76,469.11h22.95c2.04,0,2.35-0.31,2.35-2.37 v-11.26c0-2.06-0.31-2.37-2.35-2.37h-22.95c-2.06,0-2.37,0.31-2.37,2.37v11.26C243.4,468.8,243.71,469.11,245.76,469.11z"}),Ae.createElement("path",{className:"st1",d:"M291.38,456.46v19.19h-7.27v-29.49h3.63l29.59,19.31v-18.9h7.27v29.49h-3.63L291.38,456.46z"}),Ae.createElement("path",{className:"st1",d:"M369.99,453.12h-17.98v22.53h-7.27v-22.53h-17.98v-6.54h43.24V453.12z"}),Ae.createElement("path",{className:"st1",d:"M406.95,454.55v1.87c0,5.15-2.8,7.95-7.95,7.95h-4.94l13.6,10.32v0.96h-8.76l-19.33-14.54v-3.26h17.78 c2.04,0,2.35-0.33,2.35-2.37c0-2.06-0.31-2.37-2.35-2.37h-28.85v-6.54h30.51C404.14,446.58,406.95,449.38,406.95,454.55z"}),Ae.createElement("path",{className:"st1",d:"M453.68,454.55v13.12c0,5.17-2.8,7.97-7.95,7.97h-26.27c-5.17,0-7.97-2.8-7.97-7.97v-13.12 c0-5.17,2.8-7.97,7.97-7.97h26.27C450.88,446.58,453.68,449.38,453.68,454.55z M421.12,469.11h22.95c2.04,0,2.35-0.31,2.35-2.37 v-11.26c0-2.06-0.31-2.37-2.35-2.37h-22.95c-2.06,0-2.37,0.31-2.37,2.37v11.26C418.75,468.8,419.06,469.11,421.12,469.11z"}),Ae.createElement("path",{className:"st1",d:"M466.78,446.58v22.53h30.07v6.54h-37.38v-29.07H466.78z"}),Ae.createElement("path",{className:"st1",d:"M506.56,446.58v22.53h30.07v6.54h-37.38v-29.07H506.56z"}),Ae.createElement("path",{className:"st1",d:"M539.03,446.58h35.68v6.54h-35.68V446.58z M539.03,469.11h36.22v6.54h-36.22V469.11z M552.63,457.85v6.52 H539.3v-6.52H552.63z"}),Ae.createElement("path",{className:"st1",d:"M618.35,454.55v13.12c0,5.17-2.8,7.97-7.95,7.97h-30.22v-6.54h28.53c2.06,0,2.37-0.31,2.37-2.37v-11.26 c0-2.06-0.31-2.37-2.37-2.37h-28.53v-6.54h30.22C615.54,446.58,618.35,449.38,618.35,454.55z"}),Ae.createElement("path",{className:"st1",d:"M257.37,528.9v13.12c0,5.17-2.8,7.97-7.95,7.97h-30.22v-6.54h28.53c2.06,0,2.37-0.31,2.37-2.37v-11.26 c0-2.06-0.31-2.37-2.37-2.37h-28.53v-6.54h30.22C254.56,520.93,257.37,523.73,257.37,528.9z"}),Ae.createElement("path",{className:"st1",d:"M270.42,520.93V550h-7.27v-29.07H270.42z"}),Ae.createElement("path",{className:"st1",d:"M312.09,527.47h-26.48c-2.04,0-2.37,0.31-2.37,2.33c0,2.01,0.33,2.35,2.37,2.35h20.19 c5.15,0,7.95,2.8,7.95,7.95v1.93c0,5.17-2.8,7.97-7.95,7.97h-29.95v-6.54h28.29c2.04,0,2.35-0.31,2.35-2.37v-0.06 c0-2.06-0.31-2.37-2.35-2.37h-20.19c-5.15,0-7.97-2.8-7.97-7.95v-1.81c0-5.17,2.82-7.97,7.97-7.97h28.14V527.47z"}),Ae.createElement("path",{className:"st1",d:"M358.4,527.47h-17.98V550h-7.27v-22.53h-17.98v-6.54h43.24V527.47z"}),Ae.createElement("path",{className:"st1",d:"M402.47,528.9v13.12c0,5.17-2.8,7.97-7.95,7.97h-26.27c-5.17,0-7.97-2.8-7.97-7.97V528.9 c0-5.17,2.8-7.97,7.97-7.97h26.27C399.67,520.93,402.47,523.73,402.47,528.9z M369.91,543.46h22.95c2.04,0,2.35-0.31,2.35-2.37 v-11.26c0-2.06-0.31-2.37-2.35-2.37h-22.95c-2.06,0-2.37,0.31-2.37,2.37v11.26C367.54,543.15,367.85,543.46,369.91,543.46z"}),Ae.createElement("path",{className:"st1",d:"M443.06,528.9v1.87c0,5.15-2.8,7.95-7.96,7.95h-4.94l13.6,10.32V550H435l-19.33-14.54v-3.26h17.78 c2.04,0,2.35-0.33,2.35-2.37c0-2.06-0.31-2.37-2.35-2.37H404.6v-6.54h30.51C440.26,520.93,443.06,523.73,443.06,528.9z"}),Ae.createElement("path",{className:"st1",d:"M487.2,527.47h-17.98V550h-7.27v-22.53h-17.98v-6.54h43.24V527.47z"}),Ae.createElement("path",{className:"st1",d:"M496.62,520.93V550h-7.27v-29.07H496.62z"}),Ae.createElement("path",{className:"st1",d:"M544.61,528.9v13.12c0,5.17-2.8,7.97-7.95,7.97h-26.27c-5.17,0-7.97-2.8-7.97-7.97V528.9 c0-5.17,2.8-7.97,7.97-7.97h26.27C541.81,520.93,544.61,523.73,544.61,528.9z M512.05,543.46H535c2.04,0,2.35-0.31,2.35-2.37 v-11.26c0-2.06-0.31-2.37-2.35-2.37h-22.95c-2.06,0-2.37,0.31-2.37,2.37v11.26C509.68,543.15,509.99,543.46,512.05,543.46z"}),Ae.createElement("path",{className:"st1",d:"M557.66,530.81V550h-7.27v-29.49h3.63l29.59,19.31v-18.9h7.27v29.49h-3.63L557.66,530.81z"}))),rM=(n,e)=>n.includes(e)?n.filter(t=>t!==e):[...n,e],IQ=({colors:n,selectedColorIds:e,onChange:t,className:r})=>ee.jsx("div",{className:`ColorSelector ${r}`,children:ee.jsxs("div",{className:"d-flex flex-row align-items-center flex-wrap",children:[ee.jsx("p",{className:"m-0 me-3",children:"Цвета:"}),n.map(i=>ee.jsx(ub,{...i,selected:e.includes(i.id),onClick:()=>t(rM(e,i.id)),className:"me-3"},i.id))]})}),pD=({sizes:n,selectedIds:e,onChange:t,className:r})=>ee.jsx("div",{className:`SizeSelector ${r}`,children:ee.jsxs("div",{className:"d-flex flex-row",children:[ee.jsx("div",{className:"me-3",children:"Размер:"}),n.map((i,s)=>ee.jsx("div",{className:`
              me-3 cursor-pointer no-select
              ${!i.available&&"text-disabled"}
              ${e.includes(i.id)&&i.available&&"text-underline"}
            `,onClick:()=>i.available&&t(i.id),children:i.name},s))]})}),NQ=({})=>{var w,E;const{itemsInCart:n}=pt(),e=n.map(T=>T.quantity).reduce((T,L)=>T+L,0),t=LQ(),r=(t==null?void 0:t.to)==="/",i=(t==null?void 0:t.to)==="/cart",{user:s}=pt(),{showAccount:a}=pt(),{setShowAccount:l}=pt(),{setShowSearch:o}=pt(),{setShowFilter:u}=pt(),{showExtendedFilter:c}=pt(),{setShowExtendedFilter:f}=pt(),{setUser:p}=pt(),g=ax(),v=Ae.useRef(null),[x,S]=Ae.useState(!1);Ae.useEffect(()=>f(r&&x),[r,x]);const _=()=>{f(!1),S(!1)};return Ae.useEffect(()=>{_(),u(!1),o(!1)},[t]),ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"Header Header--relative",style:(w=v.current)!=null&&w.clientHeight?{minHeight:(c?(E=v.current)==null?void 0:E.clientHeight:80)+"px"}:{}}),ee.jsx("div",{ref:v,className:"Header Header--fixed",children:ee.jsxs("div",{className:"container-2",children:[ee.jsxs("div",{className:"Header__top",children:[ee.jsx(gs,{to:"/",children:ee.jsx(OQ,{className:"Header__logo"})}),r?ee.jsx("div",{className:`Header__burger ms-auto ${x&&"Header__burger--opened"}`,onClick:()=>S(!x)}):ee.jsx(gs,{to:"/cart",className:"ms-auto mobile-only",children:ee.jsxs(yr,{black:!0,children:["КОРЗИНА (",e,")"]})}),ee.jsxs("div",{className:"Header__desktop",children:[r?ee.jsx(DQ,{}):ee.jsx(gs,{to:"/",children:ee.jsx(yr,{children:i?"ПРОДОЛЖИТЬ ПОКУПКИ":"НА ГЛАВНУЮ"})}),ee.jsxs("div",{className:"d-flex flex-row ms-auto",children:[s?ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"Header__section d-flex justify-content-end",children:ee.jsx(gs,{to:"/account",className:"d-inline-block",children:ee.jsx(yr,{hoverable:!0,children:"АККАУНТ"})})}),ee.jsx("div",{className:"Header__section d-flex justify-content-end",children:ee.jsx(yr,{hoverable:!0,onClick:()=>{p(null),setTimeout(()=>g.invalidateQueries({queryKey:["user"]}),25)},children:"ВЫЙТИ"})})]}):a?ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"Header__section d-flex justify-content-end",children:ee.jsx(gs,{to:"/login",className:"d-inline-block",children:ee.jsx(yr,{hoverable:!0,children:"ВХОД"})})}),ee.jsx("div",{className:"Header__section d-flex justify-content-end",children:ee.jsx(gs,{to:"/register",className:"d-inline-block",children:ee.jsx(yr,{hoverable:!0,children:"РЕГИСТРАЦИЯ"})})}),ee.jsx(yr,{onClick:()=>l(!1),children:"ЗАКРЫТЬ"})]}):ee.jsx(yr,{onClick:()=>{l(!0),o(!1),u(!1)},children:"АККАУНТ"}),ee.jsx("div",{className:"Header__section d-flex justify-content-end",children:ee.jsx(gs,{to:"/cart",className:"d-inline-block",children:ee.jsxs(yr,{black:!0,children:["КОРЗИНА (",e,")"]})})})]})]})]}),x&&ee.jsxs("div",{className:`Header__mobile ${!r&&"py-5"}`,children:[!r&&ee.jsx(gs,{to:"/",children:ee.jsx(yr,{children:i?"ПРОДОЛЖИТЬ ПОКУПКИ":"НА ГЛАВНУЮ"})}),ee.jsx(gs,{to:"/cart",className:"d-inline-block ms-auto",onClick:_,children:ee.jsxs(yr,{black:!0,children:["КОРЗИНА (",e,")"]})})]}),c&&ee.jsx(UQ,{})]})})]})},DQ=()=>{var x;const{showSearch:n}=pt(),{setShowSearch:e}=pt(),{searchString:t}=pt(),{setSearchString:r}=pt(),{showFilter:i}=pt(),{setShowFilter:s}=pt(),{filterBy:a}=pt(),{setFilterBy:l}=pt(),{showExtendedFilter:o}=pt(),{setShowExtendedFilter:u}=pt(),{setShowAccount:c}=pt(),{setPriceFrom:f}=pt(),{setPriceTo:p}=pt(),{data:g}=Eh(),v=((x=g==null?void 0:g.sites[0])==null?void 0:x.header_filter_categories)||[];return ee.jsxs("div",{className:"d-flex",children:[ee.jsx("div",{className:"Header__section",children:ee.jsx(yr,{onClick:()=>{i||(c(!1),e(!1)),u(!1),s(!i)},children:"ФИЛЬТР"})}),i?ee.jsxs(ee.Fragment,{children:[v.map((S,_)=>ee.jsx(yr,{hoverable:!0,gray:a.includes(S.name)&&!o,onClick:()=>{l([S.name]),u(!1)},children:S.name},_)),ee.jsx(yr,{hoverable:!0,gray:o,onClick:()=>{l([]),u(!0)},children:"Расширенный фильтр"}),ee.jsx(yr,{onClick:()=>{s(!1),u(!1),f(void 0),p(void 0)},className:"ms-5",children:"ЗАКРЫТЬ"})]}):ee.jsx(ee.Fragment,{children:n?ee.jsxs(ee.Fragment,{children:[ee.jsx(fu,{className:"Header__section",value:t,onChange:r}),ee.jsx(yr,{onClick:()=>e(!1),children:"ЗАКРЫТЬ"})]}):ee.jsx(yr,{onClick:()=>{e(!0),c(!1),s(!1)},children:"ПОИСК"})})]})},UQ=()=>{const{data:n}=Eh(),{filterBy:e}=pt(),{setFilterBy:t}=pt(),{priceFrom:r}=pt(),{setPriceFrom:i}=pt(),{priceTo:s}=pt(),{setPriceTo:a}=pt(),{sortOrder:l}=pt(),{setSortOrder:o}=pt(),{selectedColorIds:u}=pt(),{setSelectedColorIds:c}=pt(),{selectedSizesIds:f}=pt(),{setSelectedSizesIds:p}=pt();return ee.jsx("div",{className:"Header__extended-filter",children:ee.jsxs("div",{className:"d-flex flex-column",children:[ee.jsxs("div",{className:"d-flex flex-row align-items-center my-3",children:[ee.jsx("p",{className:"m-0",children:"Категории:"}),n==null?void 0:n.categorys.map((g,v)=>ee.jsx(yr,{hoverable:!0,gray:e.includes(g.name),onClick:()=>{t(rM(e,g.name))},children:g.name},v))]}),ee.jsxs("div",{className:"d-flex flex-row my-3",children:[ee.jsx("p",{className:"m-0",children:"Цена:"}),ee.jsx(fu,{className:"Header__section ms-3",type:"number",value:r===void 0?"":r,onChange:g=>i(parseInt(g)||void 0),placeholder:"от"}),ee.jsx(fu,{className:"Header__section ms-3",type:"number",value:s===void 0?"":s,onChange:g=>a(parseInt(g)||void 0),placeholder:"до"})]}),ee.jsxs("div",{className:"d-flex flex-row my-3",children:[ee.jsx("p",{className:"m-0",children:"Сортировка по:"}),ee.jsxs("p",{className:"m-0 ms-3 cursor-pointer no-select",onClick:()=>o(l==="asc"?"desc":"asc"),children:["Цене ",l==="asc"?"↑":"↓"]})]}),ee.jsx(IQ,{colors:(n==null?void 0:n.colors)||[],selectedColorIds:u,onChange:c,className:"my-3"}),ee.jsx(pD,{sizes:((n==null?void 0:n.sizes)||[]).map(g=>({...g,available:!0})),selectedIds:f,onChange:g=>p(rM(f,g)),className:"my-3"})]})})},FQ=({})=>{var t;const{data:n}=Eh(),e=n==null?void 0:n.sites[0];return ee.jsx("div",{className:"Footer",children:ee.jsx("div",{className:"container-2",children:ee.jsxs("div",{className:"row py-5",children:[ee.jsx("div",{className:"col-sm-10 col-md-5 pt-2 pb-4",children:(t=e==null?void 0:e.footer_links)==null?void 0:t.map(r=>ee.jsx(gs,{to:r.link,className:r.new_line?"d-block mb-4":"",children:ee.jsx(yr,{className:"p-0",children:r.title})},r.link))}),ee.jsx("div",{className:"col-sm-10 col-md-5",children:"© 2024 by @the_sociophobic"})]})})})},BQ=({title:n,children:e})=>{PQ(n);const t=Sh(),{setShowExtendedFilter:r}=pt();return Ae.useEffect(()=>{t.pathname!=="/"&&r(!1)},[t.pathname]),ee.jsxs(ee.Fragment,{children:[ee.jsx(NQ,{}),e,!t.pathname.includes("/item/")&&ee.jsx(FQ,{})]})},tP=({className:n,...e})=>{const t=MO(e.color_price_size),r=t.find(x=>x.sizes.some(S=>S.max_available>0)),[i,s]=Ae.useState(r),a=(i==null?void 0:i.sizes)||[],l=a.find(x=>x.max_available>0),[o,u]=Ae.useState(l);Ae.useEffect(()=>{u(l)},[i]);const{itemsInCart:c}=pt(),f={...e,...o||{size:{id:"",name:""},price:0,max_available:0},color:i==null?void 0:i.color,quantity:0,id:o?o.id:"",item_number:""},p=c.find(x=>x.id===(o==null?void 0:o.id))||f,{setItemInCart:g}=pt(),v=wh();return ee.jsx("div",{className:n,children:ee.jsxs("div",{className:"position-sticky pe-4",style:{top:"100px"},children:[ee.jsx("h3",{className:"h3 mb-5",children:e.name}),ee.jsxs("div",{className:"mb-4",children:[ee.jsx("div",{className:"d-flex flex-column mb-4",children:t.map((x,S)=>{var w,E,T;const _=x==null?void 0:x.sizes.map(L=>L.max_available>0).reduce((L,A)=>L||A);return ee.jsxs("div",{className:`
                      d-flex flex-row mb-2 cursor-pointer
                      ${!_&&"text-disabled"}
                    `,onClick:()=>_&&s(x),children:[ee.jsx(ub,{...x.color,className:"me-3",selected:((w=i==null?void 0:i.color)==null?void 0:w.id)===((E=x.color)==null?void 0:E.id)}),(T=x.color)==null?void 0:T.name]},S)})}),ee.jsx(pD,{sizes:a.map(x=>({...x.size,available:x.max_available>0})),selectedIds:[(o==null?void 0:o.size.id)||""],onChange:x=>u(a.find(S=>S.size.id===x))}),ee.jsxs("div",{className:"d-flex flex-row mt-3 mb-4",children:[ee.jsx("div",{className:"me-3",children:"Цена:"}),ee.jsx(cb,{...o?JL.pick(o,"price","salePrice"):{price:e.defaultPrice||0,salePrice:e.defaultSalePrice}})]}),p.quantity>0?ee.jsx(QL,{value:p.quantity,onChange:x=>g(p,x),max:p.max_available}):o&&(o==null?void 0:o.max_available)>0?ee.jsx(yr,{black:!0,className:"",onClick:()=>{g(p,1),v("/cart")},children:"В КОРЗИНУ"}):""]}),ee.jsx("div",{className:"ItemPage__description",children:e.description})]})})},ew=80,kQ=n=>{const[e,t]=Ae.useState(!1),[r,i]=Ae.useState(0),s=Ae.useRef(null),a=Ae.useRef(null),l=Ae.useRef(null);Ae.useEffect(()=>{s.current&&s.current.addEventListener("scroll",x=>{if(!a.current)return;const{scrollTop:S}=x.target,{children:_}=a.current;let w=1e3,E=0;[..._].forEach((T,L)=>{const A=Math.abs(T.offsetTop-ew-S);A<w&&(w=A,E=L)}),i(E)})},[s.current]);const o=x=>{if(!a.current||!s.current)return;const{children:S}=a.current,_=[...S].find((w,E)=>E===x);_&&s.current.scrollTo(0,_.offsetTop-ew)},u=x=>{if(!l.current||!s.current)return;const{children:S}=l.current,_=[...S].filter(w=>w.classList.contains("Img")).find((w,E)=>E===x);_&&s.current.scrollTo(0,_.offsetTop-ew)},c=Ae.useRef(null),[f,p]=Ae.useState(-1),g=x=>{const S=x.changedTouches[0],_=c.current;if(!S||!_)return;const w=(S.pageY-_.getBoundingClientRect().top)/_.clientHeight,E=Math.floor(w*n.images.length);u(E),p(E)},v=()=>{p(-1)};return ee.jsx("div",{ref:s,className:"ItemPage",children:ee.jsxs("div",{className:"container-2",children:[ee.jsxs("div",{className:"row desktop-only",children:[!e&&ee.jsx(tP,{className:"col-3",...n}),ee.jsx("div",{className:`col-${e?6:3}`,children:ee.jsxs("div",{ref:a,className:"d-flex flex-column",children:[n.images.map((x,S)=>ee.jsx(oE,{file:e&&x.large||x.small,className:`mb-2 cursor-zoom-${e?"out":"in"}`,onClick:()=>{t(!e),setTimeout(()=>o(S),25)}},x.id)),n.images.length===0&&ee.jsx(I_,{img:void 0,className:`mb-2 cursor-zoom-${e?"out":"in"}`,onClick:()=>{t(!e),setTimeout(()=>o(0),25)}})]})}),ee.jsx("div",{className:"col-3",children:ee.jsx("div",{className:"position-sticky",style:{top:"100px"},children:n.images.map((x,S)=>ee.jsx(yr,{className:S===r&&"text-underline",onMouseOver:()=>o(S),children:x.title},x.id+"_anchor"))})})]}),ee.jsxs("div",{className:"row mobile-only",children:[ee.jsxs("div",{className:"col",ref:l,children:[ee.jsx(I_,{img:n.images[0],className:"mb-2"}),ee.jsx(tP,{className:"mb-5",...n}),n.images.slice(1).map(x=>ee.jsx(oE,{file:x.small,className:"mb-2"},x.id))]}),ee.jsx("div",{className:"col-1",children:ee.jsx("div",{ref:c,className:"position-sticky",style:{top:"30px",touchAction:"none"},onTouchMove:g,onTouchEnd:v,children:n.images.map((x,S)=>ee.jsx("div",{className:"ItemPage__ImgSelectorMobile",onClick:()=>u(S),children:f===S&&ee.jsx("div",{className:"ItemPage__ImgSelectorMobile__tooltip",children:x.title})},x.id))})})]})]})})},zQ=({title:n,text:e})=>ee.jsx("div",{className:"container",children:ee.jsxs("div",{className:"row",children:[ee.jsx("h3",{className:"h3 mb-5",children:n}),ee.jsx("p",{className:"p",children:e})]})}),HQ=()=>{const{user:n}=pt(),{data:e}=Eh();Ae.useEffect(()=>pt.setState({user:n}),[n]);const t=Ae.useMemo(()=>D8(GQ([...n?nM.slice(2):nM.filter(r=>r.to!=="/account"),...e?VQ(e):[]])),[e,n]);return e?ee.jsx(V8,{router:t}):ee.jsx(P6,{})},GQ=n=>n.map(e=>({key:e.to,path:e.to,element:ee.jsx(BQ,{title:e.title,children:e.Comp}),errorElement:ee.jsx(cD,{to:"/"})})),VQ=n=>[...n.items.map(e=>({to:"/item/"+e.link,title:e.name,Comp:ee.jsx(kQ,{...e})}))||[],...n.pages.map(e=>({to:e.link.link,title:e.link.title,Comp:ee.jsx(zQ,{...e})}))||[]],WQ=new K6({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0}}}),jQ=({children:n})=>ee.jsx(e7,{client:WQ,children:n}),{Provider:XQ,Consumer:qQ}=Ae.createContext({scrollTo:n=>{}});function YQ(){const{setShowStartBanner:n}=pt(),e=Ae.useRef(null),t=r=>{let i=0;const s=()=>{if(!e.current)return;const a=r-80,{scrollTop:l}=e.current,o=Math.floor(l+(a-l)*.25);e.current.scrollTo(0,o),Math.abs(l-a)>3&&i<7?(i+=1,requestAnimationFrame(s)):n(!1)};requestAnimationFrame(s)};return ee.jsx(jQ,{children:ee.jsx("div",{className:"App",children:ee.jsx("div",{className:"content",ref:e,children:ee.jsx(XQ,{value:{scrollTo:t},children:ee.jsx(HQ,{contentRef:e})})})})})}tw.createRoot(document.getElementById("root")).render(ee.jsx(ii.StrictMode,{children:ee.jsx(YQ,{})}));
